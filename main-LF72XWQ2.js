var TM=Object.defineProperty,DM=Object.defineProperties;var bM=Object.getOwnPropertyDescriptors;var gw=Object.getOwnPropertySymbols,CM=Object.getPrototypeOf,SM=Object.prototype.hasOwnProperty,AM=Object.prototype.propertyIsEnumerable,RM=Reflect.get;var mw=(n,e,t)=>e in n?TM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,z=(n,e)=>{for(var t in e||={})SM.call(e,t)&&mw(n,t,e[t]);if(gw)for(var t of gw(e))AM.call(e,t)&&mw(n,t,e[t]);return n},Fe=(n,e)=>DM(n,bM(e));var Jr=(n,e,t)=>RM(CM(n),t,e);var T=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var Gn=globalThis;function mn(n){return(Gn.__Zone_symbol_prefix||"__zone_symbol__")+n}function NM(){let n=Gn.performance;function e(ve){n&&n.mark&&n.mark(ve)}function t(ve,G){n&&n.measure&&n.measure(ve,G)}e("Zone");let r=(()=>{class ve{static __symbol__=mn;static assertZonePatched(){if(Gn.Promise!==I.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let C=ve.current;for(;C.parent;)C=C.parent;return C}static get current(){return D.zone}static get currentTask(){return _}static __load_patch(C,R,Z=!1){if(I.hasOwnProperty(C)){let se=Gn[mn("forceDuplicateZoneCheck")]===!0;if(!Z&&se)throw Error("Already loaded patch: "+C)}else if(!Gn["__Zone_disable_"+C]){let se="Zone:"+C;e(se),I[C]=R(Gn,ve,w),t(se,se)}}get parent(){return this._parent}get name(){return this._name}_parent;_name;_properties;_zoneDelegate;constructor(C,R){this._parent=C,this._name=R?R.name||"unnamed":"<root>",this._properties=R&&R.properties||{},this._zoneDelegate=new o(this,this._parent&&this._parent._zoneDelegate,R)}get(C){let R=this.getZoneWith(C);if(R)return R._properties[C]}getZoneWith(C){let R=this;for(;R;){if(R._properties.hasOwnProperty(C))return R;R=R._parent}return null}fork(C){if(!C)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,C)}wrap(C,R){if(typeof C!="function")throw new Error("Expecting function got: "+C);let Z=this._zoneDelegate.intercept(this,C,R),se=this;return function(){return se.runGuarded(Z,this,arguments,R)}}run(C,R,Z,se){D={parent:D,zone:this};try{return this._zoneDelegate.invoke(this,C,R,Z,se)}finally{D=D.parent}}runGuarded(C,R=null,Z,se){D={parent:D,zone:this};try{try{return this._zoneDelegate.invoke(this,C,R,Z,se)}catch(Le){if(this._zoneDelegate.handleError(this,Le))throw Le}}finally{D=D.parent}}runTask(C,R,Z){if(C.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(C.zone||P).name+"; Execution: "+this.name+")");let se=C,{type:Le,data:{isPeriodic:ne=!1,isRefreshable:qn=!1}={}}=C;if(C.state===j&&(Le===E||Le===y))return;let jt=C.state!=Q;jt&&se._transitionTo(Q,x);let Cn=_;_=se,D={parent:D,zone:this};try{Le==y&&C.data&&!ne&&!qn&&(C.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,se,R,Z)}catch(Dt){if(this._zoneDelegate.handleError(this,Dt))throw Dt}}finally{let Dt=C.state;if(Dt!==j&&Dt!==te)if(Le==E||ne||qn&&Dt===L)jt&&se._transitionTo(x,Q,L);else{let $=se._zoneDelegates;this._updateTaskCount(se,-1),jt&&se._transitionTo(j,Q,j),qn&&(se._zoneDelegates=$)}D=D.parent,_=Cn}}scheduleTask(C){if(C.zone&&C.zone!==this){let Z=this;for(;Z;){if(Z===C.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${C.zone.name}`);Z=Z.parent}}C._transitionTo(L,j);let R=[];C._zoneDelegates=R,C._zone=this;try{C=this._zoneDelegate.scheduleTask(this,C)}catch(Z){throw C._transitionTo(te,L,j),this._zoneDelegate.handleError(this,Z),Z}return C._zoneDelegates===R&&this._updateTaskCount(C,1),C.state==L&&C._transitionTo(x,L),C}scheduleMicroTask(C,R,Z,se){return this.scheduleTask(new s(b,C,R,Z,se,void 0))}scheduleMacroTask(C,R,Z,se,Le){return this.scheduleTask(new s(y,C,R,Z,se,Le))}scheduleEventTask(C,R,Z,se,Le){return this.scheduleTask(new s(E,C,R,Z,se,Le))}cancelTask(C){if(C.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(C.zone||P).name+"; Execution: "+this.name+")");if(!(C.state!==x&&C.state!==Q)){C._transitionTo(de,x,Q);try{this._zoneDelegate.cancelTask(this,C)}catch(R){throw C._transitionTo(te,de),this._zoneDelegate.handleError(this,R),R}return this._updateTaskCount(C,-1),C._transitionTo(j,de),C.runCount=-1,C}}_updateTaskCount(C,R){let Z=C._zoneDelegates;R==-1&&(C._zoneDelegates=null);for(let se=0;se<Z.length;se++)Z[se]._updateTaskCount(C.type,R)}}return ve})(),i={name:"",onHasTask:(ve,G,C,R)=>ve.hasTask(C,R),onScheduleTask:(ve,G,C,R)=>ve.scheduleTask(C,R),onInvokeTask:(ve,G,C,R,Z,se)=>ve.invokeTask(C,R,Z,se),onCancelTask:(ve,G,C,R)=>ve.cancelTask(C,R)};class o{get zone(){return this._zone}_zone;_taskCounts={microTask:0,macroTask:0,eventTask:0};_parentDelegate;_forkDlgt;_forkZS;_forkCurrZone;_interceptDlgt;_interceptZS;_interceptCurrZone;_invokeDlgt;_invokeZS;_invokeCurrZone;_handleErrorDlgt;_handleErrorZS;_handleErrorCurrZone;_scheduleTaskDlgt;_scheduleTaskZS;_scheduleTaskCurrZone;_invokeTaskDlgt;_invokeTaskZS;_invokeTaskCurrZone;_cancelTaskDlgt;_cancelTaskZS;_cancelTaskCurrZone;_hasTaskDlgt;_hasTaskDlgtOwner;_hasTaskZS;_hasTaskCurrZone;constructor(G,C,R){this._zone=G,this._parentDelegate=C,this._forkZS=R&&(R&&R.onFork?R:C._forkZS),this._forkDlgt=R&&(R.onFork?C:C._forkDlgt),this._forkCurrZone=R&&(R.onFork?this._zone:C._forkCurrZone),this._interceptZS=R&&(R.onIntercept?R:C._interceptZS),this._interceptDlgt=R&&(R.onIntercept?C:C._interceptDlgt),this._interceptCurrZone=R&&(R.onIntercept?this._zone:C._interceptCurrZone),this._invokeZS=R&&(R.onInvoke?R:C._invokeZS),this._invokeDlgt=R&&(R.onInvoke?C:C._invokeDlgt),this._invokeCurrZone=R&&(R.onInvoke?this._zone:C._invokeCurrZone),this._handleErrorZS=R&&(R.onHandleError?R:C._handleErrorZS),this._handleErrorDlgt=R&&(R.onHandleError?C:C._handleErrorDlgt),this._handleErrorCurrZone=R&&(R.onHandleError?this._zone:C._handleErrorCurrZone),this._scheduleTaskZS=R&&(R.onScheduleTask?R:C._scheduleTaskZS),this._scheduleTaskDlgt=R&&(R.onScheduleTask?C:C._scheduleTaskDlgt),this._scheduleTaskCurrZone=R&&(R.onScheduleTask?this._zone:C._scheduleTaskCurrZone),this._invokeTaskZS=R&&(R.onInvokeTask?R:C._invokeTaskZS),this._invokeTaskDlgt=R&&(R.onInvokeTask?C:C._invokeTaskDlgt),this._invokeTaskCurrZone=R&&(R.onInvokeTask?this._zone:C._invokeTaskCurrZone),this._cancelTaskZS=R&&(R.onCancelTask?R:C._cancelTaskZS),this._cancelTaskDlgt=R&&(R.onCancelTask?C:C._cancelTaskDlgt),this._cancelTaskCurrZone=R&&(R.onCancelTask?this._zone:C._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let Z=R&&R.onHasTask,se=C&&C._hasTaskZS;(Z||se)&&(this._hasTaskZS=Z?R:i,this._hasTaskDlgt=C,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,R.onScheduleTask||(this._scheduleTaskZS=i,this._scheduleTaskDlgt=C,this._scheduleTaskCurrZone=this._zone),R.onInvokeTask||(this._invokeTaskZS=i,this._invokeTaskDlgt=C,this._invokeTaskCurrZone=this._zone),R.onCancelTask||(this._cancelTaskZS=i,this._cancelTaskDlgt=C,this._cancelTaskCurrZone=this._zone))}fork(G,C){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,G,C):new r(G,C)}intercept(G,C,R){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,G,C,R):C}invoke(G,C,R,Z,se){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,G,C,R,Z,se):C.apply(R,Z)}handleError(G,C){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,G,C):!0}scheduleTask(G,C){let R=C;if(this._scheduleTaskZS)this._hasTaskZS&&R._zoneDelegates.push(this._hasTaskDlgtOwner),R=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,G,C),R||(R=C);else if(C.scheduleFn)C.scheduleFn(C);else if(C.type==b)A(C);else throw new Error("Task is missing scheduleFn.");return R}invokeTask(G,C,R,Z){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,G,C,R,Z):C.callback.apply(R,Z)}cancelTask(G,C){let R;if(this._cancelTaskZS)R=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,G,C);else{if(!C.cancelFn)throw Error("Task is not cancelable");R=C.cancelFn(C)}return R}hasTask(G,C){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,G,C)}catch(R){this.handleError(G,R)}}_updateTaskCount(G,C){let R=this._taskCounts,Z=R[G],se=R[G]=Z+C;if(se<0)throw new Error("More tasks executed then were scheduled.");if(Z==0||se==0){let Le={microTask:R.microTask>0,macroTask:R.macroTask>0,eventTask:R.eventTask>0,change:G};this.hasTask(this._zone,Le)}}}class s{type;source;invoke;callback;data;scheduleFn;cancelFn;_zone=null;runCount=0;_zoneDelegates=null;_state="notScheduled";constructor(G,C,R,Z,se,Le){if(this.type=G,this.source=C,this.data=Z,this.scheduleFn=se,this.cancelFn=Le,!R)throw new Error("callback is not defined");this.callback=R;let ne=this;G===E&&Z&&Z.useG?this.invoke=s.invokeTask:this.invoke=function(){return s.invokeTask.call(Gn,ne,this,arguments)}}static invokeTask(G,C,R){G||(G=this),Ke++;try{return G.runCount++,G.zone.runTask(G,C,R)}finally{Ke==1&&k(),Ke--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(j,L)}_transitionTo(G,C,R){if(this._state===C||this._state===R)this._state=G,G==j&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${G}', expecting state '${C}'${R?" or '"+R+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let a=mn("setTimeout"),u=mn("Promise"),l=mn("then"),h=[],p=!1,g;function v(ve){if(g||Gn[u]&&(g=Gn[u].resolve(0)),g){let G=g[l];G||(G=g.then),G.call(g,ve)}else Gn[a](ve,0)}function A(ve){Ke===0&&h.length===0&&v(k),ve&&h.push(ve)}function k(){if(!p){for(p=!0;h.length;){let ve=h;h=[];for(let G=0;G<ve.length;G++){let C=ve[G];try{C.zone.runTask(C,null,null)}catch(R){w.onUnhandledError(R)}}}w.microtaskDrainDone(),p=!1}}let P={name:"NO ZONE"},j="notScheduled",L="scheduling",x="scheduled",Q="running",de="canceling",te="unknown",b="microTask",y="macroTask",E="eventTask",I={},w={symbol:mn,currentZoneFrame:()=>D,onUnhandledError:ze,microtaskDrainDone:ze,scheduleMicroTask:A,showUncaughtError:()=>!r[mn("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:ze,patchMethod:()=>ze,bindArguments:()=>[],patchThen:()=>ze,patchMacroTask:()=>ze,patchEventPrototype:()=>ze,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>ze,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>ze,wrapWithCurrentZone:()=>ze,filterProperties:()=>[],attachOriginToPatched:()=>ze,_redefineProperty:()=>ze,patchCallbacks:()=>ze,nativeScheduleMicroTask:v},D={parent:null,zone:new r(null,null)},_=null,Ke=0;function ze(){}return t("Zone","Zone"),r}function MM(){let n=globalThis,e=n[mn("forceDuplicateZoneCheck")]===!0;if(n.Zone&&(e||typeof n.Zone.__symbol__!="function"))throw new Error("Zone already loaded.");return n.Zone??=NM(),n.Zone}var Ga=Object.getOwnPropertyDescriptor,dp=Object.defineProperty,hp=Object.getPrototypeOf,PM=Object.create,kM=Array.prototype.slice,fp="addEventListener",pp="removeEventListener",ap=mn(fp),cp=mn(pp),yr="true",vr="false",Wa=mn("");function gp(n,e){return Zone.current.wrap(n,e)}function mp(n,e,t,r,i){return Zone.current.scheduleMacroTask(n,e,t,r,i)}var Ve=mn,sl=typeof window<"u",Ka=sl?window:void 0,dt=sl&&Ka||globalThis,xM="removeAttribute";function yp(n,e){for(let t=n.length-1;t>=0;t--)typeof n[t]=="function"&&(n[t]=gp(n[t],e+"_"+t));return n}function OM(n,e){let t=n.constructor.name;for(let r=0;r<e.length;r++){let i=e[r],o=n[i];if(o){let s=Ga(n,i);if(!Tw(s))continue;n[i]=(a=>{let u=function(){return a.apply(this,yp(arguments,t+"."+i))};return Er(u,a),u})(o)}}}function Tw(n){return n?n.writable===!1?!1:!(typeof n.get=="function"&&typeof n.set>"u"):!0}var Dw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,al=!("nw"in dt)&&typeof dt.process<"u"&&dt.process.toString()==="[object process]",vp=!al&&!Dw&&!!(sl&&Ka.HTMLElement),bw=typeof dt.process<"u"&&dt.process.toString()==="[object process]"&&!Dw&&!!(sl&&Ka.HTMLElement),ol={},LM=Ve("enable_beforeunload"),yw=function(n){if(n=n||dt.event,!n)return;let e=ol[n.type];e||(e=ol[n.type]=Ve("ON_PROPERTY"+n.type));let t=this||n.target||dt,r=t[e],i;if(vp&&t===Ka&&n.type==="error"){let o=n;i=r&&r.call(this,o.message,o.filename,o.lineno,o.colno,o.error),i===!0&&n.preventDefault()}else i=r&&r.apply(this,arguments),n.type==="beforeunload"&&dt[LM]&&typeof i=="string"?n.returnValue=i:i!=null&&!i&&n.preventDefault();return i};function vw(n,e,t){let r=Ga(n,e);if(!r&&t&&Ga(t,e)&&(r={enumerable:!0,configurable:!0}),!r||!r.configurable)return;let i=Ve("on"+e+"patched");if(n.hasOwnProperty(i)&&n[i])return;delete r.writable,delete r.value;let o=r.get,s=r.set,a=e.slice(2),u=ol[a];u||(u=ol[a]=Ve("ON_PROPERTY"+a)),r.set=function(l){let h=this;if(!h&&n===dt&&(h=dt),!h)return;typeof h[u]=="function"&&h.removeEventListener(a,yw),s?.call(h,null),h[u]=l,typeof l=="function"&&h.addEventListener(a,yw,!1)},r.get=function(){let l=this;if(!l&&n===dt&&(l=dt),!l)return null;let h=l[u];if(h)return h;if(o){let p=o.call(this);if(p)return r.set.call(this,p),typeof l[xM]=="function"&&l.removeAttribute(e),p}return null},dp(n,e,r),n[i]=!0}function Cw(n,e,t){if(e)for(let r=0;r<e.length;r++)vw(n,"on"+e[r],t);else{let r=[];for(let i in n)i.slice(0,2)=="on"&&r.push(i);for(let i=0;i<r.length;i++)vw(n,r[i],t)}}var Nn=Ve("originalInstance");function qa(n){let e=dt[n];if(!e)return;dt[Ve(n)]=e,dt[n]=function(){let i=yp(arguments,n);switch(i.length){case 0:this[Nn]=new e;break;case 1:this[Nn]=new e(i[0]);break;case 2:this[Nn]=new e(i[0],i[1]);break;case 3:this[Nn]=new e(i[0],i[1],i[2]);break;case 4:this[Nn]=new e(i[0],i[1],i[2],i[3]);break;default:throw new Error("Arg list too long.")}},Er(dt[n],e);let t=new e(function(){}),r;for(r in t)n==="XMLHttpRequest"&&r==="responseBlob"||(function(i){typeof t[i]=="function"?dt[n].prototype[i]=function(){return this[Nn][i].apply(this[Nn],arguments)}:dp(dt[n].prototype,i,{set:function(o){typeof o=="function"?(this[Nn][i]=gp(o,n+"."+i),Er(this[Nn][i],o)):this[Nn][i]=o},get:function(){return this[Nn][i]}})})(r);for(r in e)r!=="prototype"&&e.hasOwnProperty(r)&&(dt[n][r]=e[r])}function _r(n,e,t){let r=n;for(;r&&!r.hasOwnProperty(e);)r=hp(r);!r&&n[e]&&(r=n);let i=Ve(e),o=null;if(r&&(!(o=r[i])||!r.hasOwnProperty(i))){o=r[i]=r[e];let s=r&&Ga(r,e);if(Tw(s)){let a=t(o,i,e);r[e]=function(){return a(this,arguments)},Er(r[e],o)}}return o}function FM(n,e,t){let r=null;function i(o){let s=o.data;return s.args[s.cbIdx]=function(){o.invoke.apply(this,arguments)},r.apply(s.target,s.args),o}r=_r(n,e,o=>function(s,a){let u=t(s,a);return u.cbIdx>=0&&typeof a[u.cbIdx]=="function"?mp(u.name,a[u.cbIdx],u,i):o.apply(s,a)})}function Er(n,e){n[Ve("OriginalDelegate")]=e}var _w=!1,up=!1;function VM(){if(_w)return up;_w=!0;try{let n=Ka.navigator.userAgent;(n.indexOf("MSIE ")!==-1||n.indexOf("Trident/")!==-1||n.indexOf("Edge/")!==-1)&&(up=!0)}catch{}return up}function Ew(n){return typeof n=="function"}function Iw(n){return typeof n=="number"}var jM={useG:!0},yn={},Sw={},Aw=new RegExp("^"+Wa+"(\\w+)(true|false)$"),Rw=Ve("propagationStopped");function Nw(n,e){let t=(e?e(n):n)+vr,r=(e?e(n):n)+yr,i=Wa+t,o=Wa+r;yn[n]={},yn[n][vr]=i,yn[n][yr]=o}function UM(n,e,t,r){let i=r&&r.add||fp,o=r&&r.rm||pp,s=r&&r.listeners||"eventListeners",a=r&&r.rmAll||"removeAllListeners",u=Ve(i),l="."+i+":",h="prependListener",p="."+h+":",g=function(L,x,Q){if(L.isRemoved)return;let de=L.callback;typeof de=="object"&&de.handleEvent&&(L.callback=y=>de.handleEvent(y),L.originalDelegate=de);let te;try{L.invoke(L,x,[Q])}catch(y){te=y}let b=L.options;if(b&&typeof b=="object"&&b.once){let y=L.originalDelegate?L.originalDelegate:L.callback;x[o].call(x,Q.type,y,b)}return te};function v(L,x,Q){if(x=x||n.event,!x)return;let de=L||x.target||n,te=de[yn[x.type][Q?yr:vr]];if(te){let b=[];if(te.length===1){let y=g(te[0],de,x);y&&b.push(y)}else{let y=te.slice();for(let E=0;E<y.length&&!(x&&x[Rw]===!0);E++){let I=g(y[E],de,x);I&&b.push(I)}}if(b.length===1)throw b[0];for(let y=0;y<b.length;y++){let E=b[y];e.nativeScheduleMicroTask(()=>{throw E})}}}let A=function(L){return v(this,L,!1)},k=function(L){return v(this,L,!0)};function P(L,x){if(!L)return!1;let Q=!0;x&&x.useG!==void 0&&(Q=x.useG);let de=x&&x.vh,te=!0;x&&x.chkDup!==void 0&&(te=x.chkDup);let b=!1;x&&x.rt!==void 0&&(b=x.rt);let y=L;for(;y&&!y.hasOwnProperty(i);)y=hp(y);if(!y&&L[i]&&(y=L),!y||y[u])return!1;let E=x&&x.eventNameToString,I={},w=y[u]=y[i],D=y[Ve(o)]=y[o],_=y[Ve(s)]=y[s],Ke=y[Ve(a)]=y[a],ze;x&&x.prepend&&(ze=y[Ve(x.prepend)]=y[x.prepend]);function ve(N,U){return U?typeof N=="boolean"?{capture:N,passive:!0}:N?typeof N=="object"&&N.passive!==!1?Fe(z({},N),{passive:!0}):N:{passive:!0}:N}let G=function(N){if(!I.isExisting)return w.call(I.target,I.eventName,I.capture?k:A,I.options)},C=function(N){if(!N.isRemoved){let U=yn[N.eventName],J;U&&(J=U[N.capture?yr:vr]);let oe=J&&N.target[J];if(oe){for(let K=0;K<oe.length;K++)if(oe[K]===N){oe.splice(K,1),N.isRemoved=!0,N.removeAbortListener&&(N.removeAbortListener(),N.removeAbortListener=null),oe.length===0&&(N.allRemoved=!0,N.target[J]=null);break}}}if(N.allRemoved)return D.call(N.target,N.eventName,N.capture?k:A,N.options)},R=function(N){return w.call(I.target,I.eventName,N.invoke,I.options)},Z=function(N){return ze.call(I.target,I.eventName,N.invoke,I.options)},se=function(N){return D.call(N.target,N.eventName,N.invoke,N.options)},Le=Q?G:R,ne=Q?C:se,qn=function(N,U){let J=typeof U;return J==="function"&&N.callback===U||J==="object"&&N.originalDelegate===U},jt=x?.diff||qn,Cn=Zone[Ve("UNPATCHED_EVENTS")],Dt=n[Ve("PASSIVE_EVENTS")];function $(N){if(typeof N=="object"&&N!==null){let U=z({},N);return N.signal&&(U.signal=N.signal),U}return N}let B=function(N,U,J,oe,K=!1,he=!1){return function(){let _e=this||n,Ee=arguments[0];x&&x.transferEventName&&(Ee=x.transferEventName(Ee));let qe=arguments[1];if(!qe)return N.apply(this,arguments);if(al&&Ee==="uncaughtException")return N.apply(this,arguments);let $e=!1;if(typeof qe!="function"){if(!qe.handleEvent)return N.apply(this,arguments);$e=!0}if(de&&!de(N,qe,_e,arguments))return;let Sn=!!Dt&&Dt.indexOf(Ee)!==-1,Ht=$(ve(arguments[2],Sn)),pr=Ht?.signal;if(pr?.aborted)return;if(Cn){for(let Xt=0;Xt<Cn.length;Xt++)if(Ee===Cn[Xt])return Sn?N.call(_e,Ee,qe,Ht):N.apply(this,arguments)}let Ra=Ht?typeof Ht=="boolean"?!0:Ht.capture:!1,zo=Ht&&typeof Ht=="object"?Ht.once:!1,Na=Zone.current,Bi=yn[Ee];Bi||(Nw(Ee,E),Bi=yn[Ee]);let lt=Bi[Ra?yr:vr],Je=_e[lt],$i=!1;if(Je){if($i=!0,te){for(let Xt=0;Xt<Je.length;Xt++)if(jt(Je[Xt],qe))return}}else Je=_e[lt]=[];let Hi,Ma=_e.constructor.name,Hu=Sw[Ma];Hu&&(Hi=Hu[Ee]),Hi||(Hi=Ma+U+(E?E(Ee):Ee)),I.options=Ht,zo&&(I.options.once=!1),I.target=_e,I.capture=Ra,I.eventName=Ee,I.isExisting=$i;let An=Q?jM:void 0;An&&(An.taskData=I),pr&&(I.options.signal=void 0);let zt=Na.scheduleEventTask(Hi,qe,An,J,oe);if(pr){I.options.signal=pr;let Xt=()=>zt.zone.cancelTask(zt);N.call(pr,"abort",Xt,{once:!0}),zt.removeAbortListener=()=>pr.removeEventListener("abort",Xt)}if(I.target=null,An&&(An.taskData=null),zo&&(I.options.once=!0),typeof zt.options!="boolean"&&(zt.options=Ht),zt.target=_e,zt.capture=Ra,zt.eventName=Ee,$e&&(zt.originalDelegate=qe),he?Je.unshift(zt):Je.push(zt),K)return _e}};return y[i]=B(w,l,Le,ne,b),ze&&(y[h]=B(ze,p,Z,ne,b,!0)),y[o]=function(){let N=this||n,U=arguments[0];x&&x.transferEventName&&(U=x.transferEventName(U));let J=arguments[2],oe=J?typeof J=="boolean"?!0:J.capture:!1,K=arguments[1];if(!K)return D.apply(this,arguments);if(de&&!de(D,K,N,arguments))return;let he=yn[U],_e;he&&(_e=he[oe?yr:vr]);let Ee=_e&&N[_e];if(Ee)for(let qe=0;qe<Ee.length;qe++){let $e=Ee[qe];if(jt($e,K)){if(Ee.splice(qe,1),$e.isRemoved=!0,Ee.length===0&&($e.allRemoved=!0,N[_e]=null,!oe&&typeof U=="string")){let Sn=Wa+"ON_PROPERTY"+U;N[Sn]=null}return $e.zone.cancelTask($e),b?N:void 0}}return D.apply(this,arguments)},y[s]=function(){let N=this||n,U=arguments[0];x&&x.transferEventName&&(U=x.transferEventName(U));let J=[],oe=Mw(N,E?E(U):U);for(let K=0;K<oe.length;K++){let he=oe[K],_e=he.originalDelegate?he.originalDelegate:he.callback;J.push(_e)}return J},y[a]=function(){let N=this||n,U=arguments[0];if(U){x&&x.transferEventName&&(U=x.transferEventName(U));let J=yn[U];if(J){let oe=J[vr],K=J[yr],he=N[oe],_e=N[K];if(he){let Ee=he.slice();for(let qe=0;qe<Ee.length;qe++){let $e=Ee[qe],Sn=$e.originalDelegate?$e.originalDelegate:$e.callback;this[o].call(this,U,Sn,$e.options)}}if(_e){let Ee=_e.slice();for(let qe=0;qe<Ee.length;qe++){let $e=Ee[qe],Sn=$e.originalDelegate?$e.originalDelegate:$e.callback;this[o].call(this,U,Sn,$e.options)}}}}else{let J=Object.keys(N);for(let oe=0;oe<J.length;oe++){let K=J[oe],he=Aw.exec(K),_e=he&&he[1];_e&&_e!=="removeListener"&&this[a].call(this,_e)}this[a].call(this,"removeListener")}if(b)return this},Er(y[i],w),Er(y[o],D),Ke&&Er(y[a],Ke),_&&Er(y[s],_),!0}let j=[];for(let L=0;L<t.length;L++)j[L]=P(t[L],r);return j}function Mw(n,e){if(!e){let o=[];for(let s in n){let a=Aw.exec(s),u=a&&a[1];if(u&&(!e||u===e)){let l=n[s];if(l)for(let h=0;h<l.length;h++)o.push(l[h])}}return o}let t=yn[e];t||(Nw(e),t=yn[e]);let r=n[t[vr]],i=n[t[yr]];return r?i?r.concat(i):r.slice():i?i.slice():[]}function BM(n,e){let t=n.Event;t&&t.prototype&&e.patchMethod(t.prototype,"stopImmediatePropagation",r=>function(i,o){i[Rw]=!0,r&&r.apply(i,o)})}function $M(n,e){e.patchMethod(n,"queueMicrotask",t=>function(r,i){Zone.current.scheduleMicroTask("queueMicrotask",i[0])})}var il=Ve("zoneTask");function Qo(n,e,t,r){let i=null,o=null;e+=r,t+=r;let s={};function a(l){let h=l.data;h.args[0]=function(){return l.invoke.apply(this,arguments)};let p=i.apply(n,h.args);return Iw(p)?h.handleId=p:(h.handle=p,h.isRefreshable=Ew(p.refresh)),l}function u(l){let{handle:h,handleId:p}=l.data;return o.call(n,h??p)}i=_r(n,e,l=>function(h,p){if(Ew(p[0])){let g={isRefreshable:!1,isPeriodic:r==="Interval",delay:r==="Timeout"||r==="Interval"?p[1]||0:void 0,args:p},v=p[0];p[0]=function(){try{return v.apply(this,arguments)}finally{let{handle:Q,handleId:de,isPeriodic:te,isRefreshable:b}=g;!te&&!b&&(de?delete s[de]:Q&&(Q[il]=null))}};let A=mp(e,p[0],g,a,u);if(!A)return A;let{handleId:k,handle:P,isRefreshable:j,isPeriodic:L}=A.data;if(k)s[k]=A;else if(P&&(P[il]=A,j&&!L)){let x=P.refresh;P.refresh=function(){let{zone:Q,state:de}=A;return de==="notScheduled"?(A._state="scheduled",Q._updateTaskCount(A,1)):de==="running"&&(A._state="scheduling"),x.call(this)}}return P??k??A}else return l.apply(n,p)}),o=_r(n,t,l=>function(h,p){let g=p[0],v;Iw(g)?(v=s[g],delete s[g]):(v=g?.[il],v?g[il]=null:v=g),v?.type?v.cancelFn&&v.zone.cancelTask(v):l.apply(n,p)})}function HM(n,e){let{isBrowser:t,isMix:r}=e.getGlobalObjects();if(!t&&!r||!n.customElements||!("customElements"in n))return;let i=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];e.patchCallbacks(e,n.customElements,"customElements","define",i)}function zM(n,e){if(Zone[e.symbol("patchEventTarget")])return;let{eventNames:t,zoneSymbolEventNames:r,TRUE_STR:i,FALSE_STR:o,ZONE_SYMBOL_PREFIX:s}=e.getGlobalObjects();for(let u=0;u<t.length;u++){let l=t[u],h=l+o,p=l+i,g=s+h,v=s+p;r[l]={},r[l][o]=g,r[l][i]=v}let a=n.EventTarget;if(!(!a||!a.prototype))return e.patchEventTarget(n,e,[a&&a.prototype]),!0}function qM(n,e){e.patchEventPrototype(n,e)}function Pw(n,e,t){if(!t||t.length===0)return e;let r=t.filter(o=>o.target===n);if(r.length===0)return e;let i=r[0].ignoreProperties;return e.filter(o=>i.indexOf(o)===-1)}function ww(n,e,t,r){if(!n)return;let i=Pw(n,e,t);Cw(n,i,r)}function lp(n){return Object.getOwnPropertyNames(n).filter(e=>e.startsWith("on")&&e.length>2).map(e=>e.substring(2))}function GM(n,e){if(al&&!bw||Zone[n.symbol("patchEvents")])return;let t=e.__Zone_ignore_on_properties,r=[];if(vp){let i=window;r=r.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);let o=[];ww(i,lp(i),t&&t.concat(o),hp(i))}r=r.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let i=0;i<r.length;i++){let o=e[r[i]];o?.prototype&&ww(o.prototype,lp(o.prototype),t)}}function WM(n){n.__load_patch("legacy",e=>{let t=e[n.__symbol__("legacyPatch")];t&&t()}),n.__load_patch("timers",e=>{let r="clear";Qo(e,"set",r,"Timeout"),Qo(e,"set",r,"Interval"),Qo(e,"set",r,"Immediate")}),n.__load_patch("requestAnimationFrame",e=>{Qo(e,"request","cancel","AnimationFrame"),Qo(e,"mozRequest","mozCancel","AnimationFrame"),Qo(e,"webkitRequest","webkitCancel","AnimationFrame")}),n.__load_patch("blocking",(e,t)=>{let r=["alert","prompt","confirm"];for(let i=0;i<r.length;i++){let o=r[i];_r(e,o,(s,a,u)=>function(l,h){return t.current.run(s,e,h,u)})}}),n.__load_patch("EventTarget",(e,t,r)=>{qM(e,r),zM(e,r);let i=e.XMLHttpRequestEventTarget;i&&i.prototype&&r.patchEventTarget(e,r,[i.prototype])}),n.__load_patch("MutationObserver",(e,t,r)=>{qa("MutationObserver"),qa("WebKitMutationObserver")}),n.__load_patch("IntersectionObserver",(e,t,r)=>{qa("IntersectionObserver")}),n.__load_patch("FileReader",(e,t,r)=>{qa("FileReader")}),n.__load_patch("on_property",(e,t,r)=>{GM(r,e)}),n.__load_patch("customElements",(e,t,r)=>{HM(e,r)}),n.__load_patch("XHR",(e,t)=>{l(e);let r=Ve("xhrTask"),i=Ve("xhrSync"),o=Ve("xhrListener"),s=Ve("xhrScheduled"),a=Ve("xhrURL"),u=Ve("xhrErrorBeforeScheduled");function l(h){let p=h.XMLHttpRequest;if(!p)return;let g=p.prototype;function v(w){return w[r]}let A=g[ap],k=g[cp];if(!A){let w=h.XMLHttpRequestEventTarget;if(w){let D=w.prototype;A=D[ap],k=D[cp]}}let P="readystatechange",j="scheduled";function L(w){let D=w.data,_=D.target;_[s]=!1,_[u]=!1;let Ke=_[o];A||(A=_[ap],k=_[cp]),Ke&&k.call(_,P,Ke);let ze=_[o]=()=>{if(_.readyState===_.DONE)if(!D.aborted&&_[s]&&w.state===j){let G=_[t.__symbol__("loadfalse")];if(_.status!==0&&G&&G.length>0){let C=w.invoke;w.invoke=function(){let R=_[t.__symbol__("loadfalse")];for(let Z=0;Z<R.length;Z++)R[Z]===w&&R.splice(Z,1);!D.aborted&&w.state===j&&C.call(w)},G.push(w)}else w.invoke()}else!D.aborted&&_[s]===!1&&(_[u]=!0)};return A.call(_,P,ze),_[r]||(_[r]=w),E.apply(_,D.args),_[s]=!0,w}function x(){}function Q(w){let D=w.data;return D.aborted=!0,I.apply(D.target,D.args)}let de=_r(g,"open",()=>function(w,D){return w[i]=D[2]==!1,w[a]=D[1],de.apply(w,D)}),te="XMLHttpRequest.send",b=Ve("fetchTaskAborting"),y=Ve("fetchTaskScheduling"),E=_r(g,"send",()=>function(w,D){if(t.current[y]===!0||w[i])return E.apply(w,D);{let _={target:w,url:w[a],isPeriodic:!1,args:D,aborted:!1},Ke=mp(te,x,_,L,Q);w&&w[u]===!0&&!_.aborted&&Ke.state===j&&Ke.invoke()}}),I=_r(g,"abort",()=>function(w,D){let _=v(w);if(_&&typeof _.type=="string"){if(_.cancelFn==null||_.data&&_.data.aborted)return;_.zone.cancelTask(_)}else if(t.current[b]===!0)return I.apply(w,D)})}}),n.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&OM(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),n.__load_patch("PromiseRejectionEvent",(e,t)=>{function r(i){return function(o){Mw(e,i).forEach(a=>{let u=e.PromiseRejectionEvent;if(u){let l=new u(i,{promise:o.promise,reason:o.rejection});a.invoke(l)}})}}e.PromiseRejectionEvent&&(t[Ve("unhandledPromiseRejectionHandler")]=r("unhandledrejection"),t[Ve("rejectionHandledHandler")]=r("rejectionhandled"))}),n.__load_patch("queueMicrotask",(e,t,r)=>{$M(e,r)})}function KM(n){n.__load_patch("ZoneAwarePromise",(e,t,r)=>{let i=Object.getOwnPropertyDescriptor,o=Object.defineProperty;function s($){if($&&$.toString===Object.prototype.toString){let B=$.constructor&&$.constructor.name;return(B||"")+": "+JSON.stringify($)}return $?$.toString():Object.prototype.toString.call($)}let a=r.symbol,u=[],l=e[a("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,h=a("Promise"),p=a("then"),g="__creationTrace__";r.onUnhandledError=$=>{if(r.showUncaughtError()){let B=$&&$.rejection;B?console.error("Unhandled Promise rejection:",B instanceof Error?B.message:B,"; Zone:",$.zone.name,"; Task:",$.task&&$.task.source,"; Value:",B,B instanceof Error?B.stack:void 0):console.error($)}},r.microtaskDrainDone=()=>{for(;u.length;){let $=u.shift();try{$.zone.runGuarded(()=>{throw $.throwOriginal?$.rejection:$})}catch(B){A(B)}}};let v=a("unhandledPromiseRejectionHandler");function A($){r.onUnhandledError($);try{let B=t[v];typeof B=="function"&&B.call(this,$)}catch{}}function k($){return $&&typeof $.then=="function"}function P($){return $}function j($){return ne.reject($)}let L=a("state"),x=a("value"),Q=a("finally"),de=a("parentPromiseValue"),te=a("parentPromiseState"),b="Promise.then",y=null,E=!0,I=!1,w=0;function D($,B){return N=>{try{ve($,B,N)}catch(U){ve($,!1,U)}}}let _=function(){let $=!1;return function(N){return function(){$||($=!0,N.apply(null,arguments))}}},Ke="Promise resolved with itself",ze=a("currentTaskTrace");function ve($,B,N){let U=_();if($===N)throw new TypeError(Ke);if($[L]===y){let J=null;try{(typeof N=="object"||typeof N=="function")&&(J=N&&N.then)}catch(oe){return U(()=>{ve($,!1,oe)})(),$}if(B!==I&&N instanceof ne&&N.hasOwnProperty(L)&&N.hasOwnProperty(x)&&N[L]!==y)C(N),ve($,N[L],N[x]);else if(B!==I&&typeof J=="function")try{J.call(N,U(D($,B)),U(D($,!1)))}catch(oe){U(()=>{ve($,!1,oe)})()}else{$[L]=B;let oe=$[x];if($[x]=N,$[Q]===Q&&B===E&&($[L]=$[te],$[x]=$[de]),B===I&&N instanceof Error){let K=t.currentTask&&t.currentTask.data&&t.currentTask.data[g];K&&o(N,ze,{configurable:!0,enumerable:!1,writable:!0,value:K})}for(let K=0;K<oe.length;)R($,oe[K++],oe[K++],oe[K++],oe[K++]);if(oe.length==0&&B==I){$[L]=w;let K=N;try{throw new Error("Uncaught (in promise): "+s(N)+(N&&N.stack?`
`+N.stack:""))}catch(he){K=he}l&&(K.throwOriginal=!0),K.rejection=N,K.promise=$,K.zone=t.current,K.task=t.currentTask,u.push(K),r.scheduleMicroTask()}}}return $}let G=a("rejectionHandledHandler");function C($){if($[L]===w){try{let B=t[G];B&&typeof B=="function"&&B.call(this,{rejection:$[x],promise:$})}catch{}$[L]=I;for(let B=0;B<u.length;B++)$===u[B].promise&&u.splice(B,1)}}function R($,B,N,U,J){C($);let oe=$[L],K=oe?typeof U=="function"?U:P:typeof J=="function"?J:j;B.scheduleMicroTask(b,()=>{try{let he=$[x],_e=!!N&&Q===N[Q];_e&&(N[de]=he,N[te]=oe);let Ee=B.run(K,void 0,_e&&K!==j&&K!==P?[]:[he]);ve(N,!0,Ee)}catch(he){ve(N,!1,he)}},N)}let Z="function ZoneAwarePromise() { [native code] }",se=function(){},Le=e.AggregateError;class ne{static toString(){return Z}static resolve(B){return B instanceof ne?B:ve(new this(null),E,B)}static reject(B){return ve(new this(null),I,B)}static withResolvers(){let B={};return B.promise=new ne((N,U)=>{B.resolve=N,B.reject=U}),B}static any(B){if(!B||typeof B[Symbol.iterator]!="function")return Promise.reject(new Le([],"All promises were rejected"));let N=[],U=0;try{for(let K of B)U++,N.push(ne.resolve(K))}catch{return Promise.reject(new Le([],"All promises were rejected"))}if(U===0)return Promise.reject(new Le([],"All promises were rejected"));let J=!1,oe=[];return new ne((K,he)=>{for(let _e=0;_e<N.length;_e++)N[_e].then(Ee=>{J||(J=!0,K(Ee))},Ee=>{oe.push(Ee),U--,U===0&&(J=!0,he(new Le(oe,"All promises were rejected")))})})}static race(B){let N,U,J=new this((he,_e)=>{N=he,U=_e});function oe(he){N(he)}function K(he){U(he)}for(let he of B)k(he)||(he=this.resolve(he)),he.then(oe,K);return J}static all(B){return ne.allWithCallback(B)}static allSettled(B){return(this&&this.prototype instanceof ne?this:ne).allWithCallback(B,{thenCallback:U=>({status:"fulfilled",value:U}),errorCallback:U=>({status:"rejected",reason:U})})}static allWithCallback(B,N){let U,J,oe=new this((Ee,qe)=>{U=Ee,J=qe}),K=2,he=0,_e=[];for(let Ee of B){k(Ee)||(Ee=this.resolve(Ee));let qe=he;try{Ee.then($e=>{_e[qe]=N?N.thenCallback($e):$e,K--,K===0&&U(_e)},$e=>{N?(_e[qe]=N.errorCallback($e),K--,K===0&&U(_e)):J($e)})}catch($e){J($e)}K++,he++}return K-=2,K===0&&U(_e),oe}constructor(B){let N=this;if(!(N instanceof ne))throw new Error("Must be an instanceof Promise.");N[L]=y,N[x]=[];try{let U=_();B&&B(U(D(N,E)),U(D(N,I)))}catch(U){ve(N,!1,U)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return ne}then(B,N){let U=this.constructor?.[Symbol.species];(!U||typeof U!="function")&&(U=this.constructor||ne);let J=new U(se),oe=t.current;return this[L]==y?this[x].push(oe,J,B,N):R(this,oe,J,B,N),J}catch(B){return this.then(null,B)}finally(B){let N=this.constructor?.[Symbol.species];(!N||typeof N!="function")&&(N=ne);let U=new N(se);U[Q]=Q;let J=t.current;return this[L]==y?this[x].push(J,U,B,B):R(this,J,U,B,B),U}}ne.resolve=ne.resolve,ne.reject=ne.reject,ne.race=ne.race,ne.all=ne.all;let qn=e[h]=e.Promise;e.Promise=ne;let jt=a("thenPatched");function Cn($){let B=$.prototype,N=i(B,"then");if(N&&(N.writable===!1||!N.configurable))return;let U=B.then;B[p]=U,$.prototype.then=function(J,oe){return new ne((he,_e)=>{U.call(this,he,_e)}).then(J,oe)},$[jt]=!0}r.patchThen=Cn;function Dt($){return function(B,N){let U=$.apply(B,N);if(U instanceof ne)return U;let J=U.constructor;return J[jt]||Cn(J),U}}return qn&&(Cn(qn),_r(e,"fetch",$=>Dt($))),Promise[t.__symbol__("uncaughtPromiseErrors")]=u,ne})}function QM(n){n.__load_patch("toString",e=>{let t=Function.prototype.toString,r=Ve("OriginalDelegate"),i=Ve("Promise"),o=Ve("Error"),s=function(){if(typeof this=="function"){let h=this[r];if(h)return typeof h=="function"?t.call(h):Object.prototype.toString.call(h);if(this===Promise){let p=e[i];if(p)return t.call(p)}if(this===Error){let p=e[o];if(p)return t.call(p)}}return t.call(this)};s[r]=t,Function.prototype.toString=s;let a=Object.prototype.toString,u="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?u:a.call(this)}})}function YM(n,e,t,r,i){let o=Zone.__symbol__(r);if(e[o])return;let s=e[o]=e[r];e[r]=function(a,u,l){return u&&u.prototype&&i.forEach(function(h){let p=`${t}.${r}::`+h,g=u.prototype;try{if(g.hasOwnProperty(h)){let v=n.ObjectGetOwnPropertyDescriptor(g,h);v&&v.value?(v.value=n.wrapWithCurrentZone(v.value,p),n._redefineProperty(u.prototype,h,v)):g[h]&&(g[h]=n.wrapWithCurrentZone(g[h],p))}else g[h]&&(g[h]=n.wrapWithCurrentZone(g[h],p))}catch{}}),s.call(e,a,u,l)},n.attachOriginToPatched(e[r],s)}function ZM(n){n.__load_patch("util",(e,t,r)=>{let i=lp(e);r.patchOnProperties=Cw,r.patchMethod=_r,r.bindArguments=yp,r.patchMacroTask=FM;let o=t.__symbol__("BLACK_LISTED_EVENTS"),s=t.__symbol__("UNPATCHED_EVENTS");e[s]&&(e[o]=e[s]),e[o]&&(t[o]=t[s]=e[o]),r.patchEventPrototype=BM,r.patchEventTarget=UM,r.isIEOrEdge=VM,r.ObjectDefineProperty=dp,r.ObjectGetOwnPropertyDescriptor=Ga,r.ObjectCreate=PM,r.ArraySlice=kM,r.patchClass=qa,r.wrapWithCurrentZone=gp,r.filterProperties=Pw,r.attachOriginToPatched=Er,r._redefineProperty=Object.defineProperty,r.patchCallbacks=YM,r.getGlobalObjects=()=>({globalSources:Sw,zoneSymbolEventNames:yn,eventNames:i,isBrowser:vp,isMix:bw,isNode:al,TRUE_STR:yr,FALSE_STR:vr,ZONE_SYMBOL_PREFIX:Wa,ADD_EVENT_LISTENER_STR:fp,REMOVE_EVENT_LISTENER_STR:pp})})}function JM(n){KM(n),QM(n),ZM(n)}var kw=MM();JM(kw);WM(kw);var _p;function cl(){return _p}function Wn(n){let e=_p;return _p=n,e}var xw=Symbol("NotFound");function Yo(n){return n===xw||n?.name==="\u0275NotFound"}var kt=null,ul=!1,Ep=1,XM=null,qt=Symbol("SIGNAL");function we(n){let e=kt;return kt=n,e}function dl(){return kt}var Qa={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ya(n){if(ul)throw new Error("");if(kt===null)return;kt.consumerOnSignalRead(n);let e=kt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=kt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:kt.producers,t!==void 0&&t.producer===n)){kt.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===kt&&(!r||tP(i,kt)))return;let o=Zo(kt),s={producer:n,consumer:kt,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};kt.producersTail=s,e!==void 0?e.nextProducer=s:kt.producers=s,o&&Vw(n,s)}function Ow(){Ep++}function Ip(n){if(!(Zo(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Ep)){if(!n.producerMustRecompute(n)&&!Ja(n)){ll(n);return}n.producerRecomputeValue(n),ll(n)}}function wp(n){if(n.consumers===void 0)return;let e=ul;ul=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||eP(r)}}finally{ul=e}}function Tp(){return kt?.consumerAllowSignalWrites!==!1}function eP(n){n.dirty=!0,wp(n),n.consumerMarkedDirty?.(n)}function ll(n){n.dirty=!1,n.lastCleanEpoch=Ep}function Za(n){return n&&Lw(n),we(n)}function Lw(n){n.producersTail=void 0,n.recomputing=!0}function hl(n,e){we(e),n&&Fw(n)}function Fw(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Zo(n))do t=Dp(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Ja(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Ip(t),r!==t.version))return!0}return!1}function Xa(n){if(Zo(n)){let e=n.producers;for(;e!==void 0;)e=Dp(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function Vw(n,e){let t=n.consumersTail,r=Zo(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)Vw(i.producer,i)}function Dp(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Zo(e)){let o=e.producers;for(;o!==void 0;)o=Dp(o)}return t}function Zo(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function bp(n){XM?.(n)}function tP(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Cp(n,e){return Object.is(n,e)}function nP(){throw new Error}var jw=nP;function Uw(n){jw(n)}function Sp(n){jw=n}var rP=null;function Ap(n,e){let t=Object.create(fl);t.value=n,e!==void 0&&(t.equal=e);let r=()=>Bw(t);return r[qt]=t,bp(t),[r,s=>Jo(t,s),s=>Rp(t,s)]}function Bw(n){return Ya(n),n.value}function Jo(n,e){Tp()||Uw(n),n.equal(n.value,e)||(n.value=e,iP(n))}function Rp(n,e){Tp()||Uw(n),Jo(n,e(n.value))}var fl=Fe(z({},Qa),{equal:Cp,value:void 0,kind:"signal"});function iP(n){n.version++,Ow(),wp(n),rP?.(n)}function pe(n){return typeof n=="function"}function Xo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var pl=Xo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ki(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var et=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(pe(r))try{r()}catch(o){e=o instanceof pl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{$w(o)}catch(s){e=e??[],s instanceof pl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new pl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)$w(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ki(t,e)}remove(e){let{_finalizers:t}=this;t&&Ki(t,e),e instanceof n&&e._removeParent(this)}};et.EMPTY=(()=>{let n=new et;return n.closed=!0,n})();var Np=et.EMPTY;function gl(n){return n instanceof et||n&&"closed"in n&&pe(n.remove)&&pe(n.add)&&pe(n.unsubscribe)}function $w(n){pe(n)?n():n.unsubscribe()}var Mn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var es={setTimeout(n,e,...t){let{delegate:r}=es;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=es;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ml(n){es.setTimeout(()=>{let{onUnhandledError:e}=Mn;if(e)e(n);else throw n})}function ec(){}var Hw=Mp("C",void 0,void 0);function zw(n){return Mp("E",void 0,n)}function qw(n){return Mp("N",n,void 0)}function Mp(n,e,t){return{kind:n,value:e,error:t}}var Qi=null;function ts(n){if(Mn.useDeprecatedSynchronousErrorHandling){let e=!Qi;if(e&&(Qi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Qi;if(Qi=null,t)throw r}}else n()}function Gw(n){Mn.useDeprecatedSynchronousErrorHandling&&Qi&&(Qi.errorThrown=!0,Qi.error=n)}var Yi=class extends et{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,gl(e)&&e.add(this)):this.destination=aP}static create(e,t,r){return new ns(e,t,r)}next(e){this.isStopped?kp(qw(e),this):this._next(e)}error(e){this.isStopped?kp(zw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?kp(Hw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},oP=Function.prototype.bind;function Pp(n,e){return oP.call(n,e)}var xp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){yl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){yl(r)}else yl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){yl(t)}}},ns=class extends Yi{constructor(e,t,r){super();let i;if(pe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Mn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Pp(e.next,o),error:e.error&&Pp(e.error,o),complete:e.complete&&Pp(e.complete,o)}):i=e}this.destination=new xp(i)}};function yl(n){Mn.useDeprecatedSynchronousErrorHandling?Gw(n):ml(n)}function sP(n){throw n}function kp(n,e){let{onStoppedNotification:t}=Mn;t&&es.setTimeout(()=>t(n,e))}var aP={closed:!0,next:ec,error:sP,complete:ec};var rs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function tn(n){return n}function vl(...n){return Op(n)}function Op(n){return n.length===0?tn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Ie=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=uP(t)?t:new ns(t,r,i);return ts(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Ww(r),new r((i,o)=>{let s=new ns({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[rs](){return this}pipe(...t){return Op(t)(this)}toPromise(t){return t=Ww(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Ww(n){var e;return(e=n??Mn.Promise)!==null&&e!==void 0?e:Promise}function cP(n){return n&&pe(n.next)&&pe(n.error)&&pe(n.complete)}function uP(n){return n&&n instanceof Yi||cP(n)&&gl(n)}function Lp(n){return pe(n?.lift)}function Me(n){return e=>{if(Lp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Pe(n,e,t,r,i){return new Fp(n,e,t,r,i)}var Fp=class extends Yi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function is(){return Me((n,e)=>{let t=null;n._refCount++;let r=Pe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var os=class extends Ie{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Lp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new et;let t=this.getSubject();e.add(this.source.subscribe(Pe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=et.EMPTY)}return e}refCount(){return is()(this)}};var Kw=Xo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ct=(()=>{class n extends Ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new _l(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Kw}next(t){ts(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ts(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ts(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Np:(this.currentObservers=null,o.push(t),new et(()=>{this.currentObservers=null,Ki(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Ie;return t.source=this,t}}return n.create=(e,t)=>new _l(e,t),n})(),_l=class extends Ct{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Np}};var St=class extends Ct{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Vp={now(){return(Vp.delegate||Date).now()},delegate:void 0};var El=class extends et{constructor(e,t){super()}schedule(e,t=0){return this}};var tc={setInterval(n,e,...t){let{delegate:r}=tc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=tc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ss=class extends El{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return tc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&tc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ki(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var as=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};as.now=Vp.now;var cs=class extends as{constructor(e,t=as.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var jp=new cs(ss);var Il=class extends ss{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var wl=class extends cs{};var Up=new wl(Il);var Gt=new Ie(n=>n.complete());function Qw(n){return n&&pe(n.schedule)}function Yw(n){return n[n.length-1]}function Zw(n){return pe(Yw(n))?n.pop():void 0}function Xr(n){return Qw(Yw(n))?n.pop():void 0}function Tl(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Xw(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function Jw(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zi(n){return this instanceof Zi?(this.v=n,this):new Zi(n)}function eT(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(A){return Promise.resolve(A).then(v,p)}}function a(v,A){r[v]&&(i[v]=function(k){return new Promise(function(P,j){o.push([v,k,P,j])>1||u(v,k)})},A&&(i[v]=A(i[v])))}function u(v,A){try{l(r[v](A))}catch(k){g(o[0][3],k)}}function l(v){v.value instanceof Zi?Promise.resolve(v.value.v).then(h,p):g(o[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function g(v,A){v(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function tT(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Jw=="function"?Jw(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Dl=n=>n&&typeof n.length=="number"&&typeof n!="function";function bl(n){return pe(n?.then)}function Cl(n){return pe(n[rs])}function Sl(n){return Symbol.asyncIterator&&pe(n?.[Symbol.asyncIterator])}function Al(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function lP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Rl=lP();function Nl(n){return pe(n?.[Rl])}function Ml(n){return eT(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Zi(t.read());if(i)return yield Zi(void 0);yield yield Zi(r)}}finally{t.releaseLock()}})}function Pl(n){return pe(n?.getReader)}function yt(n){if(n instanceof Ie)return n;if(n!=null){if(Cl(n))return dP(n);if(Dl(n))return hP(n);if(bl(n))return fP(n);if(Sl(n))return nT(n);if(Nl(n))return pP(n);if(Pl(n))return gP(n)}throw Al(n)}function dP(n){return new Ie(e=>{let t=n[rs]();if(pe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function hP(n){return new Ie(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function fP(n){return new Ie(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ml)})}function pP(n){return new Ie(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function nT(n){return new Ie(e=>{mP(n,e).catch(t=>e.error(t))})}function gP(n){return nT(Ml(n))}function mP(n,e){var t,r,i,o;return Xw(this,void 0,void 0,function*(){try{for(t=tT(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Wt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function ei(n,e=0){return Me((t,r)=>{t.subscribe(Pe(r,i=>Wt(r,n,()=>r.next(i),e),()=>Wt(r,n,()=>r.complete(),e),i=>Wt(r,n,()=>r.error(i),e)))})}function ti(n,e=0){return Me((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function rT(n,e){return yt(n).pipe(ti(e),ei(e))}function iT(n,e){return yt(n).pipe(ti(e),ei(e))}function oT(n,e){return new Ie(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function sT(n,e){return new Ie(t=>{let r;return Wt(t,e,()=>{r=n[Rl](),Wt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>pe(r?.return)&&r.return()})}function kl(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ie(t=>{Wt(t,e,()=>{let r=n[Symbol.asyncIterator]();Wt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function aT(n,e){return kl(Ml(n),e)}function cT(n,e){if(n!=null){if(Cl(n))return rT(n,e);if(Dl(n))return oT(n,e);if(bl(n))return iT(n,e);if(Sl(n))return kl(n,e);if(Nl(n))return sT(n,e);if(Pl(n))return aT(n,e)}throw Al(n)}function tt(n,e){return e?cT(n,e):yt(n)}function ue(...n){let e=Xr(n);return tt(n,e)}function us(n,e){let t=pe(n)?n:()=>n,r=i=>i.error(t());return new Ie(e?i=>e.schedule(r,0,i):r)}function Bp(n){return!!n&&(n instanceof Ie||pe(n.lift)&&pe(n.subscribe))}var Ir=Xo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ae(n,e){return Me((t,r)=>{let i=0;t.subscribe(Pe(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:yP}=Array;function vP(n,e){return yP(e)?n(...e):n(e)}function uT(n){return Ae(e=>vP(n,e))}var{isArray:_P}=Array,{getPrototypeOf:EP,prototype:IP,keys:wP}=Object;function lT(n){if(n.length===1){let e=n[0];if(_P(e))return{args:e,keys:null};if(TP(e)){let t=wP(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function TP(n){return n&&typeof n=="object"&&EP(n)===IP}function dT(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function xl(...n){let e=Xr(n),t=Zw(n),{args:r,keys:i}=lT(n);if(r.length===0)return tt([],e);let o=new Ie(DP(r,e,i?s=>dT(i,s):tn));return t?o.pipe(uT(t)):o}function DP(n,e,t=tn){return r=>{hT(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)hT(e,()=>{let l=tt(n[u],e),h=!1;l.subscribe(Pe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function hT(n,e,t){n?Wt(t,n,e):e()}function fT(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},v=k=>l<r?A(k):u.push(k),A=k=>{o&&e.next(k),l++;let P=!1;yt(t(k,h++)).subscribe(Pe(e,j=>{i?.(j),o?v(j):e.next(j)},()=>{P=!0},void 0,()=>{if(P)try{for(l--;u.length&&l<r;){let j=u.shift();s?Wt(e,s,()=>A(j)):A(j)}g()}catch(j){e.error(j)}}))};return n.subscribe(Pe(e,v,()=>{p=!0,g()})),()=>{a?.()}}function ht(n,e,t=1/0){return pe(e)?ht((r,i)=>Ae((o,s)=>e(r,o,i,s))(yt(n(r,i))),t):(typeof e=="number"&&(t=e),Me((r,i)=>fT(r,i,n,t)))}function pT(n=1/0){return ht(tn,n)}function gT(){return pT(1)}function ls(...n){return gT()(tt(n,Xr(n)))}function nc(n){return new Ie(e=>{yt(n()).subscribe(e)})}function nn(n,e){return Me((t,r)=>{let i=0;t.subscribe(Pe(r,o=>n.call(e,o,i++)&&r.next(o)))})}function ni(n){return Me((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Pe(t,void 0,void 0,s=>{o=yt(n(s,ni(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function mT(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(Pe(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function ds(n,e){return pe(e)?ht(n,e,1):ht(n,1)}function ri(n){return Me((e,t)=>{let r=!1;e.subscribe(Pe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function wr(n){return n<=0?()=>Gt:Me((e,t)=>{let r=0;e.subscribe(Pe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ol(n=bP){return Me((e,t)=>{let r=!1;e.subscribe(Pe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function bP(){return new Ir}function rc(n){return Me((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Tr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?nn((i,o)=>n(i,o,r)):tn,wr(1),t?ri(e):Ol(()=>new Ir))}function hs(n){return n<=0?()=>Gt:Me((e,t)=>{let r=[];e.subscribe(Pe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function $p(n,e){let t=arguments.length>=2;return r=>r.pipe(n?nn((i,o)=>n(i,o,r)):tn,hs(1),t?ri(e):Ol(()=>new Ir))}function Ll(n,e){return Me(mT(n,e,arguments.length>=2,!0))}function Fl(...n){let e=Xr(n);return Me((t,r)=>{(e?ls(n,t,e):ls(n,t)).subscribe(r)})}function Kt(n,e){return Me((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Pe(r,u=>{i?.unsubscribe();let l=0,h=o++;yt(n(u,h)).subscribe(i=Pe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Vl(n){return Me((e,t)=>{yt(n).subscribe(Pe(t,()=>t.complete(),ec)),!t.closed&&e.subscribe(t)})}function vt(n,e,t){let r=pe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Me((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Pe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):tn}function yT(n){let e=we(null);try{return n()}finally{we(e)}}var ps=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},tg=new ps("20.3.15");var Hl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",Y=class extends Error{code;constructor(e,t){super(gs(e,t)),this.code=e}};function CP(n){return`NG0${Math.abs(n)}`}function gs(n,e){return`${CP(n)}${e?": "+e:""}`}function je(n){for(let e in n)if(n[e]===je)return e;throw Error("")}function br(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(br).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function ng(n,e){return n?e?`${n} ${e}`:n:e||""}var SP=je({__forward_ref__:je});function zl(n){return n.__forward_ref__=zl,n.toString=function(){return br(this())},n}function Qt(n){return rg(n)?n():n}function rg(n){return typeof n=="function"&&n.hasOwnProperty(SP)&&n.__forward_ref__===zl}function ee(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ms(n){return{providers:n.providers||[],imports:n.imports||[]}}function ac(n){return AP(n,ql)}function ig(n){return ac(n)!==null}function AP(n,e){return n.hasOwnProperty(e)&&n[e]||null}function RP(n){let e=n?.[ql]??null;return e||null}function zp(n){return n&&n.hasOwnProperty(Ul)?n[Ul]:null}var ql=je({\u0275prov:je}),Ul=je({\u0275inj:je}),X=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=ee({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function og(n){return n&&!!n.\u0275providers}var sg=je({\u0275cmp:je}),ag=je({\u0275dir:je}),cg=je({\u0275pipe:je}),ug=je({\u0275mod:je}),oc=je({\u0275fac:je}),no=je({__NG_ELEMENT_ID__:je}),_T=je({__NG_ENV_ID__:je});function ys(n){return typeof n=="string"?n:n==null?"":String(n)}function IT(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():ys(n)}var wT=je({ngErrorCode:je}),NP=je({ngErrorMessage:je}),MP=je({ngTokenPath:je});function lg(n,e){return TT("",-200,e)}function Gl(n,e){throw new Y(-201,!1)}function TT(n,e,t){let r=new Y(e,n);return r[wT]=e,r[NP]=n,t&&(r[MP]=t),r}function PP(n){return n[wT]}var qp;function DT(){return qp}function rn(n){let e=qp;return qp=n,e}function dg(n,e,t){let r=ac(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Gl(n,"Injector")}var kP={},Ji=kP,Gp="__NG_DI_FLAG__",Wp=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Xi(t)||0;try{return this.injector.get(e,r&8?null:Ji,r)}catch(i){if(Yo(i))return i;throw i}}};function xP(n,e=0){let t=cl();if(t===void 0)throw new Y(-203,!1);if(t===null)return dg(n,void 0,e);{let r=OP(e),i=t.retrieve(n,r);if(Yo(i)){if(r.optional)return null;throw i}return i}}function Te(n,e=0){return(DT()||xP)(Qt(n),e)}function V(n,e){return Te(n,Xi(e))}function Xi(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function OP(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Kp(n){let e=[];for(let t=0;t<n.length;t++){let r=Qt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new Y(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=LP(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(Te(i,o))}else e.push(Te(r))}return e}function bT(n,e){return n[Gp]=e,n.prototype[Gp]=e,n}function LP(n){return n[Gp]}function eo(n,e){let t=n.hasOwnProperty(oc);return t?n[oc]:null}function Wl(n,e){n.forEach(t=>Array.isArray(t)?Wl(t,e):e(t))}function hg(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function cc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function CT(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function ST(n,e,t){let r=vs(n,e);return r>=0?n[r|1]=t:(r=~r,CT(n,r,e,t)),r}function Kl(n,e){let t=vs(n,e);if(t>=0)return n[t|1]}function vs(n,e){return FP(n,e,1)}function FP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var ro={},vn=[],si=new X(""),fg=new X("",-1),pg=new X(""),sc=class{get(e,t=Ji){if(t===Ji){let i=TT("",-201);throw i.name="\u0275NotFound",i}return t}};function gg(n){return n[ug]||null}function ai(n){return n[sg]||null}function mg(n){return n[ag]||null}function AT(n){return n[cg]||null}function Pn(n){return{\u0275providers:n}}function RT(...n){return{\u0275providers:yg(!0,n),\u0275fromNgModule:!0}}function yg(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Wl(e,s=>{let a=s;Bl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&NT(i,o),t}function NT(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];vg(i,o=>{e(o,r)})}}function Bl(n,e,t,r){if(n=Qt(n),!n)return!1;let i=null,o=zp(n),s=!o&&ai(n);if(!o&&!s){let u=n.ngModule;if(o=zp(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Bl(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Wl(o.imports,h=>{Bl(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&NT(l,e)}if(!a){let l=eo(i)||(()=>new i);e({provide:i,useFactory:l,deps:vn},i),e({provide:pg,useValue:i,multi:!0},i),e({provide:si,useValue:()=>Te(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;vg(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function vg(n,e){for(let t of n)og(t)&&(t=t.\u0275providers),Array.isArray(t)?vg(t,e):e(t)}var VP=je({provide:String,useValue:je});function MT(n){return n!==null&&typeof n=="object"&&VP in n}function jP(n){return!!(n&&n.useExisting)}function UP(n){return!!(n&&n.useFactory)}function $l(n){return typeof n=="function"}var uc=new X(""),jl={},ET={},Hp;function lc(){return Hp===void 0&&(Hp=new sc),Hp}var ft=class{},to=class extends ft{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Yp(e,s=>this.processProvider(s)),this.records.set(fg,fs(void 0,this)),i.has("environment")&&this.records.set(ft,fs(void 0,this));let o=this.records.get(uc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(pg,vn,{self:!0}))}retrieve(e,t){let r=Xi(t)||0;try{return this.get(e,Ji,r)}catch(i){if(Yo(i))return i;throw i}}destroy(){ic(this),this._destroyed=!0;let e=we(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),we(e)}}onDestroy(e){return ic(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ic(this);let t=Wn(this),r=rn(void 0),i;try{return e()}finally{Wn(t),rn(r)}}get(e,t=Ji,r){if(ic(this),e.hasOwnProperty(_T))return e[_T](this);let i=Xi(r),o,s=Wn(this),a=rn(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=qP(e)&&ac(e);h&&this.injectableDefInScope(h)?l=fs(Qp(e),jl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?lc():this.parent;return t=i&8&&t===Ji?null:t,u.get(e,t)}catch(u){let l=PP(u);throw l===-200||l===-201?new Y(l,null):u}finally{rn(a),Wn(s)}}resolveInjectorInitializers(){let e=we(null),t=Wn(this),r=rn(void 0),i;try{let o=this.get(si,vn,{self:!0});for(let s of o)s()}finally{Wn(t),rn(r),we(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(br(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Qt(e);let t=$l(e)?e:Qt(e&&e.provide),r=$P(e);if(!$l(e)&&e.multi===!0){let i=this.records.get(t);i||(i=fs(void 0,jl,!0),i.factory=()=>Kp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=we(null);try{if(t.value===ET)throw lg(br(e));return t.value===jl&&(t.value=ET,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&zP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{we(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Qt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Qp(n){let e=ac(n),t=e!==null?e.factory:eo(n);if(t!==null)return t;if(n instanceof X)throw new Y(204,!1);if(n instanceof Function)return BP(n);throw new Y(204,!1)}function BP(n){if(n.length>0)throw new Y(204,!1);let t=RP(n);return t!==null?()=>t.factory(n):()=>new n}function $P(n){if(MT(n))return fs(void 0,n.useValue);{let e=PT(n);return fs(e,jl)}}function PT(n,e,t){let r;if($l(n)){let i=Qt(n);return eo(i)||Qp(i)}else if(MT(n))r=()=>Qt(n.useValue);else if(UP(n))r=()=>n.useFactory(...Kp(n.deps||[]));else if(jP(n))r=(i,o)=>Te(Qt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Qt(n&&(n.useClass||n.provide));if(HP(n))r=()=>new i(...Kp(n.deps));else return eo(i)||Qp(i)}return r}function ic(n){if(n.destroyed)throw new Y(205,!1)}function fs(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function HP(n){return!!n.deps}function zP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function qP(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Yp(n,e){for(let t of n)Array.isArray(t)?Yp(t,e):t&&og(t)?Yp(t.\u0275providers,e):e(t)}function pt(n,e){let t;n instanceof to?(ic(n),t=n):t=new Wp(n);let r,i=Wn(t),o=rn(void 0);try{return e()}finally{Wn(i),rn(o)}}function kT(){return DT()!==void 0||cl()!=null}var kn=0,De=1,ge=2,At=3,_n=4,En=5,dc=6,_s=7,xt=8,ci=9,Qn=10,Et=11,Es=12,_g=13,io=14,In=15,oo=16,so=17,ao=18,hc=19,Eg=20,Dr=21,Ql=22,fc=23,on=24,Yl=25,pc=26,sn=27,xT=1;var ui=7,gc=8,mc=9,Yt=10;function Cr(n){return Array.isArray(n)&&typeof n[xT]=="object"}function xn(n){return Array.isArray(n)&&n[xT]===!0}function Ig(n){return(n.flags&4)!==0}function li(n){return n.componentOffset>-1}function yc(n){return(n.flags&1)===1}function co(n){return!!n.template}function Is(n){return(n[ge]&512)!==0}function uo(n){return(n[ge]&256)===256}var wg="svg",OT="math";function wn(n){for(;Array.isArray(n);)n=n[kn];return n}function Tg(n,e){return wn(e[n])}function Yn(n,e){return wn(e[n.index])}function Zl(n,e){return n.data[e]}function On(n,e){let t=e[n];return Cr(t)?t:t[kn]}function Jl(n){return(n[ge]&128)===128}function LT(n){return xn(n[At])}function vc(n,e){return e==null?null:n[e]}function Dg(n){n[so]=0}function bg(n){n[ge]&1024||(n[ge]|=1024,Jl(n)&&Ec(n))}function FT(n,e){for(;n>0;)e=e[io],n--;return e}function _c(n){return!!(n[ge]&9216||n[on]?.dirty)}function Xl(n){n[Qn].changeDetectionScheduler?.notify(8),n[ge]&64&&(n[ge]|=1024),_c(n)&&Ec(n)}function Ec(n){n[Qn].changeDetectionScheduler?.notify(0);let e=ii(n);for(;e!==null&&!(e[ge]&8192||(e[ge]|=8192,!Jl(e)));)e=ii(e)}function Cg(n,e){if(uo(n))throw new Y(911,!1);n[Dr]===null&&(n[Dr]=[]),n[Dr].push(e)}function VT(n,e){if(n[Dr]===null)return;let t=n[Dr].indexOf(e);t!==-1&&n[Dr].splice(t,1)}function ii(n){let e=n[At];return xn(e)?e[At]:e}function jT(n){return n[_s]??=[]}function UT(n){return n.cleanup??=[]}var be={lFrame:nD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Zp=!1;function BT(){return be.lFrame.elementDepthCount}function $T(){be.lFrame.elementDepthCount++}function HT(){be.lFrame.elementDepthCount--}function Sg(){return be.bindingsEnabled}function zT(){return be.skipHydrationRootTNode!==null}function qT(n){return be.skipHydrationRootTNode===n}function GT(){be.skipHydrationRootTNode=null}function nt(){return be.lFrame.lView}function di(){return be.lFrame.tView}function hi(n){return be.lFrame.contextLView=n,n[xt]}function fi(n){return be.lFrame.contextLView=null,n}function Ln(){let n=Ag();for(;n!==null&&n.type===64;)n=n.parent;return n}function Ag(){return be.lFrame.currentTNode}function WT(){let n=be.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ws(n,e){let t=be.lFrame;t.currentTNode=n,t.isParent=e}function Rg(){return be.lFrame.isParent}function KT(){be.lFrame.isParent=!1}function Ng(){return Zp}function Mg(n){let e=Zp;return Zp=n,e}function QT(){return be.lFrame.bindingIndex}function YT(n){return be.lFrame.bindingIndex=n}function Pg(){return be.lFrame.bindingIndex++}function kg(n){let e=be.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function ZT(){return be.lFrame.inI18n}function JT(n,e){let t=be.lFrame;t.bindingIndex=t.bindingRootIndex=n,ed(e)}function XT(){return be.lFrame.currentDirectiveIndex}function ed(n){be.lFrame.currentDirectiveIndex=n}function eD(n){let e=be.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function xg(n){be.lFrame.currentQueryIndex=n}function GP(n){let e=n[De];return e.type===2?e.declTNode:e.type===1?n[En]:null}function Og(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=GP(o),i===null||(o=o[io],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=be.lFrame=tD();return r.currentTNode=e,r.lView=n,!0}function td(n){let e=tD(),t=n[De];be.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function tD(){let n=be.lFrame,e=n===null?null:n.child;return e===null?nD(n):e}function nD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function rD(){let n=be.lFrame;return be.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Lg=rD;function nd(){let n=rD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function iD(n){return(be.lFrame.contextLView=FT(n,be.lFrame.contextLView))[xt]}function pi(){return be.lFrame.selectedIndex}function gi(n){be.lFrame.selectedIndex=n}function oD(){let n=be.lFrame;return Zl(n.tView,n.selectedIndex)}function Sr(){be.lFrame.currentNamespace=wg}function lo(){WP()}function WP(){be.lFrame.currentNamespace=null}function sD(){return be.lFrame.currentNamespace}var aD=!0;function rd(){return aD}function id(n){aD=n}function Jp(n,e=null,t=null,r){let i=Fg(n,e,t,r);return i.resolveInjectorInitializers(),i}function Fg(n,e=null,t=null,r,i=new Set){let o=[t||vn,RT(n)];return r=r||(typeof n=="object"?void 0:br(n)),new to(o,e||lc(),r||null,i)}var _t=class n{static THROW_IF_NOT_FOUND=Ji;static NULL=new sc;static create(e,t){if(Array.isArray(e))return Jp({name:""},t,e,"");{let r=e.name??"";return Jp({name:r},e.parent,e.providers,r)}}static \u0275prov=ee({token:n,providedIn:"any",factory:()=>Te(fg)});static __NG_ELEMENT_ID__=-1},Rt=new X(""),ho=(()=>{class n{static __NG_ELEMENT_ID__=KP;static __NG_ENV_ID__=t=>t}return n})(),Xp=class extends ho{_lView;constructor(e){super(),this._lView=e}get destroyed(){return uo(this._lView)}onDestroy(e){let t=this._lView;return Cg(t,e),()=>VT(t,e)}};function KP(){return new Xp(nt())}var Kn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},an=new X("",{providedIn:"root",factory:()=>{let n=V(ft),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Kn),e.handleError(t))}}}),cD={provide:si,useValue:()=>void V(Kn),multi:!0};function Ts(n,e){let[t,r,i]=Ap(n,e?.equal),o=t,s=o[qt];return o.set=r,o.update=i,o.asReadonly=uD.bind(o),o}function uD(){let n=this[qt];if(n.readonlyFn===void 0){let e=()=>this();e[qt]=n,n.readonlyFn=e}return n.readonlyFn}var oi=class{},Ic=new X("",{providedIn:"root",factory:()=>!1});var Vg=new X(""),jg=new X(""),Zn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new St(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Ie(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=ee({token:n,providedIn:"root",factory:()=>new n})}return n})(),Ds=(()=>{class n{internalPendingTasks=V(Zn);scheduler=V(oi);errorHandler=V(an);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=ee({token:n,providedIn:"root",factory:()=>new n})}return n})();function wc(...n){}var Ug=(()=>{class n{static \u0275prov=ee({token:n,providedIn:"root",factory:()=>new eg})}return n})(),eg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Ms(n){return{toString:n}.toString()}var od="__parameters__";function rk(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function ik(n,e,t){return Ms(()=>{let r=rk(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(od)?u[od]:Object.defineProperty(u,od,{value:[]})[od];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var cn=bT(ik("Optional"),8);function ok(n){return typeof n=="function"}var ld=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function $D(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Td=(()=>{let n=()=>HD;return n.ngInherit=!0,n})();function HD(n){return n.type.prototype.ngOnChanges&&(n.setInput=ak),sk}function sk(){let n=qD(this),e=n?.current;if(e){let t=n.previous;if(t===ro)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function ak(n,e,t,r,i){let o=this.declaredInputs[r],s=qD(n)||ck(n,{previous:ro,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new ld(l&&l.currentValue,t,u===ro),$D(n,e,i,t)}var zD="__ngSimpleChanges__";function qD(n){return n[zD]||null}function ck(n,e){return n[zD]=e}var lD=[];var We=function(n,e=null,t){for(let r=0;r<lD.length;r++){let i=lD[r];i(n,e,t)}};function uk(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=HD(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function GD(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function ad(n,e,t){WD(n,e,3,t)}function cd(n,e,t,r){(n[ge]&3)===t&&WD(n,e,t,r)}function Bg(n,e){let t=n[ge];(t&3)===e&&(t&=16383,t+=1,n[ge]=t)}function WD(n,e,t,r){let i=r!==void 0?n[so]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[so]+=65536),(a<o||o==-1)&&(lk(n,t,e,u),n[so]=(n[so]&4294901760)+u+2),u++}function dD(n,e){We(4,n,e);let t=we(null);try{e.call(n)}finally{we(t),We(5,n,e)}}function lk(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ge]>>14<n[so]>>16&&(n[ge]&3)===e&&(n[ge]+=16384,dD(a,o)):dD(a,o)}var Cs=-1,bc=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function dk(n){return(n.flags&8)!==0}function hk(n){return(n.flags&16)!==0}function fk(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];gk(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function pk(n){return n===3||n===4||n===6}function gk(n){return n.charCodeAt(0)===64}function dm(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?hD(n,t,i,null,e[++r]):hD(n,t,i,null,null))}}return n}function hD(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function KD(n){return n!==Cs}function dd(n){return n&32767}function mk(n){return n>>16}function hd(n,e){let t=mk(n),r=e;for(;t>0;)r=r[io],t--;return r}var Kg=!0;function fD(n){let e=Kg;return Kg=n,e}var yk=256,QD=yk-1,YD=5,vk=0,Jn={};function _k(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(no)&&(r=t[no]),r==null&&(r=t[no]=vk++);let i=r&QD,o=1<<i;e.data[n+(i>>YD)]|=o}function ZD(n,e){let t=JD(n,e);if(t!==-1)return t;let r=e[De];r.firstCreatePass&&(n.injectorIndex=e.length,$g(r.data,n),$g(e,null),$g(r.blueprint,null));let i=hm(n,e),o=n.injectorIndex;if(KD(i)){let s=dd(i),a=hd(i,e),u=a[De].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function $g(n,e){n.push(0,0,0,0,0,0,0,0,e)}function JD(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function hm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=rb(i),r===null)return Cs;if(t++,i=i[io],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Cs}function Ek(n,e,t){_k(n,e,t)}function XD(n,e,t){if(t&8||n!==void 0)return n;Gl(e,"NodeInjector")}function eb(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[ci],o=rn(void 0);try{return i?i.get(e,r,t&8):dg(e,r,t&8)}finally{rn(o)}}return XD(r,e,t)}function tb(n,e,t,r=0,i){if(n!==null){if(e[ge]&2048&&!(r&2)){let s=bk(n,e,t,r,Jn);if(s!==Jn)return s}let o=nb(n,e,t,r,Jn);if(o!==Jn)return o}return eb(e,t,r,i)}function nb(n,e,t,r,i){let o=Tk(t);if(typeof o=="function"){if(!Og(e,n,r))return r&1?XD(i,t,r):eb(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Gl(t);else return s}finally{Lg()}}else if(typeof o=="number"){let s=null,a=JD(n,e),u=Cs,l=r&1?e[In][En]:null;for((a===-1||r&4)&&(u=a===-1?hm(n,e):e[a+8],u===Cs||!gD(r,!1)?a=-1:(s=e[De],a=dd(u),e=hd(u,e)));a!==-1;){let h=e[De];if(pD(o,a,h.data)){let p=Ik(a,e,t,s,r,l);if(p!==Jn)return p}u=e[a+8],u!==Cs&&gD(r,e[De].data[a+8]===l)&&pD(o,a,e)?(s=h,a=dd(u),e=hd(u,e)):a=-1}}return i}function Ik(n,e,t,r,i,o){let s=e[De],a=s.data[n+8],u=r==null?li(a)&&Kg:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=wk(a,s,t,u,l);return h!==null?Qg(e,s,h,a,i):Jn}function wk(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let v=p;v<g;v++){let A=s[v];if(v<u&&t===A||v>=u&&A.type===t)return v}if(i){let v=s[u];if(v&&co(v)&&v.type===t)return u}return null}function Qg(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof bc){let a=o;if(a.resolving){let v=IT(s[t]);throw lg(v)}let u=fD(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,p=a.injectImpl?rn(a.injectImpl):null,g=Og(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&uk(t,s[t],e)}finally{p!==null&&rn(p),fD(u),a.resolving=!1,Lg()}}return o}function Tk(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(no)?n[no]:void 0;return typeof e=="number"?e>=0?e&QD:Dk:e}function pD(n,e,t){let r=1<<n;return!!(t[e+(n>>YD)]&r)}function gD(n,e){return!(n&2)&&!(n&1&&e)}var fo=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return tb(this._tNode,this._lView,e,Xi(r),t)}};function Dk(){return new fo(Ln(),nt())}function Dd(n){return Ms(()=>{let e=n.prototype.constructor,t=e[oc]||Yg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[oc]||Yg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Yg(n){return rg(n)?()=>{let e=Yg(Qt(n));return e&&e()}:eo(n)}function bk(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ge]&2048&&!Is(s);){let a=nb(o,s,t,r|2,Jn);if(a!==Jn)return a;let u=o.parent;if(!u){let l=s[Eg];if(l){let h=l.get(t,Jn,r);if(h!==Jn)return h}u=rb(s),s=s[io]}o=u}return i}function rb(n){let e=n[De],t=e.type;return t===2?e.declTNode:t===1?n[En]:null}function Ck(){return bd(Ln(),nt())}function bd(n,e){return new fm(Yn(n,e))}var fm=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Ck}return n})();function ib(n){return(n.flags&128)===128}var pm=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(pm||{}),ob=new Map,Sk=0;function Ak(){return Sk++}function Rk(n){ob.set(n[hc],n)}function Zg(n){ob.delete(n[hc])}var mD="__ngContext__";function Ss(n,e){Cr(e)?(n[mD]=e[hc],Rk(e)):n[mD]=e}function sb(n){return cb(n[Es])}function ab(n){return cb(n[_n])}function cb(n){for(;n!==null&&!xn(n);)n=n[_n];return n}var Jg;function gm(n){Jg=n}function ub(){if(Jg!==void 0)return Jg;if(typeof document<"u")return document;throw new Y(210,!1)}var Cd=new X("",{providedIn:"root",factory:()=>Nk}),Nk="ng",Sd=new X(""),yo=new X("",{providedIn:"platform",factory:()=>"unknown"});var Ad=new X("",{providedIn:"root",factory:()=>ub().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Mk="h",Pk="b";var lb=!1,db=new X("",{providedIn:"root",factory:()=>lb});var kk=(n,e,t,r)=>{};function xk(n,e,t,r){kk(n,e,t,r)}function mm(n){return(n.flags&32)===32}var Ok=()=>null;function hb(n,e,t=!1){return Ok(n,e,t)}function fb(n,e){let t=n.contentQueries;if(t!==null){let r=we(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];xg(o),a.contentQueries(2,e[s],s)}}}finally{we(r)}}}function Xg(n,e,t){xg(0);let r=we(null);try{e(n,t)}finally{we(r)}}function pb(n,e,t){if(Ig(e)){let r=we(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{we(r)}}}var Ar=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Ar||{});var fd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Hl})`}};function ym(n){return n instanceof fd?n.changingThisBreaksApplicationSecurity:n}function gb(n,e){let t=mb(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Hl})`)}return t===e}function mb(n){return n instanceof fd&&n.getTypeName()||null}var Lk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function yb(n){return n=String(n),n.match(Lk)?n:"unsafe:"+n}function Fk(n,e){return n.createText(e)}function Vk(n,e,t){n.setValue(e,t)}function vb(n,e,t){return n.createElement(e,t)}function pd(n,e,t,r,i){n.insertBefore(e,t,r,i)}function _b(n,e,t){n.appendChild(e,t)}function yD(n,e,t,r,i){r!==null?pd(n,e,t,r,i):_b(n,e,t)}function jk(n,e,t,r){n.removeChild(null,e,t,r)}function Uk(n,e,t){n.setAttribute(e,"style",t)}function Bk(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Eb(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&fk(n,e,r),i!==null&&Bk(n,e,i),o!==null&&Uk(n,e,o)}var vm=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(vm||{});function Rd(n){let e=$k();return e?e.sanitize(vm.URL,n)||"":gb(n,"URL")?ym(n):yb(ys(n))}function $k(){let n=nt();return n&&n[Qn].sanitizer}function Ib(n){return n instanceof Function?n():n}function Hk(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var wb="ng-template";function zk(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Hk(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(_m(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function _m(n){return n.type===4&&n.value!==wb}function qk(n,e,t){let r=n.type===4&&!t?wb:n.value;return e===r}function Gk(n,e,t){let r=4,i=n.attrs,o=i!==null?Qk(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Fn(r)&&!Fn(u))return!1;if(s&&Fn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!qk(n,u,t)||u===""&&e.length===1){if(Fn(r))return!1;s=!0}}else if(r&8){if(i===null||!zk(n,i,u,t)){if(Fn(r))return!1;s=!0}}else{let l=e[++a],h=Wk(u,i,_m(n),t);if(h===-1){if(Fn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Fn(r))return!1;s=!0}}}}return Fn(r)||s}function Fn(n){return(n&1)===0}function Wk(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Yk(e,n)}function Kk(n,e,t=!1){for(let r=0;r<e.length;r++)if(Gk(n,e[r],t))return!0;return!1}function Qk(n){for(let e=0;e<n.length;e++){let t=n[e];if(pk(t))return e}return n.length}function Yk(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function vD(n,e){return n?":not("+e.trim()+")":e}function Zk(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Fn(s)&&(e+=vD(o,i),i=""),r=s,o=o||!Fn(r);t++}return i!==""&&(e+=vD(o,i)),e}function Jk(n){return n.map(Zk).join(",")}function Xk(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Fn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var er={};function Em(n,e,t,r,i,o,s,a,u,l,h){let p=sn+r,g=p+i,v=ex(p,g),A=typeof l=="function"?l():l;return v[De]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:h}}function ex(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:er);return t}function tx(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Em(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Im(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[kn]=i,p[ge]=r|4|128|8|64|1024,(l!==null||n&&n[ge]&2048)&&(p[ge]|=2048),Dg(p),p[At]=p[io]=n,p[xt]=t,p[Qn]=s||n&&n[Qn],p[Et]=a||n&&n[Et],p[ci]=u||n&&n[ci]||null,p[En]=o,p[hc]=Ak(),p[dc]=h,p[Eg]=l,p[In]=e.type==2?n[In]:p,p}function nx(n,e,t){let r=Yn(e,n),i=tx(t),o=n[Qn].rendererFactory,s=wm(n,Im(n,i,null,Tb(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function Tb(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Db(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function wm(n,e){return n[Es]?n[_g][_n]=e:n[Es]=e,n[_g]=e,e}function Ce(n=1){bb(di(),nt(),pi()+n,!1)}function bb(n,e,t,r){if(!r)if((e[ge]&3)===3){let o=n.preOrderCheckHooks;o!==null&&ad(e,o,t)}else{let o=n.preOrderHooks;o!==null&&cd(e,o,0,t)}gi(t)}var Nd=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Nd||{});function em(n,e,t,r){let i=we(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Nd.SignalBased)!==0&&(u=e[o][qt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):$D(e,u,o,r)}finally{we(i)}}var Xn=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Xn||{}),rx;function Tm(n,e){return rx(n,e)}var As=new Set,Dm=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Dm||{}),Nc=new X(""),_D=new Set;function Md(n){_D.has(n)||(_D.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Cb=!1,tm=class extends Ct{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,kT()&&(this.destroyRef=V(ho,{optional:!0})??void 0,this.pendingTasks=V(Zn,{optional:!0})??void 0)}emit(e){let t=we(null);try{super.next(e)}finally{we(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof et&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Bt=tm;function Sb(n){let e,t;function r(){n=wc;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function ED(n){return queueMicrotask(()=>n()),()=>{n=wc}}var bm="isAngularZone",gd=bm+"_ID",ix=0,He=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Bt(!1);onMicrotaskEmpty=new Bt(!1);onStable=new Bt(!1);onError=new Bt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Cb}=e;if(typeof Zone>"u")throw new Y(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,ax(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(bm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Y(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Y(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,ox,wc,wc);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},ox={};function Cm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function sx(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Sb(()=>{n.callbackScheduled=!1,nm(n),n.isCheckStableRunning=!0,Cm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),nm(n)}function ax(n){let e=()=>{sx(n)},t=ix++;n._inner=n._inner.fork({name:"angular",properties:{[bm]:!0,[gd]:t,[gd+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(cx(u))return r.invokeTask(o,s,a,u);try{return ID(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),wD(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return ID(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!ux(u)&&e(),wD(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,nm(n),Cm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function nm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function ID(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function wD(n){n._nesting--,Cm(n)}var md=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Bt;onMicrotaskEmpty=new Bt;onStable=new Bt;onError=new Bt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function cx(n){return Ab(n,"__ignore_ng_zone__")}function ux(n){return Ab(n,"__scheduler_tick__")}function Ab(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Rb=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=ee({token:n,providedIn:"root",factory:()=>new n})}return n})();var lx=new X("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function Nb(n,e,t){let r=n.get(lx);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function dx(n,e){for(let[t,r]of e)Nb(n,r.animateFns)}function TD(n,e,t,r){let i=n?.[pc]?.enter;e!==null&&i&&i.has(t.index)&&dx(r,i)}function bs(n,e,t,r,i,o,s,a){if(i!=null){let u,l=!1;xn(i)?u=i:Cr(i)&&(l=!0,i=i[kn]);let h=wn(i);n===0&&r!==null?(TD(a,r,o,t),s==null?_b(e,r,h):pd(e,r,h,s||null,!0)):n===1&&r!==null?(TD(a,r,o,t),pd(e,r,h,s||null,!0)):n===2?DD(a,o,t,p=>{jk(e,h,l,p)}):n===3&&DD(a,o,t,()=>{e.destroyNode(h)}),u!=null&&Dx(e,n,t,u,o,r,s)}}function hx(n,e){Mb(n,e),e[kn]=null,e[En]=null}function fx(n,e,t,r,i,o){r[kn]=i,r[En]=e,Pd(n,r,t,1,i,o)}function Mb(n,e){e[Qn].changeDetectionScheduler?.notify(9),Pd(n,e,e[Et],2,null,null)}function px(n){let e=n[Es];if(!e)return Hg(n[De],n);for(;e;){let t=null;if(Cr(e))t=e[Es];else{let r=e[Yt];r&&(t=r)}if(!t){for(;e&&!e[_n]&&e!==n;)Cr(e)&&Hg(e[De],e),e=e[At];e===null&&(e=n),Cr(e)&&Hg(e[De],e),t=e&&e[_n]}e=t}}function Sm(n,e){let t=n[mc],r=t.indexOf(e);t.splice(r,1)}function Pb(n,e){if(uo(e))return;let t=e[Et];t.destroyNode&&Pd(n,e,t,3,null,null),px(e)}function Hg(n,e){if(uo(e))return;let t=we(null);try{e[ge]&=-129,e[ge]|=256,e[on]&&Xa(e[on]),yx(n,e),mx(n,e),e[De].type===1&&e[Et].destroy();let r=e[oo];if(r!==null&&xn(e[At])){r!==e[At]&&Sm(r,e);let i=e[ao];i!==null&&i.detachView(n)}Zg(e)}finally{we(t)}}function DD(n,e,t,r){let i=n?.[pc];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&As.add(n),Nb(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),gx(n,r)}else n&&As.delete(n),r(!1)},i)}function gx(n,e){let t=n[pc]?.running;if(t){t.then(()=>{n[pc].running=void 0,As.delete(n),e(!0)});return}e(!1)}function mx(n,e){let t=n.cleanup,r=e[_s];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[_s]=null);let i=e[Dr];if(i!==null){e[Dr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[fc];if(o!==null){e[fc]=null;for(let s of o)s.destroy()}}function yx(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof bc)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];We(4,a,u);try{u.call(a)}finally{We(5,a,u)}}else{We(4,i,o);try{o.call(i)}finally{We(5,i,o)}}}}}function vx(n,e,t){return _x(n,e.parent,t)}function _x(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[kn];if(li(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Ar.None||i===Ar.Emulated)return null}return Yn(r,t)}function Ex(n,e,t){return wx(n,e,t)}function Ix(n,e,t){return n.type&40?Yn(n,t):null}var wx=Ix,bD;function Am(n,e,t,r){let i=vx(n,r,e),o=e[Et],s=r.parent||e[En],a=Ex(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)yD(o,i,t[u],a,!1);else yD(o,i,t,a,!1);bD!==void 0&&bD(o,r,e,t,i)}function Tc(n,e){if(e!==null){let t=e.type;if(t&3)return Yn(e,n);if(t&4)return rm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Tc(n,r);{let i=n[e.index];return xn(i)?rm(-1,i):wn(i)}}else{if(t&128)return Tc(n,e.next);if(t&32)return Tm(e,n)()||wn(n[e.index]);{let r=kb(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ii(n[In]);return Tc(i,r)}else return Tc(n,e.next)}}}return null}function kb(n,e){if(e!==null){let r=n[In][En],i=e.projection;return r.projection[i]}return null}function rm(n,e){let t=Yt+n+1;if(t<e.length){let r=e[t],i=r[De].firstChild;if(i!==null)return Tc(r,i)}return e[ui]}function Rm(n,e,t,r,i,o,s){for(;t!=null;){let a=r[ci];if(t.type===128){t=t.next;continue}let u=r[t.index],l=t.type;if(s&&e===0&&(u&&Ss(wn(u),r),t.flags|=2),!mm(t))if(l&8)Rm(n,e,t.child,r,i,o,!1),bs(e,n,a,i,u,t,o,r);else if(l&32){let h=Tm(t,r),p;for(;p=h();)bs(e,n,a,i,p,t,o,r);bs(e,n,a,i,u,t,o,r)}else l&16?Tx(n,e,r,t,i,o):bs(e,n,a,i,u,t,o,r);t=s?t.projectionNext:t.next}}function Pd(n,e,t,r,i,o){Rm(t,r,n.firstChild,e,i,o,!1)}function Tx(n,e,t,r,i,o){let s=t[In],u=s[En].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];bs(e,n,t[ci],i,h,r,o,t)}else{let l=u,h=s[At];ib(r)&&(l.flags|=128),Rm(n,e,l,h,i,o,!0)}}function Dx(n,e,t,r,i,o,s){let a=r[ui],u=wn(r);a!==u&&bs(e,n,t,o,a,i,s);for(let l=Yt;l<r.length;l++){let h=r[l];Pd(h[De],h,n,e,o,a)}}function bx(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Xn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Xn.Important),n.setStyle(t,r,i,o))}}function xb(n,e,t,r,i){let o=pi(),s=r&2;try{gi(-1),s&&e.length>sn&&bb(n,e,sn,!1),We(s?2:0,i,t),t(r,i)}finally{gi(o),We(s?3:1,i,t)}}function Nm(n,e,t){kx(n,e,t),(t.flags&64)===64&&xx(n,e,t)}function Ob(n,e,t=Yn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function Cx(n,e,t,r){let o=r.get(db,lb)||t===Ar.ShadowDom,s=n.selectRootElement(e,o);return Sx(s),s}function Sx(n){Ax(n)}var Ax=()=>null;function Rx(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Nx(n,e,t,r,i,o){let s=e[De];if(Mm(n,s,e,t,r)){li(n)&&Px(e,n.index);return}n.type&3&&(t=Rx(t)),Mx(n,e,t,r,i,o)}function Mx(n,e,t,r,i,o){if(n.type&3){let s=Yn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function Px(n,e){let t=On(e,n);t[ge]&16||(t[ge]|=64)}function kx(n,e,t){let r=t.directiveStart,i=t.directiveEnd;li(t)&&nx(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||ZD(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=Qg(e,n,s,t);if(Ss(u,e),o!==null&&Lx(e,s-r,u,a,t,o),co(a)){let l=On(t.index,e);l[xt]=Qg(e,n,s,t)}}}function xx(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=XT();try{gi(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];ed(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Ox(u,l)}}finally{gi(-1),ed(s)}}function Ox(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Lb(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];Kk(e,o.selectors,!1)&&(r??=[],co(o)?r.unshift(o):r.push(o))}return r}function Lx(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];em(r,t,u,l)}}function Fx(n,e,t,r,i){let o=sn+t,s=e[De],a=i(s,e,n,r,t);e[o]=a,ws(n,!0);let u=n.type===2;return u?(Eb(e[Et],a,n),(BT()===0||yc(n))&&Ss(a,e),$T()):Ss(a,e),rd()&&(!u||!mm(n))&&Am(s,e,a,n),n}function Vx(n){let e=n;return Rg()?KT():(e=e.parent,ws(e,!1)),e}function jx(n,e){let t=n[ci];if(!t)return;let r;try{r=t.get(an,null)}catch{r=null}r?.(e)}function Mm(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];em(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];em(h,l,r,i),a=!0}return a}function Ux(n,e){let t=On(e,n),r=t[De];Bx(r,t);let i=t[kn];i!==null&&t[dc]===null&&(t[dc]=hb(i,t[ci])),We(18),Pm(r,t,t[xt]),We(19,t[xt])}function Bx(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Pm(n,e,t){td(e);try{let r=n.viewQuery;r!==null&&Xg(1,r,t);let i=n.template;i!==null&&xb(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ao]?.finishViewCreation(n),n.staticContentQueries&&fb(n,e),n.staticViewQueries&&Xg(2,n.viewQuery,t);let o=n.components;o!==null&&$x(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ge]&=-5,nd()}}function $x(n,e){for(let t=0;t<e.length;t++)Ux(n,e[t])}function Hx(n,e,t,r){let i=we(null);try{let o=e.tView,a=n[ge]&4096?4096:16,u=Im(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[oo]=l;let h=n[ao];return h!==null&&(u[ao]=h.createEmbeddedView(o)),Pm(o,u,t),u}finally{we(i)}}function CD(n,e){return!e||e.firstChild===null||ib(n)}function Cc(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(wn(o)),xn(o)&&Fb(o,r);let s=t.type;if(s&8)Cc(n,e,t.child,r);else if(s&32){let a=Tm(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=kb(e,t);if(Array.isArray(a))r.push(...a);else{let u=ii(e[In]);Cc(u[De],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Fb(n,e){for(let t=Yt;t<n.length;t++){let r=n[t],i=r[De].firstChild;i!==null&&Cc(r[De],r,i,e)}n[ui]!==n[kn]&&e.push(n[ui])}function Vb(n){if(n[Yl]!==null){for(let e of n[Yl])e.impl.addSequence(e);n[Yl].length=0}}var jb=[];function zx(n){return n[on]??qx(n)}function qx(n){let e=jb.pop()??Object.create(Wx);return e.lView=n,e}function Gx(n){n.lView[on]!==n&&(n.lView=null,jb.push(n))}var Wx=Fe(z({},Qa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ec(n.lView)},consumerOnSignalRead(){this.lView[on]=this}});function Kx(n){let e=n[on]??Object.create(Qx);return e.lView=n,e}var Qx=Fe(z({},Qa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=ii(n.lView);for(;e&&!Ub(e[De]);)e=ii(e);e&&bg(e)},consumerOnSignalRead(){this.lView[on]=this}});function Ub(n){return n.type!==2}function Bb(n){if(n[fc]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[fc])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ge]&8192)}}var Yx=100;function $b(n,e=0){let r=n[Qn].rendererFactory,i=!1;i||r.begin?.();try{Zx(n,e)}finally{i||r.end?.()}}function Zx(n,e){let t=Ng();try{Mg(!0),im(n,e);let r=0;for(;_c(n);){if(r===Yx)throw new Y(103,!1);r++,im(n,1)}}finally{Mg(t)}}function Jx(n,e,t,r){if(uo(e))return;let i=e[ge],o=!1,s=!1;td(e);let a=!0,u=null,l=null;o||(Ub(n)?(l=zx(e),u=Za(l)):dl()===null?(a=!1,l=Kx(e),u=Za(l)):e[on]&&(Xa(e[on]),e[on]=null));try{Dg(e),YT(n.bindingStartIndex),t!==null&&xb(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let v=n.preOrderCheckHooks;v!==null&&ad(e,v,null)}else{let v=n.preOrderHooks;v!==null&&cd(e,v,0,null),Bg(e,0)}if(s||Xx(e),Bb(e),Hb(e,0),n.contentQueries!==null&&fb(n,e),!o)if(h){let v=n.contentCheckHooks;v!==null&&ad(e,v)}else{let v=n.contentHooks;v!==null&&cd(e,v,1),Bg(e,1)}tO(n,e);let p=n.components;p!==null&&qb(e,p,0);let g=n.viewQuery;if(g!==null&&Xg(2,g,r),!o)if(h){let v=n.viewCheckHooks;v!==null&&ad(e,v)}else{let v=n.viewHooks;v!==null&&cd(e,v,2),Bg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Ql]){for(let v of e[Ql])v();e[Ql]=null}o||(Vb(e),e[ge]&=-73)}catch(h){throw o||Ec(e),h}finally{l!==null&&(hl(l,u),a&&Gx(l)),nd()}}function Hb(n,e){for(let t=sb(n);t!==null;t=ab(t))for(let r=Yt;r<t.length;r++){let i=t[r];zb(i,e)}}function Xx(n){for(let e=sb(n);e!==null;e=ab(e)){if(!(e[ge]&2))continue;let t=e[mc];for(let r=0;r<t.length;r++){let i=t[r];bg(i)}}}function eO(n,e,t){We(18);let r=On(e,n);zb(r,t),We(19,r[xt])}function zb(n,e){Jl(n)&&im(n,e)}function im(n,e){let r=n[De],i=n[ge],o=n[on],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ja(o)),s||=!1,o&&(o.dirty=!1),n[ge]&=-9217,s)Jx(r,n,r.template,n[xt]);else if(i&8192){let a=we(null);try{Bb(n),Hb(n,1);let u=r.components;u!==null&&qb(n,u,1),Vb(n)}finally{we(a)}}}function qb(n,e,t){for(let r=0;r<e.length;r++)eO(n,e[r],t)}function tO(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)gi(~i);else{let o=i,s=t[++r],a=t[++r];JT(s,o);let u=e[o];We(24,u),a(2,u),We(25,u)}}}finally{gi(-1)}}function km(n,e){let t=Ng()?64:1088;for(n[Qn].changeDetectionScheduler?.notify(e);n;){n[ge]|=t;let r=ii(n);if(Is(n)&&!r)return n;n=r}return null}function Gb(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function nO(n,e,t,r=!0){let i=e[De];if(rO(i,e,n,t),r){let s=rm(t,n),a=e[Et],u=a.parentNode(n[ui]);u!==null&&fx(i,n[En],a,e,u,s)}let o=e[dc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function om(n,e){if(n.length<=Yt)return;let t=Yt+e,r=n[t];if(r){let i=r[oo];i!==null&&i!==n&&Sm(i,r),e>0&&(n[t-1][_n]=r[_n]);let o=cc(n,Yt+e);hx(r[De],r);let s=o[ao];s!==null&&s.detachView(o[De]),r[At]=null,r[_n]=null,r[ge]&=-129}return r}function rO(n,e,t,r){let i=Yt+r,o=t.length;r>0&&(t[i-1][_n]=e),r<o-Yt?(e[_n]=t[i],hg(t,Yt+r,e)):(t.push(e),e[_n]=null),e[At]=t;let s=e[oo];s!==null&&t!==s&&Wb(s,e);let a=e[ao];a!==null&&a.insertView(n),Xl(e),e[ge]|=128}function Wb(n,e){let t=n[mc],r=e[At];if(Cr(r))n[ge]|=2;else{let i=r[At][In];e[In]!==i&&(n[ge]|=2)}t===null?n[mc]=[e]:t.push(e)}var mi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[De];return Cc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[xt]}set context(e){this._lView[xt]=e}get destroyed(){return uo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[At];if(xn(e)){let t=e[gc],r=t?t.indexOf(this):-1;r>-1&&(om(e,r),cc(t,r))}this._attachedToViewContainer=!1}Pb(this._lView[De],this._lView)}onDestroy(e){Cg(this._lView,e)}markForCheck(){km(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ge]&=-129}reattach(){Xl(this._lView),this._lView[ge]|=128}detectChanges(){this._lView[ge]|=1024,$b(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Y(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Is(this._lView),t=this._lView[oo];t!==null&&!e&&Sm(t,this._lView),Mb(this._lView[De],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Y(902,!1);this._appRef=e;let t=Is(this._lView),r=this._lView[oo];r!==null&&!t&&Wb(r,this._lView),Xl(this._lView)}};var Mc=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=iO;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=Hx(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new mi(o)}}return n})();function iO(){return oO(Ln(),nt())}function oO(n,e){return n.type&4?new Mc(e,n,bd(n,e)):null}function xm(n,e,t,r,i){let o=n.data[e];if(o===null)o=sO(n,e,t,r,i),ZT()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=WT();o.injectorIndex=s===null?-1:s.injectorIndex}return ws(o,!0),o}function sO(n,e,t,r,i){let o=Ag(),s=Rg(),a=s?o:o&&o.parent,u=n.data[e]=cO(n,a,t,e,r,i);return aO(n,u,o,s),u}function aO(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function cO(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return zT()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var z8=new RegExp(`^(\\d+)*(${Pk}|${Mk})*(.*)`);var uO=()=>null;function SD(n,e){return uO(n,e)}var Kb=class{},kd=class{},sm=class{resolveComponentFactory(e){throw new Y(917,!1)}},Pc=class{static NULL=new sm},po=class{};var Qb=(()=>{class n{static \u0275prov=ee({token:n,providedIn:"root",factory:()=>null})}return n})();var ud={},am=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,ud,r);return i!==ud||t===ud?i:this.parentInjector.get(e,t,r)}};function AD(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=ng(i,a);else if(o==2){let u=a,l=e[++s];r=ng(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function yi(n,e=0){let t=nt();if(t===null)return Te(n,e);let r=Ln();return tb(r,t,Qt(n),e)}function Yb(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}hO(n,e,t,a,o,u,l)}o!==null&&r!==null&&lO(t,r,o)}function lO(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new Y(-301,!1);r.push(e[i],o)}}function dO(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function hO(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let g=0;g<a;g++){let v=r[g];!u&&co(v)&&(u=!0,dO(n,t,g)),Ek(ZD(t,e),n,v.type)}vO(t,n.data.length,a);for(let g=0;g<a;g++){let v=r[g];v.providersResolver&&v.providersResolver(v)}let l=!1,h=!1,p=Db(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let v=r[g];if(t.mergedAttrs=dm(t.mergedAttrs,v.hostAttrs),pO(n,t,e,p,v),yO(p,v,i),s!==null&&s.has(v)){let[k,P]=s.get(v);t.directiveToIndex.set(v.type,[p,k+t.directiveStart,P+t.directiveStart])}else(o===null||!o.has(v))&&t.directiveToIndex.set(v.type,p);v.contentQueries!==null&&(t.flags|=4),(v.hostBindings!==null||v.hostAttrs!==null||v.hostVars!==0)&&(t.flags|=64);let A=v.type.prototype;!l&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(A.ngOnChanges||A.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}fO(n,t,o)}function fO(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))RD(0,e,i,r),RD(1,e,i,r),MD(e,r,!1);else{let o=t.get(i);ND(0,e,o,r),ND(1,e,o,r),MD(e,r,!0)}}}function RD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),Zb(e,o)}}function ND(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Zb(e,s)}}function Zb(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function MD(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||_m(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function pO(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=eo(i.type,!0)),s=new bc(o,co(i),yi,null);n.blueprint[r]=s,t[r]=s,gO(n,e,r,Db(n,t,i.hostVars,er),i)}function gO(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;mO(s)!=a&&s.push(a),s.push(t,r,o)}}function mO(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function yO(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;co(e)&&(t[""]=n)}}function vO(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Jb(n,e,t,r,i,o,s,a){let u=e[De],l=u.consts,h=vc(l,s),p=xm(u,n,t,r,h);return o&&Yb(u,e,p,vc(l,a),i),p.mergedAttrs=dm(p.mergedAttrs,p.attrs),p.attrs!==null&&AD(p,p.attrs,!1),p.mergedAttrs!==null&&AD(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function Xb(n,e){GD(n,e),Ig(e)&&n.queries.elementEnd(e)}function Om(n){return tC(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function eC(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function tC(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Sc(n,e,t){if(t===er)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function _O(n,e,t,r){let i=Sc(n,e,t);return Sc(n,e+1,r)||i}function zg(n,e,t){return function r(i){let o=li(n)?On(n.index,e):e;km(o,5);let s=e[xt],a=PD(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=PD(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function PD(n,e,t,r){let i=we(null);try{return We(6,e,t),t(r)!==!1}catch(o){return jx(n,o),!1}finally{We(7,e,t),we(i)}}function EO(n,e,t,r,i,o,s,a){let u=yc(n),l=!1,h=null;if(!r&&u&&(h=wO(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=Yn(n,t),g=r?r(p):p;xk(t,g,o,a);let v=i.listen(g,o,a);if(!IO(o)){let A=r?k=>r(wn(k[n.index])):n.index;nC(A,e,t,o,a,v,!1)}}return l}function IO(n){return n.startsWith("animation")||n.startsWith("transition")}function wO(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[_s],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function nC(n,e,t,r,i,o,s){let a=e.firstCreatePass?UT(e):null,u=jT(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function kD(n,e,t,r,i,o){let s=e[t],a=e[De],l=a.data[t].outputs[r],p=s[l].subscribe(o);nC(n.index,a,e,i,o,p,!0)}var cm=Symbol("BINDING");var yd=class extends Pc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ai(e);return new Rs(t,this.ngModule)}};function TO(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Nd.SignalBased)!==0};return i&&(o.transform=i),o})}function DO(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function bO(n,e,t){let r=e instanceof ft?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new am(t,r):t}function CO(n){let e=n.get(po,null);if(e===null)throw new Y(407,!1);let t=n.get(Qb,null),r=n.get(oi,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function SO(n,e){let t=rC(n);return vb(e,t,t==="svg"?wg:t==="math"?OT:null)}function rC(n){return(n.selectors[0][0]||"div").toLowerCase()}var Rs=class extends kd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=TO(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=DO(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Jk(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){We(22);let a=we(null);try{let u=this.componentDef,l=AO(r,u,s,o),h=bO(u,i||this.ngModule,e),p=CO(h),g=p.rendererFactory.createRenderer(null,u),v=r?Cx(g,r,u.encapsulation,h):SO(u,g),A=s?.some(xD)||o?.some(j=>typeof j!="function"&&j.bindings.some(xD)),k=Im(null,l,null,512|Tb(u),null,null,p,g,h,null,hb(v,h,!0));k[sn]=v,td(k);let P=null;try{let j=Jb(sn,k,2,"#host",()=>l.directiveRegistry,!0,0);Eb(g,v,j),Ss(v,k),Nm(l,k,j),pb(l,j,k),Xb(l,j),t!==void 0&&NO(j,this.ngContentSelectors,t),P=On(j.index,k),k[xt]=P[xt],Pm(l,k,null)}catch(j){throw P!==null&&Zg(P),Zg(k),j}finally{We(23),nd()}return new vd(this.componentType,k,!!A)}finally{we(a)}}};function AO(n,e,t,r){let i=n?["ng-version","20.3.15"]:Xk(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[cm].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let g of p.bindings){a+=g[cm].requiredVars;let v=h+1;g.create&&(g.targetIdx=v,(o??=[]).push(g)),g.update&&(g.targetIdx=v,(s??=[]).push(g))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,g=mg(p);u.push(g)}return Em(0,null,RO(o,s),1,a,u,null,null,null,[i],null)}function RO(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function xD(n){let e=n[cm].kind;return e==="input"||e==="twoWay"}var vd=class extends Kb{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Zl(t[De],sn),this.location=bd(this._tNode,t),this.instance=On(this._tNode.index,t)[xt],this.hostView=this.changeDetectorRef=new mi(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Mm(r,i[De],i,e,t);this.previousInputValues.set(e,t);let s=On(r.index,i);km(s,1)}get injector(){return new fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function NO(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var vo=(()=>{class n{static __NG_ELEMENT_ID__=MO}return n})();function MO(){let n=Ln();return kO(n,nt())}var PO=vo,iC=class extends PO{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return bd(this._hostTNode,this._hostLView)}get injector(){return new fo(this._hostTNode,this._hostLView)}get parentInjector(){let e=hm(this._hostTNode,this._hostLView);if(KD(e)){let t=hd(e,this._hostLView),r=dd(e),i=t[De].data[r+8];return new fo(i,t)}else return new fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=OD(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Yt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=SD(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,CD(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!ok(e),l;if(u)l=t;else{let P=t||{};l=P.index,r=P.injector,i=P.projectableNodes,o=P.environmentInjector||P.ngModuleRef,s=P.directives,a=P.bindings}let h=u?e:new Rs(ai(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let j=(u?p:this.parentInjector).get(ft,null);j&&(o=j)}let g=ai(h.componentType??{}),v=SD(this._lContainer,g?.id??null),A=v?.firstChild??null,k=h.create(p,i,A,o,s,a);return this.insertImpl(k.hostView,l,CD(this._hostTNode,v)),k}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(LT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[At],l=new iC(u,u[En],u[At]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return nO(s,i,o,r),e.attachToViewContainerRef(),hg(qg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=OD(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=om(this._lContainer,t);r&&(cc(qg(this._lContainer),t),Pb(r[De],r))}detach(e){let t=this._adjustIndex(e,-1),r=om(this._lContainer,t);return r&&cc(qg(this._lContainer),t)!=null?new mi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function OD(n){return n[gc]}function qg(n){return n[gc]||(n[gc]=[])}function kO(n,e){let t,r=e[n.index];return xn(r)?t=r:(t=Gb(r,e,null,n),e[n.index]=t,wm(e,t)),OO(t,e,n,r),new iC(t,n,e)}function xO(n,e){let t=n[Et],r=t.createComment(""),i=Yn(e,n),o=t.parentNode(i);return pd(t,o,r,t.nextSibling(i),!1),r}var OO=VO,LO=()=>!1;function FO(n,e,t){return LO(n,e,t)}function VO(n,e,t,r){if(n[ui])return;let i;t.type&8?i=wn(r):i=xO(e,t),n[ui]=i}var go=class{},xd=class{};var _d=class extends go{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new yd(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=gg(e);this._bootstrapComponents=Ib(o.bootstrap),this._r3Injector=Fg(e,t,[{provide:go,useValue:this},{provide:Pc,useValue:this.componentFactoryResolver},...r],br(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ed=class extends xd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new _d(this.moduleType,e,[])}};var Ac=class extends go{injector;componentFactoryResolver=new yd(this);instance=null;constructor(e){super();let t=new to([...e.providers,{provide:go,useValue:this},{provide:Pc,useValue:this.componentFactoryResolver}],e.parent||lc(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function kc(n,e,t=null){return new Ac({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var jO=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=yg(!1,t.type),i=r.length>0?kc([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ee({token:n,providedIn:"environment",factory:()=>new n(Te(ft))})}return n})();function xc(n){return Ms(()=>{let e=oC(n),t=Fe(z({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===pm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(jO).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ar.Emulated,styles:n.styles||vn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Md("NgStandalone"),sC(t);let r=n.dependencies;return t.directiveDefs=LD(r,UO),t.pipeDefs=LD(r,AT),t.id=HO(t),t})}function UO(n){return ai(n)||mg(n)}function Oc(n){return Ms(()=>({type:n.type,bootstrap:n.bootstrap||vn,declarations:n.declarations||vn,imports:n.imports||vn,exports:n.exports||vn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function BO(n,e){if(n==null)return ro;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Nd.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function $O(n){if(n==null)return ro;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Ps(n){return Ms(()=>{let e=oC(n);return sC(e),e})}function oC(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||ro,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||vn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:BO(n.inputs,e),outputs:$O(n.outputs),debugInfo:null}}function sC(n){n.features?.forEach(e=>e(n))}function LD(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function HO(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function zO(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=dm(n.mergedAttrs,n.attrs);let h=n.tView=Em(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),ws(n,!1);let u=GO(t,e,n,r);rd()&&Am(t,e,u,n),Ss(u,e);let l=Gb(u,e,u,n);e[r+sn]=l,wm(e,l),FO(l,n,e)}function qO(n,e,t,r,i,o,s,a,u,l,h){let p=t+sn,g;return e.firstCreatePass?(g=xm(e,p,4,s||null,a||null),Sg()&&Yb(e,n,g,vc(e.consts,l),Lb),GD(e,g)):g=e.data[p],zO(g,n,e,t,r,i,o,u),yc(g)&&Nm(e,n,g),l!=null&&Ob(n,g,h),g}function vi(n,e,t,r,i,o,s,a){let u=nt(),l=di(),h=vc(l.consts,o);return qO(u,l,n,e,t,r,i,h,void 0,s,a),vi}var GO=WO;function WO(n,e,t,r){return id(!0),e[Et].createComment("")}var Lm=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Fm=new X("");function ks(n){return!!n&&typeof n.then=="function"}function Vm(n){return!!n&&typeof n.subscribe=="function"}var aC=new X("");var jm=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=V(aC,{optional:!0})??[];injector=V(_t);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=pt(this.injector,i);if(ks(o))t.push(o);else if(Vm(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Od=new X("");function cC(){Sp(()=>{let n="";throw new Y(600,n)})}function uC(n){return n.isBoundToModule}var KO=10;var _o=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=V(an);afterRenderManager=V(Rb);zonelessEnabled=V(Ic);rootEffectScheduler=V(Ug);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ct;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=V(Zn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Ae(t=>!t))}constructor(){V(Nc,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=V(ft);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=_t.NULL){return this._injector.get(He).run(()=>{We(10);let s=t instanceof kd;if(!this._injector.get(jm).done){let A="";throw new Y(405,A)}let u;s?u=t:u=this._injector.get(Pc).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=uC(u)?void 0:this._injector.get(go),h=r||u.selector,p=u.create(i,[],h,l),g=p.location.nativeElement,v=p.injector.get(Fm,null);return v?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),Dc(this.components,p),v?.unregisterApplication(g)}),this._loadComponent(p),We(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){We(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Dm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Y(101,!1);let t=we(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,we(t),this.afterTick.next(),We(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(po,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<KO;)We(14),this.synchronizeOnce(),We(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!_c(i))continue;let o=r&&!this.zonelessEnabled?0:1;$b(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>_c(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Dc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Od,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Dc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Y(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Dc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var Z8=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function un(n,e,t){let r=nt(),i=Pg();if(Sc(r,i,e)){let o=di(),s=oD();Nx(s,r,n,e,r[Et],t)}return un}function FD(n,e,t,r,i){Mm(e,n,t,i?"class":"style",r)}function ae(n,e,t,r){let i=nt(),o=i[De],s=n+sn,a=o.firstCreatePass?Jb(s,i,2,e,Lb,Sg(),t,r):o.data[s];if(Fx(a,i,n,e,QO),yc(a)){let u=i[De];Nm(u,i,a),pb(u,a,i)}return r!=null&&Ob(i,a),ae}function le(){let n=di(),e=Ln(),t=Vx(e);return n.firstCreatePass&&Xb(n,t),qT(t)&&GT(),HT(),t.classesWithoutHost!=null&&dk(t)&&FD(n,t,nt(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&hk(t)&&FD(n,t,nt(),t.stylesWithoutHost,!1),le}function Zt(n,e,t,r){return ae(n,e,t,r),le(),Zt}var QO=(n,e,t,r,i)=>(id(!0),vb(e[Et],r,sD()));function xs(){return nt()}var Lc="en-US";var YO=Lc;function lC(n){typeof n=="string"&&(YO=n.toLowerCase().replace(/_/g,"-"))}function tr(n,e,t){let r=nt(),i=di(),o=Ln();return ZO(i,r,r[Et],o,n,e,t),tr}function ZO(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=zg(r,e,o),EO(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],v=h[p+1];u??=zg(r,e,o),kD(r,e,g,v,i,u)}if(l&&l.length)for(let p of l)u??=zg(r,e,o),kD(r,e,p,i,i,u)}}function ln(n=1){return iD(n)}function sd(n,e){return n<<17|e<<2}function mo(n){return n>>17&32767}function JO(n){return(n&2)==2}function XO(n,e){return n&131071|e<<17}function um(n){return n|2}function Ns(n){return(n&131068)>>2}function Gg(n,e){return n&-131069|e<<2}function e1(n){return(n&1)===1}function lm(n){return n|1}function t1(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=mo(s),u=Ns(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||vs(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let g=mo(n[a+1]);n[r+1]=sd(g,a),g!==0&&(n[g+1]=Gg(n[g+1],r)),n[a+1]=XO(n[a+1],r)}else n[r+1]=sd(a,0),a!==0&&(n[a+1]=Gg(n[a+1],r)),a=r;else n[r+1]=sd(u,0),a===0?a=r:n[u+1]=Gg(n[u+1],r),u=r;l&&(n[r+1]=um(n[r+1])),VD(n,h,r,!0),VD(n,h,r,!1),n1(e,h,n,r,o),s=sd(a,u),o?e.classBindings=s:e.styleBindings=s}function n1(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&vs(o,e)>=0&&(t[r+1]=lm(t[r+1]))}function VD(n,e,t,r){let i=n[t+1],o=e===null,s=r?mo(i):Ns(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];r1(u,e)&&(a=!0,n[s+1]=r?lm(l):um(l)),s=r?mo(l):Ns(l)}a&&(n[t+1]=r?um(i):lm(i))}function r1(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?vs(n,e)>=0:!1}function Ld(n,e){return i1(n,e,null,!0),Ld}function i1(n,e,t,r){let i=nt(),o=di(),s=kg(2);if(o.firstUpdatePass&&s1(o,n,s,r),e!==er&&Sc(i,s,e)){let a=o.data[pi()];d1(o,a,i,i[Et],n,i[s+1]=h1(e,t),r,s)}}function o1(n,e){return e>=n.expandoStartIndex}function s1(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[pi()],s=o1(n,t);f1(o,r)&&e===null&&!s&&(e=!1),e=a1(i,o,e,r),t1(i,o,e,t,s,r)}}function a1(n,e,t,r){let i=eD(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Wg(null,n,e,t,r),t=Rc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Wg(i,n,e,t,r),o===null){let u=c1(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Wg(null,n,e,u[1],r),u=Rc(u,e.attrs,r),u1(n,e,r,u))}else o=l1(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function c1(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Ns(r)!==0)return n[mo(r)]}function u1(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[mo(i)]=r}function l1(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Rc(r,s,t)}return Rc(r,e.attrs,t)}function Wg(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Rc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Rc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),ST(n,s,t?!0:e[++o]))}return n===void 0?null:n}function d1(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=e1(l)?jD(u,e,t,i,Ns(l),s):void 0;if(!Id(h)){Id(o)||JO(l)&&(o=jD(u,null,t,i,a,s));let p=Tg(pi(),t);bx(r,s,p,i,o)}}function jD(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=t[i+1];g===er&&(g=p?vn:void 0);let v=p?Kl(g,r):h===r?g:void 0;if(l&&!Id(v)&&(v=Kl(u,r)),Id(v)&&(a=v,s))return a;let A=n[i+1];i=s?mo(A):Ns(A)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Kl(u,r))}return a}function Id(n){return n!==void 0}function h1(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=br(ym(n)))),n}function f1(n,e){return(n.flags&(e?8:16))!==0}function xe(n,e=""){let t=nt(),r=di(),i=n+sn,o=r.firstCreatePass?xm(r,i,1,e,null):r.data[i],s=p1(r,t,o,e,n);t[i]=s,rd()&&Am(r,t,s,o),ws(o,!1)}var p1=(n,e,t,r,i)=>(id(!0),Fk(e[Et],r));function g1(n,e,t,r=""){return Sc(n,Pg(),t)?e+ys(t)+r:er}function m1(n,e,t,r,i,o=""){let s=QT(),a=_O(n,s,t,i);return kg(2),a?e+ys(t)+r+ys(i)+o:er}function rt(n){return Vn("",n),rt}function Vn(n,e,t){let r=nt(),i=g1(r,n,e,t);return i!==er&&dC(r,pi(),i),Vn}function Fd(n,e,t,r,i){let o=nt(),s=m1(o,n,e,t,r,i);return s!==er&&dC(o,pi(),s),Fd}function dC(n,e,t){let r=Tg(e,n);Vk(n[Et],r,t)}var wd=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Um=(()=>{class n{compileModuleSync(t){return new Ed(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=gg(t),o=Ib(i.declarations).reduce((s,a)=>{let u=ai(a);return u&&s.push(new Rs(u)),s},[]);return new wd(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var y1=(()=>{class n{zone=V(He);changeDetectionScheduler=V(oi);applicationRef=V(_o);applicationErrorHandler=V(an);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hC=new X("",{factory:()=>!1});function Bm({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new He(Fe(z({},Hm()),{scheduleInRootZone:t})),[{provide:He,useFactory:n},{provide:si,multi:!0,useFactory:()=>{let r=V(y1,{optional:!0});return()=>r.initialize()}},{provide:si,multi:!0,useFactory:()=>{let r=V(v1);return()=>{r.initialize()}}},e===!0?{provide:Vg,useValue:!0}:[],{provide:jg,useValue:t??Cb},{provide:an,useFactory:()=>{let r=V(He),i=V(ft),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Kn),o.handleError(s))})}}}]}function $m(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=Bm({ngZoneFactory:()=>{let i=Hm(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Md("NgZone_CoalesceEvent"),new He(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Pn([{provide:hC,useValue:!0},{provide:Ic,useValue:!1},r])}function Hm(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var v1=(()=>{class n{subscription=new et;initialized=!1;zone=V(He);pendingTasks=V(Zn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{He.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{He.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fC=(()=>{class n{applicationErrorHandler=V(an);appRef=V(_o);taskService=V(Zn);ngZone=V(He);zonelessEnabled=V(Ic);tracing=V(Nc,{optional:!0});disableScheduling=V(Vg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new et;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(gd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(V(jg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof md||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?ED:Sb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(gd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ED(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _1(){return typeof $localize<"u"&&$localize.locale||Lc}var Vd=new X("",{providedIn:"root",factory:()=>V(Vd,{optional:!0,skipSelf:!0})||_1()});function Rr(n){return yT(n)}var pC=class{[qt];constructor(e){this[qt]=e}destroy(){this[qt].destroy()}};var vC=Symbol("InputSignalNode#UNSET"),j1=Fe(z({},fl),{transformFn:void 0,applyValueToInputSignal(n,e){Jo(n,e)}});function _C(n,e){let t=Object.create(j1);t.value=n,t.transformFn=e?.transform;function r(){if(Ya(t),t.value===vC){let i=null;throw new Y(-950,i)}return t.value}return r[qt]=t,r}var U1=new X("");U1.__NG_ELEMENT_ID__=n=>{let e=Ln();if(e===null)throw new Y(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new Y(204,!1)};function gC(n,e){return _C(n,e)}function B1(n){return _C(vC,n)}var EC=(gC.required=B1,gC);var zm=new X(""),$1=new X("");function Fc(n){return!n.moduleRef}function H1(n){let e=Fc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(He);return t.run(()=>{Fc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(an),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Fc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(zm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(zm);s.add(o),n.moduleRef.onDestroy(()=>{Dc(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return q1(r,t,()=>{let o=e.get(Zn),s=o.add(),a=e.get(jm);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(Vd,Lc);if(lC(u||Lc),!e.get($1,!0))return Fc(n)?e.get(_o):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Fc(n)){let h=e.get(_o);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return z1?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var z1;function q1(n,e,t){try{let r=t();return ks(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var jd=null;function G1(n=[],e){return _t.create({name:e,providers:[{provide:uc,useValue:"platform"},{provide:zm,useValue:new Set([()=>jd=null])},...n]})}function W1(n=[]){if(jd)return jd;let e=G1(n);return jd=e,cC(),K1(e),e}function K1(n){let e=n.get(Sd,null);pt(n,()=>{e?.forEach(t=>t())})}function Qm(){return!1}var Ym=(()=>{class n{static __NG_ELEMENT_ID__=Q1}return n})();function Q1(n){return Y1(Ln(),nt(),(n&16)===16)}function Y1(n,e,t){if(li(n)&&!t){let r=On(n.index,e);return new mi(r,r)}else if(n.type&175){let r=e[In];return new mi(r,e)}return null}var qm=class{constructor(){}supports(e){return Om(e)}create(e){return new Gm(e)}},Z1=(n,e)=>e,Gm=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||Z1}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<mC(r,i,o)?t:r,a=mC(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let v=g<o.length?o[g]:o[g]=0,A=v+g;h<=A&&A<l&&(o[g]=v+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Om(e))throw new Y(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,eC(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Wm(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ud),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ud),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Wm=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Km=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Ud=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Km,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function mC(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function yC(){return new Zm([new qm])}var Zm=(()=>{class n{factories;static \u0275prov=ee({token:n,providedIn:"root",factory:yC});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=V(n,{optional:!0,skipSelf:!0});return n.create(t,r||yC())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new Y(901,!1)}}return n})();function IC(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;We(8);try{let o=i?.injector??W1(r),s=[Bm({}),{provide:oi,useExisting:fC},cD,...t||[]],a=new Ac({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return H1({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{We(9)}}var DC=null;function Mr(){return DC}function Jm(n){DC??=n}var Vc=class{},Xm=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:()=>V(bC),providedIn:"platform"})}return n})();var bC=(()=>{class n extends Xm{_location;_history;_doc=V(Rt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Mr().getBaseHref(this._doc)}onPopState(t){let r=Mr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Mr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function CC(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function wC(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function _i(n){return n&&n[0]!=="?"?`?${n}`:n}var Bd=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:()=>V(AC),providedIn:"root"})}return n})(),SC=new X(""),AC=(()=>{class n extends Bd{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(Rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return CC(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+_i(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+_i(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+_i(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Te(Xm),Te(SC,8))};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Os=(()=>{class n{_subject=new Ct;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=eL(wC(TC(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+_i(r))}normalize(t){return n.stripTrailingSlash(X1(this._basePath,TC(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_i(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_i(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=_i;static joinWithSlash=CC;static stripTrailingSlash=wC;static \u0275fac=function(r){return new(r||n)(Te(Bd))};static \u0275prov=ee({token:n,factory:()=>J1(),providedIn:"root"})}return n})();function J1(){return new Os(Te(Bd))}function X1(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function TC(n){return n.replace(/\/index.html$/,"")}function eL(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var $d=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},zd=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new $d(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),RC(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);RC(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(yi(vo),yi(Mc),yi(Zm))};static \u0275dir=Ps({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function RC(n,e){n.context.$implicit=e.item}var ey=(()=>{class n{_viewContainer;_context=new Hd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){NC(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){NC(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(yi(vo),yi(Mc))};static \u0275dir=Ps({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Hd=class{$implicit=null;ngIf=null};function NC(n,e){if(n&&!n.createEmbeddedView)throw new Y(2020,!1)}var qd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Oc({type:n});static \u0275inj=ms({})}return n})();function ty(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var jc=class{};var MC="browser";var Uc=class{_doc;constructor(e){this._doc=e}manager},Gd=(()=>{class n extends Uc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Te(Rt))};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})(),Kd=new X(""),sy=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Gd));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Gd);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new Y(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Te(Kd),Te(He))};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})(),ny="ng-app-id";function PC(n){for(let e of n)e.remove()}function kC(n,e){let t=e.createElement("style");return t.textContent=n,t}function nL(n,e,t,r){let i=n.head?.querySelectorAll(`style[${ny}="${e}"],link[${ny}="${e}"]`);if(i)for(let o of i)o.removeAttribute(ny),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function iy(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var ay=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,nL(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,kC);r?.forEach(i=>this.addUsage(i,this.external,iy))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(PC(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])PC(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,kC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,iy(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Te(Rt),Te(Cd),Te(Ad,8),Te(yo))};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})(),ry={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},cy=/%COMP%/g;var OC="%COMP%",rL=`_nghost-${OC}`,iL=`_ngcontent-${OC}`,oL=!0,sL=new X("",{providedIn:"root",factory:()=>oL});function aL(n){return iL.replace(cy,n)}function cL(n){return rL.replace(cy,n)}function LC(n,e){return e.map(t=>t.replace(cy,n))}var uy=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new Bc(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Wd?i.applyToHost(t):i instanceof $c&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case Ar.Emulated:o=new Wd(u,l,r,this.appId,h,s,a,p,g);break;case Ar.ShadowDom:return new oy(u,l,t,r,s,a,this.nonce,p,g);default:o=new $c(u,l,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Te(sy),Te(ay),Te(Cd),Te(sL),Te(Rt),Te(He),Te(Ad),Te(Nc,8))};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})(),Bc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(ry[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(xC(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(xC(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Y(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=ry[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=ry[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Xn.DashCase|Xn.Important)?e.style.setProperty(t,r,i&Xn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Xn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Mr().getGlobalEventTarget(this.doc,e),!e))throw new Y(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function xC(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var oy=class extends Bc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=LC(i.id,h);for(let g of h){let v=document.createElement("style");a&&v.setAttribute("nonce",a),v.textContent=g,this.shadowRoot.appendChild(v)}let p=i.getExternalStyles?.();if(p)for(let g of p){let v=iy(g,o);a&&v.setAttribute("nonce",a),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},$c=class extends Bc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?LC(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&As.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Wd=class extends $c{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=aL(h),this.hostAttr=cL(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Qd=class n extends Vc{supportsDOMEvents=!0;static makeCurrent(){Jm(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=uL();return t==null?null:lL(t)}resetBaseElement(){Hc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ty(document.cookie,e)}},Hc=null;function uL(){return Hc=Hc||document.head.querySelector("base"),Hc?Hc.getAttribute("href"):null}function lL(n){return new URL(n,document.baseURI).pathname}var dL=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})(),FC=["alt","control","meta","shift"],hL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},VC=(()=>{class n extends Uc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Mr().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),FC.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=hL[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),FC.forEach(s=>{if(s!==i){let a=fL[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Te(Rt))};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})();function ly(n,e,t){let r=z({rootComponent:n,platformRef:t?.platformRef},pL(e));return IC(r)}function pL(n){return{appProviders:[..._L,...n?.providers??[]],platformProviders:vL}}function gL(){Qd.makeCurrent()}function mL(){return new Kn}function yL(){return gm(document),document}var vL=[{provide:yo,useValue:MC},{provide:Sd,useValue:gL,multi:!0},{provide:Rt,useFactory:yL}];var _L=[{provide:uc,useValue:"root"},{provide:Kn,useFactory:mL},{provide:Kd,useClass:Gd,multi:!0,deps:[Rt]},{provide:Kd,useClass:VC,multi:!0,deps:[Rt]},uy,ay,sy,{provide:po,useExisting:uy},{provide:jc,useClass:dL},[]];var jC=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Te(Rt))};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var me="primary",nu=Symbol("RouteTitle"),gy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Bs(n){return new gy(n)}function IL(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function wL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!nr(n[t],e[t]))return!1;return!0}function nr(n,e){let t=n?my(n):void 0,r=e?my(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!WC(n[i],e[i]))return!1;return!0}function my(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function WC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function KC(n){return n.length>0?n[n.length-1]:null}function xr(n){return Bp(n)?n:ks(n)?tt(Promise.resolve(n)):ue(n)}var TL={exact:YC,subset:ZC},QC={exact:DL,subset:bL,ignored:()=>!0};function UC(n,e,t){return TL[t.paths](n.root,e.root,t.matrixParams)&&QC[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function DL(n,e){return nr(n,e)}function YC(n,e,t){if(!Io(n.segments,e.segments)||!Jd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!YC(n.children[r],e.children[r],t))return!1;return!0}function bL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>WC(n[t],e[t]))}function ZC(n,e,t){return JC(n,e,e.segments,t)}function JC(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Io(i,t)||e.hasChildren()||!Jd(i,t,r))}else if(n.segments.length===t.length){if(!Io(n.segments,t)||!Jd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!ZC(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Io(n.segments,i)||!Jd(n.segments,i,r)||!n.children[me]?!1:JC(n.children[me],e,o,r)}}function Jd(n,e,t){return e.every((r,i)=>QC[t](n[i].parameters,r.parameters))}var kr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ue([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Bs(this.queryParams),this._queryParamMap}toString(){return AL.serialize(this)}},Ue=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xd(this)}},Eo=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Bs(this.parameters),this._parameterMap}toString(){return eS(this)}};function CL(n,e){return Io(n,e)&&n.every((t,r)=>nr(t.parameters,e[r].parameters))}function Io(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function SL(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===me&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==me&&(t=t.concat(e(i,r)))}),t}var dh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:()=>new $s,providedIn:"root"})}return n})(),$s=class{parse(e){let t=new vy(e);return new kr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${zc(e.root,!0)}`,r=ML(e.queryParams),i=typeof e.fragment=="string"?`#${RL(e.fragment)}`:"";return`${t}${r}${i}`}},AL=new $s;function Xd(n){return n.segments.map(e=>eS(e)).join("/")}function zc(n,e){if(!n.hasChildren())return Xd(n);if(e){let t=n.children[me]?zc(n.children[me],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==me&&r.push(`${i}:${zc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=SL(n,(r,i)=>i===me?[zc(n.children[me],!1)]:[`${i}:${zc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[me]!=null?`${Xd(n)}/${t[0]}`:`${Xd(n)}/(${t.join("//")})`}}function XC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yd(n){return XC(n).replace(/%3B/gi,";")}function RL(n){return encodeURI(n)}function yy(n){return XC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function eh(n){return decodeURIComponent(n)}function BC(n){return eh(n.replace(/\+/g,"%20"))}function eS(n){return`${yy(n.path)}${NL(n.parameters)}`}function NL(n){return Object.entries(n).map(([e,t])=>`;${yy(e)}=${yy(t)}`).join("")}function ML(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Yd(t)}=${Yd(i)}`).join("&"):`${Yd(t)}=${Yd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var PL=/^[^\/()?;#]+/;function dy(n){let e=n.match(PL);return e?e[0]:""}var kL=/^[^\/()?;=#]+/;function xL(n){let e=n.match(kL);return e?e[0]:""}var OL=/^[^=?&#]+/;function LL(n){let e=n.match(OL);return e?e[0]:""}var FL=/^[^&#]+/;function VL(n){let e=n.match(FL);return e?e[0]:""}var vy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ue([],{}):new Ue([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[me]=new Ue(e,t)),r}parseSegment(){let e=dy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Y(4009,!1);return this.capture(e),new Eo(eh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=xL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=dy(this.remaining);i&&(r=i,this.capture(r))}e[eh(t)]=eh(r)}parseQueryParam(e){let t=LL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=VL(this.remaining);s&&(r=s,this.capture(r))}let i=BC(t),o=BC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=dy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Y(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=me);let s=this.parseChildren();t[o??me]=Object.keys(s).length===1&&s[me]?s[me]:new Ue([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Y(4011,!1)}};function tS(n){return n.segments.length>0?new Ue([],{[me]:n}):n}function nS(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=nS(i);if(r===me&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ue(n.segments,e);return jL(t)}function jL(n){if(n.numberOfChildren===1&&n.children[me]){let e=n.children[me];return new Ue(n.segments.concat(e.segments),e.children)}return n}function Hs(n){return n instanceof kr}function UL(n,e,t=null,r=null){let i=rS(n);return iS(i,e,t,r)}function rS(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Ue(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=tS(r);return e??i}function iS(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return hy(i,i,i,t,r);let o=BL(e);if(o.toRoot())return hy(i,i,new Ue([],{}),t,r);let s=$L(o,i,n),a=s.processChildren?Gc(s.segmentGroup,s.index,o.commands):sS(s.segmentGroup,s.index,o.commands);return hy(i,s.segmentGroup,a,t,r)}function th(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Qc(n){return typeof n=="object"&&n!=null&&n.outlets}function hy(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=oS(n,e,t);let a=tS(nS(s));return new kr(a,o,i)}function oS(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=oS(o,e,t)}),new Ue(n.segments,r)}var nh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&th(r[0]))throw new Y(4003,!1);let i=r.find(Qc);if(i&&i!==KC(r))throw new Y(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function BL(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new nh(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new nh(t,e,r)}var Vs=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function $L(n,e,t){if(n.isAbsolute)return new Vs(e,!0,0);if(!t)return new Vs(e,!1,NaN);if(t.parent===null)return new Vs(t,!0,0);let r=th(n.commands[0])?0:1,i=t.segments.length-1+r;return HL(t,i,n.numberOfDoubleDots)}function HL(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Y(4005,!1);i=r.segments.length}return new Vs(r,!1,i-o)}function zL(n){return Qc(n[0])?n[0].outlets:{[me]:n}}function sS(n,e,t){if(n??=new Ue([],{}),n.segments.length===0&&n.hasChildren())return Gc(n,e,t);let r=qL(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ue(n.segments.slice(0,r.pathIndex),{});return o.children[me]=new Ue(n.segments.slice(r.pathIndex),n.children),Gc(o,0,i)}else return r.match&&i.length===0?new Ue(n.segments,{}):r.match&&!n.hasChildren()?_y(n,e,t):r.match?Gc(n,0,i):_y(n,e,t)}function Gc(n,e,t){if(t.length===0)return new Ue(n.segments,{});{let r=zL(t),i={};if(Object.keys(r).some(o=>o!==me)&&n.children[me]&&n.numberOfChildren===1&&n.children[me].segments.length===0){let o=Gc(n.children[me],e,t);return new Ue(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=sS(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ue(n.segments,i)}}function qL(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Qc(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!HC(u,l,s))return o;r+=2}else{if(!HC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function _y(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Qc(o)){let u=GL(o.outlets);return new Ue(r,u)}if(i===0&&th(t[0])){let u=n.segments[e];r.push(new Eo(u.path,$C(t[0]))),i++;continue}let s=Qc(o)?o.outlets[me]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&th(a)?(r.push(new Eo(s,$C(a))),i+=2):(r.push(new Eo(s,{})),i++)}return new Ue(r,{})}function GL(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=_y(new Ue([],{}),0,r))}),e}function $C(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function HC(n,e,t){return n==t.path&&nr(e,t.parameters)}var Wc="imperative",Nt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Nt||{}),Tn=class{id;url;constructor(e,t){this.id=e,this.url=t}},zs=class extends Tn{type=Nt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ei=class extends Tn{urlAfterRedirects;type=Nt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Jt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Jt||{}),rh=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(rh||{}),Pr=class extends Tn{reason;code;type=Nt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ii=class extends Tn{reason;code;type=Nt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Yc=class extends Tn{error;target;type=Nt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ih=class extends Tn{urlAfterRedirects;state;type=Nt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ey=class extends Tn{urlAfterRedirects;state;type=Nt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Iy=class extends Tn{urlAfterRedirects;state;shouldActivate;type=Nt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},wy=class extends Tn{urlAfterRedirects;state;type=Nt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ty=class extends Tn{urlAfterRedirects;state;type=Nt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dy=class{route;type=Nt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},by=class{route;type=Nt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Cy=class{snapshot;type=Nt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sy=class{snapshot;type=Nt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ay=class{snapshot;type=Nt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ry=class{snapshot;type=Nt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Zc=class{},qs=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function WL(n){return!(n instanceof Zc)&&!(n instanceof qs)}function KL(n,e){return n.providers&&!n._injector&&(n._injector=kc(n.providers,e,`Route: ${n.path}`)),n._injector??e}function jn(n){return n.outlet||me}function QL(n,e){let t=n.filter(r=>jn(r)===e);return t.push(...n.filter(r=>jn(r)!==e)),t}function Ws(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Ny=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ws(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ru(this.rootInjector)}},ru=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ny(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Te(ft))};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=My(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=My(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Py(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Py(e,this._root).map(t=>t.value)}};function My(n,e){if(n===e.value)return e;for(let t of e.children){let r=My(n,t);if(r)return r}return null}function Py(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Py(n,t);if(r.length)return r.unshift(e),r}return[]}var dn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Fs(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var sh=class extends oh{snapshot;constructor(e,t){super(e),this.snapshot=t,By(this,e)}toString(){return this.snapshot.toString()}};function aS(n){let e=YL(n),t=new St([new Eo("",{})]),r=new St({}),i=new St({}),o=new St({}),s=new St(""),a=new wo(t,r,o,s,i,me,n,e.root);return a.snapshot=e.root,new sh(new dn(a,[]),e)}function YL(n){let e={},t={},r={},o=new js([],e,r,"",t,me,n,null,{});return new ch("",new dn(o,[]))}var wo=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Ae(l=>l[nu]))??ue(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ae(e=>Bs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ae(e=>Bs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ah(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:z(z({},e.params),n.params),data:z(z({},e.data),n.data),resolve:z(z(z(z({},n.data),e.data),i?.data),n._resolvedData)}:r={params:z({},n.params),data:z({},n.data),resolve:z(z({},n.data),n._resolvedData??{})},i&&uS(i)&&(r.resolve[nu]=i.title),r}var js=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[nu]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Bs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Bs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},ch=class extends oh{url;constructor(e,t){super(t),this.url=e,By(this,t)}toString(){return cS(this._root)}};function By(n,e){e.value._routerState=n,e.children.forEach(t=>By(n,t))}function cS(n){let e=n.children.length>0?` { ${n.children.map(cS).join(", ")} } `:"";return`${n.value}${e}`}function fy(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,nr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),nr(e.params,t.params)||n.paramsSubject.next(t.params),wL(e.url,t.url)||n.urlSubject.next(t.url),nr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ky(n,e){let t=nr(n.params,e.params)&&CL(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||ky(n.parent,e.parent))}function uS(n){return typeof n.title=="string"||n.title===null}var ZL=new X(""),lS=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=me;activateEvents=new Bt;deactivateEvents=new Bt;attachEvents=new Bt;detachEvents=new Bt;routerOutletData=EC();parentContexts=V(ru);location=V(vo);changeDetector=V(Ym);inputBinder=V(hh,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Y(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Y(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Y(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Y(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new xy(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ps({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Td]})}return n})(),xy=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===wo?this.route:e===ru?this.childContexts:e===ZL?this.outletData:this.parent.get(e,t)}},hh=new X("");var dS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=xc({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Zt(0,"router-outlet")},dependencies:[lS],encapsulation:2})}return n})();function $y(n){let e=n.children&&n.children.map($y),t=e?Fe(z({},n),{children:e}):z({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==me&&(t.component=dS),t}function JL(n,e,t){let r=Jc(n,e._root,t?t._root:void 0);return new sh(r,e)}function Jc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=XL(n,e,t);return new dn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Jc(n,a)),s}}let r=eF(e.value),i=e.children.map(o=>Jc(n,o));return new dn(r,i)}}function XL(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Jc(n,r,i);return Jc(n,r)})}function eF(n){return new wo(new St(n.url),new St(n.params),new St(n.queryParams),new St(n.fragment),new St(n.data),n.outlet,n.component,n)}var Xc=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},hS="ngNavigationCancelingError";function uh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Hs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=fS(!1,Jt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function fS(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[hS]=!0,t.cancellationCode=e,t}function tF(n){return pS(n)&&Hs(n.url)}function pS(n){return!!n&&n[hS]}var nF=(n,e,t,r)=>Ae(i=>(new Oy(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Oy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),fy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Fs(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Fs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Fs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Fs(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ry(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Sy(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(fy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),fy(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},lh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Us=class{component;route;constructor(e,t){this.component=e,this.route=t}};function rF(n,e,t){let r=n._root,i=e?e._root:null;return qc(r,i,t,[r.value])}function iF(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ks(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!ig(n)?n:e.get(n):r}function qc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Fs(e);return n.children.forEach(s=>{oF(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Kc(a,t.getContext(s),i)),i}function oF(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=sF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new lh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?qc(n,e,a?a.children:null,r,i):qc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Us(a.outlet.component,s))}else s&&Kc(e,a,i),i.canActivateChecks.push(new lh(r)),o.component?qc(n,null,a?a.children:null,r,i):qc(n,null,t,r,i);return i}function sF(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Io(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Io(n.url,e.url)||!nr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ky(n,e)||!nr(n.queryParams,e.queryParams);case"paramsChange":default:return!ky(n,e)}}function Kc(n,e,t){let r=Fs(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Kc(s,e.children.getContext(o),t):Kc(s,null,t):Kc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Us(e.outlet.component,i)):t.canDeactivateChecks.push(new Us(null,i)):t.canDeactivateChecks.push(new Us(null,i))}function iu(n){return typeof n=="function"}function aF(n){return typeof n=="boolean"}function cF(n){return n&&iu(n.canLoad)}function uF(n){return n&&iu(n.canActivate)}function lF(n){return n&&iu(n.canActivateChild)}function dF(n){return n&&iu(n.canDeactivate)}function hF(n){return n&&iu(n.canMatch)}function gS(n){return n instanceof Ir||n?.name==="EmptyError"}var Zd=Symbol("INITIAL_VALUE");function Gs(){return Kt(n=>xl(n.map(e=>e.pipe(wr(1),Fl(Zd)))).pipe(Ae(e=>{for(let t of e)if(t!==!0){if(t===Zd)return Zd;if(t===!1||fF(t))return t}return!0}),nn(e=>e!==Zd),wr(1)))}function fF(n){return Hs(n)||n instanceof Xc}function pF(n,e){return ht(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ue(Fe(z({},t),{guardsResult:!0})):gF(s,r,i,n).pipe(ht(a=>a&&aF(a)?mF(r,o,n,e):ue(a)),Ae(a=>Fe(z({},t),{guardsResult:a})))})}function gF(n,e,t,r){return tt(n).pipe(ht(i=>IF(i.component,i.route,t,e,r)),Tr(i=>i!==!0,!0))}function mF(n,e,t,r){return tt(e).pipe(ds(i=>ls(vF(i.route.parent,r),yF(i.route,r),EF(n,i.path,t),_F(n,i.route,t))),Tr(i=>i!==!0,!0))}function yF(n,e){return n!==null&&e&&e(new Ay(n)),ue(!0)}function vF(n,e){return n!==null&&e&&e(new Cy(n)),ue(!0)}function _F(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ue(!0);let i=r.map(o=>nc(()=>{let s=Ws(e)??t,a=Ks(o,s),u=uF(a)?a.canActivate(e,n):pt(s,()=>a(e,n));return xr(u).pipe(Tr())}));return ue(i).pipe(Gs())}function EF(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>iF(s)).filter(s=>s!==null).map(s=>nc(()=>{let a=s.guards.map(u=>{let l=Ws(s.node)??t,h=Ks(u,l),p=lF(h)?h.canActivateChild(r,n):pt(l,()=>h(r,n));return xr(p).pipe(Tr())});return ue(a).pipe(Gs())}));return ue(o).pipe(Gs())}function IF(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ue(!0);let s=o.map(a=>{let u=Ws(e)??i,l=Ks(a,u),h=dF(l)?l.canDeactivate(n,e,t,r):pt(u,()=>l(n,e,t,r));return xr(h).pipe(Tr())});return ue(s).pipe(Gs())}function wF(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ue(!0);let o=i.map(s=>{let a=Ks(s,n),u=cF(a)?a.canLoad(e,t):pt(n,()=>a(e,t));return xr(u)});return ue(o).pipe(Gs(),mS(r))}function mS(n){return vl(vt(e=>{if(typeof e!="boolean")throw uh(n,e)}),Ae(e=>e===!0))}function TF(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ue(!0);let o=i.map(s=>{let a=Ks(s,n),u=hF(a)?a.canMatch(e,t):pt(n,()=>a(e,t));return xr(u)});return ue(o).pipe(Gs(),mS(r))}var eu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},tu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ls(n){return us(new eu(n))}function DF(n){return us(new Y(4e3,!1))}function bF(n){return us(fS(!1,Jt.GuardRejected))}var Ly=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ue(r);if(i.numberOfChildren>1||!i.children[me])return DF(`${e.redirectTo}`);i=i.children[me]}}applyRedirectCommands(e,t,r,i,o){return CF(t,i,o).pipe(Ae(s=>{if(s instanceof kr)throw new tu(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new tu(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new kr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ue(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new Y(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function CF(n,e,t){if(typeof n=="string")return ue(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return xr(pt(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var Fy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function SF(n,e,t,r,i){let o=yS(n,e,t);return o.matched?(r=KL(e,r),TF(r,e,t,i).pipe(Ae(s=>s===!0?o:z({},Fy)))):ue(o)}function yS(n,e,t){if(e.path==="**")return AF(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?z({},Fy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||IL)(t,n,e);if(!i)return z({},Fy);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?z(z({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function AF(n){return{matched:!0,parameters:n.length>0?KC(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function zC(n,e,t,r){return t.length>0&&MF(n,t,r)?{segmentGroup:new Ue(e,NF(r,new Ue(t,n.children))),slicedSegments:[]}:t.length===0&&PF(n,t,r)?{segmentGroup:new Ue(n.segments,RF(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ue(n.segments,n.children),slicedSegments:t}}function RF(n,e,t,r){let i={};for(let o of t)if(fh(n,e,o)&&!r[jn(o)]){let s=new Ue([],{});i[jn(o)]=s}return z(z({},r),i)}function NF(n,e){let t={};t[me]=e;for(let r of n)if(r.path===""&&jn(r)!==me){let i=new Ue([],{});t[jn(r)]=i}return t}function MF(n,e,t){return t.some(r=>fh(n,e,r)&&jn(r)!==me)}function PF(n,e,t){return t.some(r=>fh(n,e,r))}function fh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function kF(n,e,t){return e.length===0&&!n.children[t]}var Vy=class{};function xF(n,e,t,r,i,o,s="emptyOnly"){return new jy(n,e,t,r,i,s,o).recognize()}var OF=31,jy=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ly(this.urlSerializer,this.urlTree)}noMatchError(e){return new Y(4002,`'${e.segmentGroup}'`)}recognize(){let e=zC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ae(({children:t,rootSnapshot:r})=>{let i=new dn(r,t),o=new ch("",i),s=UL(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new js([],Object.freeze({}),Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),me,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,me,t).pipe(Ae(r=>({children:r,rootSnapshot:t})),ni(r=>{if(r instanceof tu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof eu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(Ae(s=>s instanceof dn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return tt(o).pipe(ds(s=>{let a=r.children[s],u=QL(t,s);return this.processSegmentGroup(e,u,a,s,i)}),Ll((s,a)=>(s.push(...a),s)),ri(null),$p(),ht(s=>{if(s===null)return Ls(r);let a=vS(s);return LF(a),ue(a)}))}processSegment(e,t,r,i,o,s,a){return tt(t).pipe(ds(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(ni(l=>{if(l instanceof eu)return ue(null);throw l}))),Tr(u=>!!u),ni(u=>{if(gS(u))return kF(r,i,o)?ue(new Vy):Ls(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return jn(r)!==s&&(s===me||!fh(i,o,r))?Ls(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Ls(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=yS(t,i,o);if(!u)return Ls(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>OF&&(this.allowRedirects=!1));let v=new js(o,l,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,qC(i),jn(i),i.component??i._loadedComponent??null,i,GC(i)),A=ah(v,a,this.paramsInheritanceStrategy);return v.params=Object.freeze(A.params),v.data=Object.freeze(A.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,e).pipe(Kt(P=>this.applyRedirects.lineralizeSegments(i,P)),ht(P=>this.processSegment(e,r,t,P.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=SF(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Kt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Kt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:v}=u,A=new js(g,p,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,qC(r),jn(r),r.component??r._loadedComponent??null,r,GC(r)),k=ah(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(k.params),A.data=Object.freeze(k.data);let{segmentGroup:P,slicedSegments:j}=zC(t,g,v,l);if(j.length===0&&P.hasChildren())return this.processChildren(h,l,P,A).pipe(Ae(x=>new dn(A,x)));if(l.length===0&&j.length===0)return ue(new dn(A,[]));let L=jn(r)===o;return this.processSegment(h,l,P,j,L?me:o,!0,A).pipe(Ae(x=>new dn(A,x instanceof dn?[x]:[])))}))):Ls(t)))}getChildConfig(e,t,r){return t.children?ue({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ue({routes:t._loadedRoutes,injector:t._loadedInjector}):wF(e,t,r,this.urlSerializer).pipe(ht(i=>i?this.configLoader.loadChildren(e,t).pipe(vt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):bF(t))):ue({routes:[],injector:e})}};function LF(n){n.sort((e,t)=>e.value.outlet===me?-1:t.value.outlet===me?1:e.value.outlet.localeCompare(t.value.outlet))}function FF(n){let e=n.value.routeConfig;return e&&e.path===""}function vS(n){let e=[],t=new Set;for(let r of n){if(!FF(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=vS(r.children);e.push(new dn(r.value,i))}return e.filter(r=>!t.has(r))}function qC(n){return n.data||{}}function GC(n){return n.resolve||{}}function VF(n,e,t,r,i,o){return ht(s=>xF(n,e,t,r,s.extractedUrl,i,o).pipe(Ae(({state:a,tree:u})=>Fe(z({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function jF(n,e){return ht(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ue(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of _S(u))s.add(l);let a=0;return tt(s).pipe(ds(u=>o.has(u)?UF(u,r,n,e):(u.data=ah(u,u.parent,n).resolve,ue(void 0))),vt(()=>a++),hs(1),ht(u=>a===s.size?ue(t):Gt))})}function _S(n){let e=n.children.map(t=>_S(t)).flat();return[n,...e]}function UF(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!uS(i)&&(o[nu]=i.title),nc(()=>(n.data=ah(n,n.parent,t).resolve,BF(o,n,e,r).pipe(Ae(s=>(n._resolvedData=s,n.data=z(z({},n.data),s),null)))))}function BF(n,e,t,r){let i=my(n);if(i.length===0)return ue({});let o={};return tt(i).pipe(ht(s=>$F(n[s],e,t,r).pipe(Tr(),vt(a=>{if(a instanceof Xc)throw uh(new $s,a);o[s]=a}))),hs(1),Ae(()=>o),ni(s=>gS(s)?Gt:us(s)))}function $F(n,e,t,r){let i=Ws(e)??r,o=Ks(n,i),s=o.resolve?o.resolve(e,t):pt(i,()=>o(e,t));return xr(s)}function py(n){return Kt(e=>{let t=n(e);return t?tt(t).pipe(Ae(()=>e)):ue(e)})}var ES=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===me);return r}getResolvedTitleForRoute(t){return t.data[nu]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:()=>V(HF),providedIn:"root"})}return n})(),HF=(()=>{class n extends ES{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Te(jC))};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ph=new X("",{providedIn:"root",factory:()=>({})}),gh=new X(""),IS=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=V(Um);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ue(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=xr(pt(t,()=>r.loadComponent())).pipe(Ae(wS),Kt(TS),vt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),rc(()=>{this.componentLoaders.delete(r)})),o=new os(i,()=>new Ct).pipe(is());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ue({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=zF(r,this.compiler,t,this.onLoadEndListener).pipe(rc(()=>{this.childrenLoaders.delete(r)})),s=new os(o,()=>new Ct).pipe(is());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zF(n,e,t,r){return xr(pt(t,()=>n.loadChildren())).pipe(Ae(wS),Kt(TS),ht(i=>i instanceof xd||Array.isArray(i)?ue(i):tt(e.compileModuleAsync(i))),Ae(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(gh,[],{optional:!0,self:!0}).flat()),{routes:s.map($y),injector:o}}))}function qF(n){return n&&typeof n=="object"&&"default"in n}function wS(n){return qF(n)?n.default:n}function TS(n){return ue(n)}var Hy=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:()=>V(GF),providedIn:"root"})}return n})(),GF=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),DS=new X("");var bS=new X(""),CS=(()=>{class n{currentNavigation=Ts(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Ct;transitionAbortWithErrorSubject=new Ct;configLoader=V(IS);environmentInjector=V(ft);destroyRef=V(ho);urlSerializer=V(dh);rootContexts=V(ru);location=V(Os);inputBindingEnabled=V(hh,{optional:!0})!==null;titleStrategy=V(ES);options=V(ph,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=V(Hy);createViewTransition=V(DS,{optional:!0});navigationErrorHandler=V(bS,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ue(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Dy(i)),r=i=>this.events.next(new by(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Rr(()=>{this.transitions?.next(Fe(z({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new St(null),this.transitions.pipe(nn(r=>r!==null),Kt(r=>{let i=!1;return ue(r).pipe(Kt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Jt.SupersededByNewNavigation),Gt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?Fe(z({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Ii(o.id,this.urlSerializer.serialize(o.rawUrl),"",rh.IgnoredSameUrlNavigation)),o.resolve(!1),Gt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ue(o).pipe(Kt(u=>(this.events.next(new zs(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Gt:Promise.resolve(u))),VF(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),vt(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new ih(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:g}=o,v=new zs(u,this.urlSerializer.serialize(l),h,p);this.events.next(v);let A=aS(this.rootComponentType).snapshot;return this.currentTransition=r=Fe(z({},o),{targetSnapshot:A,urlAfterRedirects:l,extras:Fe(z({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(k=>(k.finalUrl=l,k)),ue(r)}else return this.events.next(new Ii(o.id,this.urlSerializer.serialize(o.extractedUrl),"",rh.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Gt}),vt(o=>{let s=new Ey(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),Ae(o=>(this.currentTransition=r=Fe(z({},o),{guards:rF(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),pF(this.environmentInjector,o=>this.events.next(o)),vt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw uh(this.urlSerializer,o.guardsResult);let s=new Iy(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),nn(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Jt.GuardRejected),!1)),py(o=>{if(o.guards.canActivateChecks.length!==0)return ue(o).pipe(vt(s=>{let a=new wy(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Kt(s=>{let a=!1;return ue(s).pipe(jF(this.paramsInheritanceStrategy,this.environmentInjector),vt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Jt.NoDataFromResolver)}}))}),vt(s=>{let a=new Ty(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),py(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=Ws(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(vt(h=>{a.component=h}),Ae(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return xl(s(o.targetSnapshot.root)).pipe(ri(null),wr(1))}),py(()=>this.afterPreactivation()),Kt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?tt(a).pipe(Ae(()=>r)):ue(r)}),Ae(o=>{let s=JL(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=Fe(z({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),vt(()=>{this.events.next(new Zc)}),nF(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),wr(1),Vl(new Ie(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(nn(()=>!i&&!r.targetRouterState),vt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Jt.Aborted)}))),vt({next:o=>{i=!0,this.lastSuccessfulNavigation=Rr(this.currentNavigation),this.events.next(new Ei(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Vl(this.transitionAbortWithErrorSubject.pipe(vt(o=>{throw o}))),rc(()=>{i||this.cancelNavigationTransition(r,"",Jt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),ni(o=>{if(this.destroyed)return r.resolve(!1),Gt;if(i=!0,pS(o))this.events.next(new Pr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),tF(o)?this.events.next(new qs(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Yc(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=pt(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Xc){let{message:u,cancellationCode:l}=uh(this.urlSerializer,a);this.events.next(new Pr(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new qs(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Gt}))}))}cancelNavigationTransition(t,r,i){let o=new Pr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Rr(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function WF(n){return n!==Wc}var KF=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:()=>V(QF),providedIn:"root"})}return n})(),Uy=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},QF=(()=>{class n extends Uy{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Dd(n)))(i||n)}})();static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),SS=(()=>{class n{urlSerializer=V(dh);options=V(ph,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=V(Os);urlHandlingStrategy=V(Hy);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new kr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof kr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=aS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:()=>V(YF),providedIn:"root"})}return n})(),YF=(()=>{class n extends SS{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof zs?this.updateStateMemento():t instanceof Ii?this.commitTransition(r):t instanceof ih?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Zc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Pr&&t.code!==Jt.SupersededByNewNavigation&&t.code!==Jt.Redirect?this.restoreHistory(r):t instanceof Yc?this.restoreHistory(r,!0):t instanceof Ei&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=z(z({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=z(z({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Dd(n)))(i||n)}})();static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AS(n,e){n.events.pipe(nn(t=>t instanceof Ei||t instanceof Pr||t instanceof Yc||t instanceof Ii),Ae(t=>t instanceof Ei||t instanceof Ii?0:(t instanceof Pr?t.code===Jt.Redirect||t.code===Jt.SupersededByNewNavigation:!1)?2:1),nn(t=>t!==2),wr(1)).subscribe(()=>{e()})}var ZF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},JF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},zy=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=V(Lm);stateManager=V(SS);options=V(ph,{optional:!0})||{};pendingTasks=V(Zn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=V(CS);urlSerializer=V(dh);location=V(Os);urlHandlingStrategy=V(Hy);injector=V(ft);_events=new Ct;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=V(KF);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=V(gh,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!V(hh,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new et;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Rr(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Pr&&r.code!==Jt.Redirect&&r.code!==Jt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ei)this.navigated=!0;else if(r instanceof qs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=z({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||WF(i.source)},s);this.scheduleNavigation(a,Wc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}WL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Wc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=z({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(an)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Rr(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map($y),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=z(z({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=rS(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return iS(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Hs(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Wc,null,r)}navigate(t,r={skipLocationChange:!1}){return XF(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(gs(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=z({},ZF):r===!1?i=z({},JF):i=r,Hs(t))return UC(this.currentUrlTree,t,i);let o=this.parseUrl(t);return UC(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return AS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function XF(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Y(4008,!1)}var eV=new X("");function qy(n,...e){return Pn([{provide:gh,multi:!0,useValue:n},[],{provide:wo,useFactory:tV,deps:[zy]},{provide:Od,multi:!0,useFactory:nV},e.map(t=>t.\u0275providers)])}function tV(n){return n.routerState.root}function nV(){let n=V(_t);return e=>{let t=n.get(_o);if(e!==t.components[0])return;let r=n.get(zy),i=n.get(rV);n.get(iV)===1&&r.initialNavigation(),n.get(oV,null,{optional:!0})?.setUpPreloading(),n.get(eV,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var rV=new X("",{factory:()=>new Ct}),iV=new X("",{providedIn:"root",factory:()=>1});var oV=new X("");var RS=[];var NS=()=>{};var kS=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},aV=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},mh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,v=l&63;u||(v=64,s||(g=64)),r.push(t[h],t[p],t[g],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(kS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):aV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Wy;let g=o<<2|a>>4;if(r.push(g),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Wy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},cV=function(n){let e=kS(n);return mh.encodeByteArray(e,!0)},su=function(n){return cV(n).replace(/\./g,"")},yh=function(n){try{return mh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Qy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var uV=()=>Qy().__FIREBASE_DEFAULTS__,lV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},dV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&yh(n[1]);return e&&JSON.parse(e)},vh=()=>{try{return NS()||uV()||lV()||dV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Yy=n=>{var e,t;return(t=(e=vh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},xS=n=>{let e=Yy(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Zy=()=>{var n;return(n=vh())===null||n===void 0?void 0:n.config},Jy=n=>{var e;return(e=vh())===null||e===void 0?void 0:e[`_${n}`]};var To=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function wi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function _h(n){return T(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function OS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[su(JSON.stringify(t)),su(JSON.stringify(s)),""].join(".")}var ou={};function hV(){let n={prod:[],emulator:[]};for(let e of Object.keys(ou))ou[e]?n.emulator.push(e):n.prod.push(e);return n}function fV(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var MS=!1;function Eh(n,e){if(typeof window>"u"||typeof document>"u"||!wi(window.location.host)||ou[n]===e||ou[n]||MS)return;ou[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=hV().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{MS=!0,s()},g}function h(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=fV(r),v=t("text"),A=document.getElementById(v)||document.createElement("span"),k=t("learnmore"),P=document.getElementById(k)||document.createElement("a"),j=t("preprendIcon"),L=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let x=g.element;a(x),h(P,k);let Q=l();u(L,j),x.append(L,A,P,Q),document.body.appendChild(x)}o?(A.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function pV(){var n;let e=(n=vh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function jS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function US(){let n=It();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function BS(){return!pV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function au(){try{return typeof indexedDB=="object"}catch{return!1}}function $S(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var gV="FirebaseError",hn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=gV,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Un.prototype.create)}},Un=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?mV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new hn(i,a,r)}};function mV(n,e){return n.replace(yV,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var yV=/\{\$([^}]+)}/g;function HS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function rr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(PS(o)&&PS(s)){if(!rr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function PS(n){return n!==null&&typeof n=="object"}function Qs(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zS(n,e){let t=new Ky(n,e);return t.subscribe.bind(t)}var Ky=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");vV(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Gy),i.error===void 0&&(i.error=Gy),i.complete===void 0&&(i.complete=Gy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function vV(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Gy(){}var ote=14400*1e3;function gt(n){return n&&n._delegate?n._delegate:n}var $t=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Do="[DEFAULT]";var Xy=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new To;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EV(e))try{this.getOrInitializeService({instanceIdentifier:Do})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Do){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return T(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Do){return this.instances.has(e)}getOptions(e=Do){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_V(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Do){return this.component?this.component.multipleInstances?e:Do:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function _V(n){return n===Do?void 0:n}function EV(n){return n.instantiationMode==="EAGER"}var Ih=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Xy(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var IV=[],Re=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(Re||{}),wV={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},TV=Re.INFO,DV={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},bV=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=DV[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ir=class{constructor(e){this.name=e,this._logLevel=TV,this._logHandler=bV,this._userLogHandler=null,IV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}};var CV=(n,e)=>e.some(t=>n instanceof t),qS,GS;function SV(){return qS||(qS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AV(){return GS||(GS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var WS=new WeakMap,tv=new WeakMap,KS=new WeakMap,ev=new WeakMap,rv=new WeakMap;function RV(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(or(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&WS.set(t,n)}).catch(()=>{}),rv.set(e,n),e}function NV(n){if(tv.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});tv.set(n,e)}var nv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return tv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||KS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return or(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function QS(n){nv=n(nv)}function MV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(wh(this),e,...t);return KS.set(r,e.sort?e.sort():[e]),or(r)}:AV().includes(n)?function(...e){return n.apply(wh(this),e),or(WS.get(this))}:function(...e){return or(n.apply(wh(this),e))}}function PV(n){return typeof n=="function"?MV(n):(n instanceof IDBTransaction&&NV(n),CV(n,SV())?new Proxy(n,nv):n)}function or(n){if(n instanceof IDBRequest)return RV(n);if(ev.has(n))return ev.get(n);let e=PV(n);return e!==n&&(ev.set(n,e),rv.set(e,n)),e}var wh=n=>rv.get(n);function ZS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=or(s);return r&&s.addEventListener("upgradeneeded",u=>{r(or(s.result),u.oldVersion,u.newVersion,or(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var kV=["get","getKey","getAll","getAllKeys","count"],xV=["put","add","delete","clear"],iv=new Map;function YS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(iv.get(e))return iv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=xV.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kV.includes(t)))return;let o=function(s,...a){return T(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return iv.set(e,o),o}QS(n=>Fe(z({},n),{get:(e,t,r)=>YS(e,t)||n.get(e,t,r),has:(e,t)=>!!YS(e,t)||n.has(e,t)}));var sv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(OV(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function OV(n){let e=n.getComponent();return e?.type==="VERSION"}var av="@firebase/app",JS="0.13.2";var Or=new ir("@firebase/app"),LV="@firebase/app-compat",FV="@firebase/analytics-compat",VV="@firebase/analytics",jV="@firebase/app-check-compat",UV="@firebase/app-check",BV="@firebase/auth",$V="@firebase/auth-compat",HV="@firebase/database",zV="@firebase/data-connect",qV="@firebase/database-compat",GV="@firebase/functions",WV="@firebase/functions-compat",KV="@firebase/installations",QV="@firebase/installations-compat",YV="@firebase/messaging",ZV="@firebase/messaging-compat",JV="@firebase/performance",XV="@firebase/performance-compat",e2="@firebase/remote-config",t2="@firebase/remote-config-compat",n2="@firebase/storage",r2="@firebase/storage-compat",i2="@firebase/firestore",o2="@firebase/ai",s2="@firebase/firestore-compat",a2="firebase",c2="11.10.0";var cv="[DEFAULT]",u2={[av]:"fire-core",[LV]:"fire-core-compat",[VV]:"fire-analytics",[FV]:"fire-analytics-compat",[UV]:"fire-app-check",[jV]:"fire-app-check-compat",[BV]:"fire-auth",[$V]:"fire-auth-compat",[HV]:"fire-rtdb",[zV]:"fire-data-connect",[qV]:"fire-rtdb-compat",[GV]:"fire-fn",[WV]:"fire-fn-compat",[KV]:"fire-iid",[QV]:"fire-iid-compat",[YV]:"fire-fcm",[ZV]:"fire-fcm-compat",[JV]:"fire-perf",[XV]:"fire-perf-compat",[e2]:"fire-rc",[t2]:"fire-rc-compat",[n2]:"fire-gcs",[r2]:"fire-gcs-compat",[i2]:"fire-fst",[s2]:"fire-fst-compat",[o2]:"fire-vertex","fire-js":"fire-js",[a2]:"fire-js-all"};var cu=new Map,l2=new Map,uv=new Map;function XS(n,e){try{n.container.addComponent(e)}catch(t){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Bn(n){let e=n.name;if(uv.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;uv.set(e,n);for(let t of cu.values())XS(t,n);for(let t of l2.values())XS(t,n);return!0}function Ys(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function fn(n){return n==null?!1:n.settings!==void 0}var d2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ti=new Un("app","Firebase",d2);var lv=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}};var Di=c2;function fv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:cv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ti.create("bad-app-name",{appName:String(i)});if(t||(t=Zy()),!t)throw Ti.create("no-options");let o=cu.get(i);if(o){if(rr(t,o.options)&&rr(r,o.config))return o;throw Ti.create("duplicate-app",{appName:i})}let s=new Ih(i);for(let u of uv.values())s.addComponent(u);let a=new lv(t,r,s);return cu.set(i,a),a}function bo(n=cv){let e=cu.get(n);if(!e&&n===cv&&Zy())return fv();if(!e)throw Ti.create("no-app",{appName:n});return e}function Th(){return Array.from(cu.values())}function it(n,e,t){var r;let i=(r=u2[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(a.join(" "));return}Bn(new $t(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var h2="firebase-heartbeat-database",f2=1,uu="firebase-heartbeat-store",ov=null;function r0(){return ov||(ov=ZS(h2,f2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(uu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ti.create("idb-open",{originalErrorMessage:n.message})})),ov}function p2(n){return T(this,null,function*(){try{let t=(yield r0()).transaction(uu),r=yield t.objectStore(uu).get(i0(n));return yield t.done,r}catch(e){if(e instanceof hn)Or.warn(e.message);else{let t=Ti.create("idb-get",{originalErrorMessage:e?.message});Or.warn(t.message)}}})}function e0(n,e){return T(this,null,function*(){try{let r=(yield r0()).transaction(uu,"readwrite");yield r.objectStore(uu).put(e,i0(n)),yield r.done}catch(t){if(t instanceof hn)Or.warn(t.message);else{let r=Ti.create("idb-set",{originalErrorMessage:t?.message});Or.warn(r.message)}}})}function i0(n){return`${n.name}!${n.options.appId}`}var g2=1024,m2=30,dv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new hv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return T(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=t0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>m2){let s=v2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Or.warn(r)}})}getHeartbeatsHeader(){return T(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=t0(),{heartbeatsToSend:r,unsentEntries:i}=y2(this._heartbeatsCache.heartbeats),o=su(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Or.warn(t),""}})}};function t0(){return new Date().toISOString().substring(0,10)}function y2(n,e=g2){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),n0(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),n0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var hv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return T(this,null,function*(){return au()?$S().then(()=>!0).catch(()=>!1):!1})}read(){return T(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield p2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return T(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return e0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return T(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return e0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function n0(n){return su(JSON.stringify({version:2,heartbeats:n})).length}function v2(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function _2(n){Bn(new $t("platform-logger",e=>new sv(e),"PRIVATE")),Bn(new $t("heartbeat",e=>new dv(e),"PRIVATE")),it(av,JS,n),it(av,JS,"esm2017"),it("fire-js","")}_2("");var E2="firebase",I2="11.10.0";it(E2,I2,"app");function o0(n){n===void 0&&(n=V(_t));let e=n.get(Ds);return t=>new Ie(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var bi=new ps("ANGULARFIRE2_VERSION");function lu(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Js=(n,e)=>{let t=e?[e]:Th(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Zs=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Zs||{}),s0=Qm()&&typeof Zone<"u"?Zs.WARN:Zs.SILENT;var Dh=class{zone;delegate;constructor(e,t=Up){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Ci=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=V(He);this.outsideAngular=t.runOutsideAngular(()=>new Dh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Dh(typeof Zone>"u"?void 0:Zone.current,jp))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),a0=!1;function w2(n,e){!a0&&(s0>Zs.SILENT||Qm())&&(a0=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),s0>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function T2(n){let e=V(He,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Co(n){let e=V(He,{optional:!0});return e?e.run(()=>n()):n()}var D2=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),pt(t,()=>Co(()=>n.apply(void 0,r)))),Ot=(n,e,t)=>(t||=e?Zs.WARN:Zs.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=V(Ci),s=V(Ds),a=V(ft)}catch{return w2(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Co(()=>s.add())),i[l]=D2(i[l],r,a));let u=T2(()=>n.apply(this,i));return e?u instanceof Ie?u.pipe(ti(o.outsideAngular),ei(o.insideAngular),o0(a)):u instanceof Promise?Co(()=>{let l=s.add();return new Promise((h,p)=>{u.then(g=>pt(a,()=>Co(()=>h(g))),g=>pt(a,()=>Co(()=>p(g)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Co(()=>u):u instanceof Ie?u.pipe(ti(o.outsideAngular),ei(o.insideAngular)):Co(()=>u)});var Lr=class{constructor(e){return e}},So=class{constructor(){return Th()}};function b2(n){return n&&n.length===1?n[0]:new Lr(bo())}var pv=new X("angularfire2._apps"),C2={provide:Lr,useFactory:b2,deps:[[new cn,pv]]},S2={provide:So,deps:[[new cn,pv]]};function A2(n){return(e,t)=>{let r=t.get(yo);it("angularfire",bi.full,"core"),it("angularfire",bi.full,"app"),it("angular",tg.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Lr(i)}}function c0(n,...e){return Pn([C2,S2,{provide:pv,useFactory:A2(n),multi:!0,deps:[He,_t,Ci,...e]}])}var u0=Ot(fv,!0);var R2=new Map,N2={activated:!1,tokenObservers:[]},M2={initialized:!1,enabled:!1};function $n(n){return R2.get(n)||Object.assign({},N2)}function f0(){return M2}var P2="https://content-firebaseappcheck.googleapis.com/v1";var k2="exchangeDebugToken",l0={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},cne=1440*60*1e3;var yv=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return T(this,null,function*(){this.stop();try{this.pending=new To,this.pending.promise.catch(t=>{}),yield x2(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new To,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function x2(n){return new Promise(e=>{setTimeout(e,n)})}var O2={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Si=new Un("appCheck","AppCheck",O2);function p0(n){if(!$n(n).activated)throw Si.create("use-before-activation",{appName:n.name})}function g0(r,i){return T(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let v=yield s.getHeartbeatsHeader();v&&(o["X-Firebase-Client"]=v)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(v){throw Si.create("fetch-network-error",{originalErrorMessage:v?.message})}if(u.status!==200)throw Si.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(v){throw Si.create("fetch-parse-error",{originalErrorMessage:v?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Si.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function m0(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${P2}/projects/${t}/apps/${r}:${k2}?key=${i}`,body:{debug_token:e}}}var L2="firebase-app-check-database",F2=1,vv="firebase-app-check-store";var bh=null;function V2(){return bh||(bh=new Promise((n,e)=>{try{let t=indexedDB.open(L2,F2);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Si.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(vv,{keyPath:"compositeKey"})}}}catch(t){e(Si.create("storage-open",{originalErrorMessage:t?.message}))}}),bh)}function j2(n,e){return U2(B2(n),e)}function U2(n,e){return T(this,null,function*(){let r=(yield V2()).transaction(vv,"readwrite"),o=r.objectStore(vv).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Si.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function B2(n){return`${n.options.appId}-${n.name}`}var du=new ir("@firebase/app-check");function gv(n,e){return au()?j2(n,e).catch(t=>{du.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function y0(){return f0().enabled}function v0(){return T(this,null,function*(){let n=f0();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var $2={error:"UNKNOWN_ERROR"};function H2(n){return mh.encodeString(JSON.stringify(n),!1)}function _v(n,e=!1,t=!1){return T(this,null,function*(){let r=n.app;p0(r);let i=$n(r),o=i.token,s;if(o&&!hu(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(hu(l)?o=l:yield gv(r,void 0))}if(!e&&o&&hu(o))return{token:o.token};let a=!1;if(y0())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=g0(m0(r,yield v0()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield gv(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?du.warn(l.message):t&&du.error(l),mv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield $n(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?du.warn(l.message):t&&du.error(l),s=l}let u;return o?s?hu(o)?u={token:o.token,internalError:s}:u=mv(s):(u={token:o.token},i.token=o,yield gv(r,o)):u=mv(s),a&&W2(r,u),u})}function z2(n){return T(this,null,function*(){let e=n.app;p0(e);let{provider:t}=$n(e);if(y0()){let r=yield v0(),{token:i}=yield g0(m0(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function q2(n,e,t,r){let{app:i}=n,o=$n(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&hu(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),d0(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>d0(n))}function _0(n,e){let t=$n(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function d0(n){let{app:e}=n,t=$n(e),r=t.tokenRefresher;r||(r=G2(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function G2(n){let{app:e}=n;return new yv(()=>T(null,null,function*(){let t=$n(e),r;if(t.token?r=yield _v(n,!0):r=yield _v(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=$n(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},l0.RETRIAL_MIN_WAIT,l0.RETRIAL_MAX_WAIT)}function W2(n,e){let t=$n(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function hu(n){return n.expireTimeMillis-Date.now()>0}function mv(n){return{token:H2($2),error:n}}var Ev=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=$n(this.app);for(let t of e)_0(this.app,t.next);return Promise.resolve()}};function K2(n,e){return new Ev(n,e)}function Q2(n){return{getToken:e=>_v(n,e),getLimitedUseToken:()=>z2(n),addTokenListener:e=>q2(n,"INTERNAL",e),removeTokenListener:e=>_0(n.app,e)}}var Y2="@firebase/app-check",Z2="0.10.1";var J2="app-check",h0="app-check-internal";function X2(){Bn(new $t(J2,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return K2(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(h0).initialize()})),Bn(new $t(h0,n=>{let e=n.getProvider("app-check").getImmediate();return Q2(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),it(Y2,Z2)}X2();var ej="app-check";var Xs=class{constructor(){return Js(ej)}};var tj=["localhost","0.0.0.0","127.0.0.1"],Ine=typeof window<"u"&&tj.includes(window.location.hostname);function x0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var O0=x0,L0=new Un("auth","Firebase",x0());var Mh=new ir("@firebase/auth");function nj(n,...e){Mh.logLevel<=Re.WARN&&Mh.warn(`Auth (${Di}): ${n}`,...e)}function Sh(n,...e){Mh.logLevel<=Re.ERROR&&Mh.error(`Auth (${Di}): ${n}`,...e)}function ar(n,...e){throw Vv(n,...e)}function Hn(n,...e){return Vv(n,...e)}function Fv(n,e,t){let r=Object.assign(Object.assign({},O0()),{[e]:t});return new Un("auth","Firebase",r).create(e,{appName:n.name})}function Ao(n){return Fv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rj(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&ar(n,"argument-error"),Fv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vv(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return L0.create(n,...e)}function ce(n,e,...t){if(!n)throw Vv(e,...t)}function Fr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Sh(e),new Error(e)}function jr(n,e){n||Fr(e)}function Tv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ij(){return E0()==="http:"||E0()==="https:"}function E0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function oj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ij()||VS()||"connection"in navigator)?navigator.onLine:!0}function sj(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ro=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,jr(t>e,"Short delay should be less than long delay!"),this.isMobile=LS()||jS()}get(){return oj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function jv(n,e){jr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Ph=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var aj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var cj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uj=new Ro(3e4,6e4);function Uv(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ta(o,s,a,u){return T(this,arguments,function*(n,e,t,r,i={}){return F0(n,i,()=>T(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Qs(Object.assign({key:n.config.apiKey},h)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let v=Object.assign({method:e,headers:g},l);return FS()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&wi(n.emulatorConfig.host)&&(v.credentials="include"),Ph.fetch()(yield V0(n,n.config.apiHost,t,p),v)}))})}function F0(n,e,t){return T(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},aj),e);try{let i=new Dv(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Ch(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ch(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Ch(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Ch(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Fv(n,h,l);ar(n,h)}}catch(i){if(i instanceof hn)throw i;ar(n,"network-request-failed",{message:String(i)})}})}function lj(o,s,a,u){return T(this,arguments,function*(n,e,t,r,i={}){let l=yield ta(n,e,t,r,i);return"mfaPendingCredential"in l&&ar(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function V0(n,e,t,r){return T(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?jv(n.config,i):`${n.config.apiScheme}://${i}`;return cj.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var Dv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Hn(this.auth,"network-request-failed")),uj.get())})}};function Ch(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Hn(n,e,r);return i.customData._tokenResponse=t,i}function dj(n,e){return T(this,null,function*(){return ta(n,"POST","/v1/accounts:delete",e)})}function kh(n,e){return T(this,null,function*(){return ta(n,"POST","/v1/accounts:lookup",e)})}function fu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Bv(n,e=!1){return T(this,null,function*(){let t=gt(n),r=yield t.getIdToken(e),i=$v(r);ce(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:fu(Iv(i.auth_time)),issuedAtTime:fu(Iv(i.iat)),expirationTime:fu(Iv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Iv(n){return Number(n)*1e3}function $v(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{let i=yh(t);return i?JSON.parse(i):(Sh("Failed to decode base64 JWT payload"),null)}catch(i){return Sh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function I0(n){let e=$v(n);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function gu(n,e,t=!1){return T(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof hn&&hj(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function hj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var bv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>T(this,null,function*(){yield this.iteration()}),t)}iteration(){return T(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var mu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fu(this.lastLoginAt),this.creationTime=fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function xh(n){return T(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield gu(n,kh(t,{idToken:r}));ce(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?j0(o.providerUserInfo):[],a=fj(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new mu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function Hv(n){return T(this,null,function*(){let e=gt(n);yield xh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function fj(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function j0(n){return n.map(e=>{var{providerId:t}=e,r=Tl(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function pj(n,e){return T(this,null,function*(){let t=yield F0(n,{},()=>T(null,null,function*(){let r=Qs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield V0(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&wi(n.emulatorConfig.host)&&(u.credentials="include"),Ph.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function gj(n,e){return T(this,null,function*(){return ta(n,"POST","/v2/accounts:revokeToken",Uv(n,e))})}var pu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):I0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ce(e.length!==0,"internal-error");let t=I0(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return T(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return T(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield pj(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(ce(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ce(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ce(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Fr("not implemented")}};function Ai(n,e){ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ri=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Tl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return T(this,null,function*(){let t=yield gu(this,this.stsTokenManager.getToken(this.auth,e));return ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Bv(this,e)}reload(){return Hv(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return T(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield xh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return T(this,null,function*(){if(fn(this.auth.app))return Promise.reject(Ao(this.auth));let e=yield this.getIdToken();return yield gu(this,dj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,v=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=t.photoURL)!==null&&s!==void 0?s:void 0,k=(a=t.tenantId)!==null&&a!==void 0?a:void 0,P=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,j=(l=t.createdAt)!==null&&l!==void 0?l:void 0,L=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:x,emailVerified:Q,isAnonymous:de,providerData:te,stsTokenManager:b}=t;ce(x&&b,e,"internal-error");let y=pu.fromJSON(this.name,b);ce(typeof x=="string",e,"internal-error"),Ai(p,e.name),Ai(g,e.name),ce(typeof Q=="boolean",e,"internal-error"),ce(typeof de=="boolean",e,"internal-error"),Ai(v,e.name),Ai(A,e.name),Ai(k,e.name),Ai(P,e.name),Ai(j,e.name),Ai(L,e.name);let E=new n({uid:x,auth:e,email:g,emailVerified:Q,displayName:p,isAnonymous:de,photoURL:A,phoneNumber:v,tenantId:k,stsTokenManager:y,createdAt:j,lastLoginAt:L});return te&&Array.isArray(te)&&(E.providerData=te.map(I=>Object.assign({},I))),P&&(E._redirectEventId=P),E}static _fromIdTokenResponse(e,t,r=!1){return T(this,null,function*(){let i=new pu;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield xh(o),o})}static _fromGetAccountInfoResponse(e,t,r){return T(this,null,function*(){let i=t.users[0];ce(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?j0(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new pu;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new mu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var w0=new Map;function Vr(n){jr(n instanceof Function,"Expected a class definition");let e=w0.get(n);return e?(jr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,w0.set(n,e),e)}var mj=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return T(this,null,function*(){return!0})}_set(t,r){return T(this,null,function*(){this.storage[t]=r})}_get(t){return T(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return T(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Cv=mj;function Ah(n,e,t){return`firebase:${n}:${e}:${t}`}var Oh=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Ah(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ah("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return T(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield kh(this.auth,{idToken:e}).catch(()=>{});return t?Ri._fromGetAccountInfoResponse(this.auth,t,e):null}return Ri._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return T(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return T(this,null,function*(){if(!t.length)return new n(Vr(Cv),e,r);let i=(yield Promise.all(t.map(l=>T(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Vr(Cv),s=Ah(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let g=yield kh(e,{idToken:h}).catch(()=>{});if(!g)break;p=yield Ri._fromGetAccountInfoResponse(e,g,h)}else p=Ri._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>T(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function T0(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(H0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(U0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(q0(e))return"Blackberry";if(G0(e))return"Webos";if(B0(e))return"Safari";if((e.includes("chrome/")||$0(e))&&!e.includes("edge/"))return"Chrome";if(z0(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function U0(n=It()){return/firefox\//i.test(n)}function B0(n=It()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $0(n=It()){return/crios\//i.test(n)}function H0(n=It()){return/iemobile/i.test(n)}function z0(n=It()){return/android/i.test(n)}function q0(n=It()){return/blackberry/i.test(n)}function G0(n=It()){return/webos/i.test(n)}function zv(n=It()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function yj(n=It()){var e;return zv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vj(){return US()&&document.documentMode===10}function W0(n=It()){return zv(n)||z0(n)||G0(n)||q0(n)||/windows phone/i.test(n)||H0(n)}function K0(n,e=[]){let t;switch(n){case"Browser":t=T0(It());break;case"Worker":t=`${T0(It())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Di}/${r}`}var Sv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return T(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function _j(t){return T(this,arguments,function*(n,e={}){return ta(n,"GET","/v2/passwordPolicy",Uv(n,e))})}var Ej=6,Av=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:Ej,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Rv=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lh(this),this.idTokenSubscription=new Lh(this),this.beforeStateQueue=new Sv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=L0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Vr(t)),this._initializationPromise=this.queue(()=>T(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Oh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return T(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return T(this,null,function*(){try{let t=yield kh(this,{idToken:e}),r=yield Ri._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return T(this,null,function*(){var t;if(fn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return T(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return T(this,null,function*(){try{yield xh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=sj()}_delete(){return T(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return T(this,null,function*(){if(fn(this.app))return Promise.reject(Ao(this));let t=e?gt(e):null;return t&&ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return T(this,null,function*(){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>T(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return T(this,null,function*(){return fn(this.app)?Promise.reject(Ao(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return fn(this.app)?Promise.reject(Ao(this)):this.queue(()=>T(this,null,function*(){yield this.assertedPersistence.setPersistence(Vr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return T(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return T(this,null,function*(){let e=yield _j(this),t=new Av(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Un("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return T(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield gj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return T(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return T(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Vr(e)||this._popupRedirectResolver;ce(t,this,"argument-error"),this.redirectPersistenceManager=yield Oh.create(this,[Vr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return T(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>T(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return T(this,null,function*(){if(e===this.currentUser)return this.queue(()=>T(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return T(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=K0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return T(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return T(this,null,function*(){var e;if(fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&nj(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function zh(n){return gt(n)}var Lh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=zS(t=>this.observer=t)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var qv={loadJS(){return T(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ij(n){qv=n}function wj(n){return qv.loadJS(n)}function Tj(){return qv.gapiScript}function Q0(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Gv(n,e){let t=Ys(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(rr(o,e??{}))return i;ar(i,"already-initialized")}return t.initialize({options:e})}function Dj(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Vr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Wv(n,e,t){let r=zh(n);ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=Y0(e),{host:s,port:a}=bj(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ce(rr(l,r.config.emulator)&&rr(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,wi(s)?(_h(`${o}//${s}${u}`),Eh("Auth",!0)):i||Cj()}function Y0(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function bj(n){let e=Y0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:D0(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:D0(s)}}}function D0(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Cj(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var yu=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Fr("not implemented")}_getIdTokenResponse(e){return Fr("not implemented")}_linkToIdToken(e,t){return Fr("not implemented")}_getReauthenticationResolver(e){return Fr("not implemented")}};function ea(n,e){return T(this,null,function*(){return lj(n,"POST","/v1/accounts:signInWithIdp",Uv(n,e))})}var Sj="http://localhost",Fh=class n extends yu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ar("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=Tl(t,["providerId","signInMethod"]);if(!r||!i)return null;let s=new n(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return ea(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,ea(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,ea(e,t)}buildRequest(){let e={requestUri:Sj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Qs(t)}return e}};var vu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Vh=class extends vu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Kv=(()=>{class n extends Vh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Fh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();var _u=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return T(this,null,function*(){let o=yield Ri._fromIdTokenResponse(e,r,i),s=b0(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return T(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=b0(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function b0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Nv=class n extends hn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function Z0(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Nv._fromErrorAndOperation(n,o,e,r):o})}function Aj(n,e,t=!1){return T(this,null,function*(){let r=yield gu(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return _u._forOperation(n,"link",r)})}function Rj(n,e,t=!1){return T(this,null,function*(){let{auth:r}=n;if(fn(r.app))return Promise.reject(Ao(r));let i="reauthenticate";try{let o=yield gu(n,Z0(r,i,e,n),t);ce(o.idToken,r,"internal-error");let s=$v(o.idToken);ce(s,r,"internal-error");let{sub:a}=s;return ce(n.uid===a,r,"user-mismatch"),_u._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&ar(r,"user-mismatch"),o}})}function Nj(n,e,t=!1){return T(this,null,function*(){if(fn(n.app))return Promise.reject(Ao(n));let r="signIn",i=yield Z0(n,r,e),o=yield _u._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function Iu(n,e,t,r){return gt(n).onIdTokenChanged(e,t,r)}function Qv(n,e,t){return gt(n).beforeAuthStateChanged(e,t)}function Yv(n){return gt(n).signOut()}var jh="__sak";var Uh=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Mj=1e3,Pj=10,kj=(()=>{class n extends Uh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=W0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);vj()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Pj):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},Mj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return T(this,null,function*(){yield Jr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return T(this,null,function*(){let r=yield Jr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return T(this,null,function*(){yield Jr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),J0=kj;var xj=(()=>{class n extends Uh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Zv=xj;function Oj(n){return Promise.all(n.map(e=>T(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var Lj=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return T(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>T(this,null,function*(){return h(r.origin,s)})),l=yield Oj(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Jv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Mv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return T(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=Jv("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function sr(){return window}function Fj(n){sr().location.href=n}function X0(){return typeof sr().WorkerGlobalScope<"u"&&typeof sr().importScripts=="function"}function Vj(){return T(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function jj(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Uj(){return X0()?self:null}var eA="firebaseLocalStorageDb",Bj=1,Bh="firebaseLocalStorage",tA="fbase_key",No=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function qh(n,e){return n.transaction([Bh],e?"readwrite":"readonly").objectStore(Bh)}function $j(){let n=indexedDB.deleteDatabase(eA);return new No(n).toPromise()}function Pv(){let n=indexedDB.open(eA,Bj);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Bh,{keyPath:tA})}catch(i){t(i)}}),n.addEventListener("success",()=>T(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Bh)?e(r):(r.close(),yield $j(),e(yield Pv()))}))})}function C0(n,e,t){return T(this,null,function*(){let r=qh(n,!0).put({[tA]:e,value:t});return new No(r).toPromise()})}function Hj(n,e){return T(this,null,function*(){let t=qh(n,!1).get(e),r=yield new No(t).toPromise();return r===void 0?null:r.value})}function S0(n,e){let t=qh(n,!0).delete(e);return new No(t).toPromise()}var zj=800,qj=3,Gj=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return T(this,null,function*(){return this.db?this.db:(this.db=yield Pv(),this.db)})}_withRetries(t){return T(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>qj)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return T(this,null,function*(){return X0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return T(this,null,function*(){this.receiver=Lj._getInstance(Uj()),this.receiver._subscribe("keyChanged",(t,r)=>T(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>T(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return T(this,null,function*(){var t,r;if(this.activeServiceWorker=yield Vj(),!this.activeServiceWorker)return;this.sender=new Mv(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return T(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||jj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return T(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Pv();return yield C0(t,jh,"1"),yield S0(t,jh),!0}catch{}return!1})}_withPendingWrite(t){return T(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return T(this,null,function*(){return this._withPendingWrite(()=>T(this,null,function*(){return yield this._withRetries(i=>C0(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return T(this,null,function*(){let r=yield this._withRetries(i=>Hj(i,t));return this.localCache[t]=r,r})}_remove(t){return T(this,null,function*(){return this._withPendingWrite(()=>T(this,null,function*(){return yield this._withRetries(r=>S0(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return T(this,null,function*(){let t=yield this._withRetries(o=>{let s=qh(o,!1).getAll();return new No(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>T(this,null,function*(){return this._poll()}),zj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),nA=Gj;var Mne=Q0("rcb"),Pne=new Ro(3e4,6e4);function rA(n,e){return e?Vr(e):(ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Eu=class extends yu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ea(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ea(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ea(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function Wj(n){return Nj(n.auth,new Eu(n),n.bypassAuthState)}function Kj(n){let{auth:e,user:t}=n;return ce(t,e,"internal-error"),Rj(t,new Eu(n),n.bypassAuthState)}function Qj(n){return T(this,null,function*(){let{auth:e,user:t}=n;return ce(t,e,"internal-error"),Aj(t,new Eu(n),n.bypassAuthState)})}var $h=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>T(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return T(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wj;case"linkViaPopup":case"linkViaRedirect":return Qj;case"reauthViaPopup":case"reauthViaRedirect":return Kj;default:ar(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Yj=new Ro(2e3,1e4);function Xv(n,e,t){return T(this,null,function*(){if(fn(n.app))return Promise.reject(Hn(n,"operation-not-supported-in-this-environment"));let r=zh(n);rj(n,e,vu);let i=rA(r,t);return new Zj(r,"signInViaPopup",e,i).executeNotNull()})}var Zj=(()=>{class n extends $h{constructor(t,r,i,o,s){super(t,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return T(this,null,function*(){let t=yield this.execute();return ce(t,this.auth,"internal-error"),t})}onExecution(){return T(this,null,function*(){jr(this.filter.length===1,"Popup operations only handle one event");let t=Jv();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Yj.get())};t()}}n.currentPopupAction=null;return n})(),Jj="pendingRedirect",Rh=new Map,kv=class n extends $h{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return T(this,null,function*(){let e=Rh.get(this.auth._key());if(!e){try{let r=(yield Xj(this.resolver,this.auth))?yield Jr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Rh.set(this.auth._key(),e)}return this.bypassAuthState||Rh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return T(this,null,function*(){if(e.type==="signInViaRedirect")return Jr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Jr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return T(this,null,function*(){})}cleanUp(){}};function Xj(n,e){return T(this,null,function*(){let t=nU(e),r=tU(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function eU(n,e){Rh.set(n._key(),e)}function tU(n){return Vr(n._redirectPersistence)}function nU(n){return Ah(Jj,n.config.apiKey,n.name)}function rU(n,e,t=!1){return T(this,null,function*(){if(fn(n.app))return Promise.reject(Ao(n));let r=zh(n),i=rA(r,e),s=yield new kv(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var iU=600*1e3,xv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!iA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Hn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iU&&this.cachedEventUids.clear(),this.cachedEventUids.has(A0(e))}saveEventToCache(e){this.cachedEventUids.add(A0(e)),this.lastProcessedEventTime=Date.now()}};function A0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function iA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function oU(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iA(n);default:return!1}}function sU(t){return T(this,arguments,function*(n,e={}){return ta(n,"GET","/v1/projects",e)})}var aU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cU=/^https?/;function uU(n){return T(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield sU(n);for(let t of e)try{if(lU(t))return}catch{}ar(n,"unauthorized-domain")})}function lU(n){let e=Tv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!cU.test(t))return!1;if(aU.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var dU=new Ro(3e4,6e4);function R0(){let n=sr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function hU(n){return new Promise((e,t)=>{var r,i,o;function s(){R0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R0(),t(Hn(n,"network-request-failed"))},timeout:dU.get()})}if(!((i=(r=sr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=sr().gapi)===null||o===void 0)&&o.load)s();else{let a=Q0("iframefcb");return sr()[a]=()=>{gapi.load?s():t(Hn(n,"network-request-failed"))},wj(`${Tj()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Nh=null,e})}var Nh=null;function fU(n){return Nh=Nh||hU(n),Nh}var pU=new Ro(5e3,15e3),gU="__/auth/iframe",mU="emulator/auth/iframe",yU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _U(n){let e=n.config;ce(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?jv(e,mU):`https://${n.config.authDomain}/${gU}`,r={apiKey:e.apiKey,appName:n.name,v:Di},i=vU.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Qs(r).slice(1)}`}function EU(n){return T(this,null,function*(){let e=yield fU(n),t=sr().gapi;return ce(t,n,"internal-error"),e.open({where:document.body,url:_U(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yU,dontclear:!0},r=>new Promise((i,o)=>T(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Hn(n,"network-request-failed"),a=sr().setTimeout(()=>{o(s)},pU.get());function u(){sr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var IU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wU=500,TU=600,DU="_blank",bU="http://localhost",Hh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function CU(n,e,t,r=wU,i=TU){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},IU),{width:r.toString(),height:i.toString(),top:o,left:s}),l=It().toLowerCase();t&&(a=$0(l)?DU:t),U0(l)&&(e=e||bU,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[v,A])=>`${g}${v}=${A},`,"");if(yj(l)&&a!=="_self")return SU(e||"",a),new Hh(null);let p=window.open(e||"",a,h);ce(p,n,"popup-blocked");try{p.focus()}catch{}return new Hh(p)}function SU(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var AU="__/auth/handler",RU="emulator/auth/handler",NU=encodeURIComponent("fac");function N0(n,e,t,r,i,o){return T(this,null,function*(){ce(n.config.authDomain,n,"auth-domain-config-required"),ce(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Di,eventId:i};if(e instanceof vu){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",HS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Vh){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${NU}=${encodeURIComponent(u)}`:"";return`${MU(n)}?${Qs(a).slice(1)}${l}`})}function MU({config:n}){return n.emulator?jv(n,RU):`https://${n.authDomain}/${AU}`}var wv="webStorageSupport",Ov=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zv,this._completeRedirectFn=rU,this._overrideRedirectResult=eU}_openPopup(e,t,r,i){return T(this,null,function*(){var o;jr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield N0(e,t,r,Tv(),i);return CU(e,s,Jv())})}_openRedirect(e,t,r,i){return T(this,null,function*(){yield this._originValidation(e);let o=yield N0(e,t,r,Tv(),i);return Fj(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(jr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return T(this,null,function*(){let t=yield EU(e),r=new xv(e);return t.register("authEvent",i=>(ce(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wv,{type:wv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[wv];s!==void 0&&t(!!s),ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=uU(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return W0()||B0()||zv()}},oA=Ov;var M0="@firebase/auth",P0="1.10.8";var Lv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return T(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function PU(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kU(n){Bn(new $t("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ce(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:K0(n)},l=new Rv(r,i,o,u);return Dj(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Bn(new $t("auth-internal",e=>{let t=zh(e.getProvider("auth").getImmediate());return(r=>new Lv(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),it(M0,P0,PU(n)),it(M0,P0,"esm2017")}var xU=300,OU=Jy("authIdTokenMaxAge")||xU,k0=null,LU=n=>e=>T(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>OU)return;let i=t?.token;k0!==i&&(k0=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function e_(n=bo()){let e=Ys(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Gv(n,{popupRedirectResolver:oA,persistence:[nA,J0,Zv]}),r=Jy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=LU(o.toString());Qv(t,s,()=>s(t.currentUser)),Iu(t,a=>s(a))}}let i=Yy("auth");return i&&Wv(t,`http://${i}`),t}function FU(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Ij({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Hn("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",FU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kU("Browser");function cA(n){return new Ie(function(e){var t=Iu(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var uA="auth",Mo=class{constructor(e){return e}},wu=class{constructor(){return Js(uA)}};var t_=new X("angularfire2.auth-instances");function CB(n,e){let t=lu(uA,n,e);return t&&new Mo(t)}function SB(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Mo(r)}}var AB={provide:wu,deps:[[new cn,t_]]},RB={provide:Mo,useFactory:CB,deps:[[new cn,t_],Lr]};function lA(n,...e){return it("angularfire",bi.full,"auth"),Pn([RB,AB,{provide:t_,useFactory:SB(n),multi:!0,deps:[He,_t,Ci,So,[new cn,Xs],...e]}])}var dA=Ot(cA,!0);var hA=Ot(e_,!0);var fA=Ot(Xv,!0,2);var pA=Ot(Yv,!0,2);var gA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mA={};var Ur,n_;(function(){var n;function e(b,y){function E(){}E.prototype=y.prototype,b.D=y.prototype,b.prototype=new E,b.prototype.constructor=b,b.C=function(I,w,D){for(var _=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)_[Ke-2]=arguments[Ke];return y.prototype[w].apply(I,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,y,E){E||(E=0);var I=Array(16);if(typeof y=="string")for(var w=0;16>w;++w)I[w]=y.charCodeAt(E++)|y.charCodeAt(E++)<<8|y.charCodeAt(E++)<<16|y.charCodeAt(E++)<<24;else for(w=0;16>w;++w)I[w]=y[E++]|y[E++]<<8|y[E++]<<16|y[E++]<<24;y=b.g[0],E=b.g[1],w=b.g[2];var D=b.g[3],_=y+(D^E&(w^D))+I[0]+3614090360&4294967295;y=E+(_<<7&4294967295|_>>>25),_=D+(w^y&(E^w))+I[1]+3905402710&4294967295,D=y+(_<<12&4294967295|_>>>20),_=w+(E^D&(y^E))+I[2]+606105819&4294967295,w=D+(_<<17&4294967295|_>>>15),_=E+(y^w&(D^y))+I[3]+3250441966&4294967295,E=w+(_<<22&4294967295|_>>>10),_=y+(D^E&(w^D))+I[4]+4118548399&4294967295,y=E+(_<<7&4294967295|_>>>25),_=D+(w^y&(E^w))+I[5]+1200080426&4294967295,D=y+(_<<12&4294967295|_>>>20),_=w+(E^D&(y^E))+I[6]+2821735955&4294967295,w=D+(_<<17&4294967295|_>>>15),_=E+(y^w&(D^y))+I[7]+4249261313&4294967295,E=w+(_<<22&4294967295|_>>>10),_=y+(D^E&(w^D))+I[8]+1770035416&4294967295,y=E+(_<<7&4294967295|_>>>25),_=D+(w^y&(E^w))+I[9]+2336552879&4294967295,D=y+(_<<12&4294967295|_>>>20),_=w+(E^D&(y^E))+I[10]+4294925233&4294967295,w=D+(_<<17&4294967295|_>>>15),_=E+(y^w&(D^y))+I[11]+2304563134&4294967295,E=w+(_<<22&4294967295|_>>>10),_=y+(D^E&(w^D))+I[12]+1804603682&4294967295,y=E+(_<<7&4294967295|_>>>25),_=D+(w^y&(E^w))+I[13]+4254626195&4294967295,D=y+(_<<12&4294967295|_>>>20),_=w+(E^D&(y^E))+I[14]+2792965006&4294967295,w=D+(_<<17&4294967295|_>>>15),_=E+(y^w&(D^y))+I[15]+1236535329&4294967295,E=w+(_<<22&4294967295|_>>>10),_=y+(w^D&(E^w))+I[1]+4129170786&4294967295,y=E+(_<<5&4294967295|_>>>27),_=D+(E^w&(y^E))+I[6]+3225465664&4294967295,D=y+(_<<9&4294967295|_>>>23),_=w+(y^E&(D^y))+I[11]+643717713&4294967295,w=D+(_<<14&4294967295|_>>>18),_=E+(D^y&(w^D))+I[0]+3921069994&4294967295,E=w+(_<<20&4294967295|_>>>12),_=y+(w^D&(E^w))+I[5]+3593408605&4294967295,y=E+(_<<5&4294967295|_>>>27),_=D+(E^w&(y^E))+I[10]+38016083&4294967295,D=y+(_<<9&4294967295|_>>>23),_=w+(y^E&(D^y))+I[15]+3634488961&4294967295,w=D+(_<<14&4294967295|_>>>18),_=E+(D^y&(w^D))+I[4]+3889429448&4294967295,E=w+(_<<20&4294967295|_>>>12),_=y+(w^D&(E^w))+I[9]+568446438&4294967295,y=E+(_<<5&4294967295|_>>>27),_=D+(E^w&(y^E))+I[14]+3275163606&4294967295,D=y+(_<<9&4294967295|_>>>23),_=w+(y^E&(D^y))+I[3]+4107603335&4294967295,w=D+(_<<14&4294967295|_>>>18),_=E+(D^y&(w^D))+I[8]+1163531501&4294967295,E=w+(_<<20&4294967295|_>>>12),_=y+(w^D&(E^w))+I[13]+2850285829&4294967295,y=E+(_<<5&4294967295|_>>>27),_=D+(E^w&(y^E))+I[2]+4243563512&4294967295,D=y+(_<<9&4294967295|_>>>23),_=w+(y^E&(D^y))+I[7]+1735328473&4294967295,w=D+(_<<14&4294967295|_>>>18),_=E+(D^y&(w^D))+I[12]+2368359562&4294967295,E=w+(_<<20&4294967295|_>>>12),_=y+(E^w^D)+I[5]+4294588738&4294967295,y=E+(_<<4&4294967295|_>>>28),_=D+(y^E^w)+I[8]+2272392833&4294967295,D=y+(_<<11&4294967295|_>>>21),_=w+(D^y^E)+I[11]+1839030562&4294967295,w=D+(_<<16&4294967295|_>>>16),_=E+(w^D^y)+I[14]+4259657740&4294967295,E=w+(_<<23&4294967295|_>>>9),_=y+(E^w^D)+I[1]+2763975236&4294967295,y=E+(_<<4&4294967295|_>>>28),_=D+(y^E^w)+I[4]+1272893353&4294967295,D=y+(_<<11&4294967295|_>>>21),_=w+(D^y^E)+I[7]+4139469664&4294967295,w=D+(_<<16&4294967295|_>>>16),_=E+(w^D^y)+I[10]+3200236656&4294967295,E=w+(_<<23&4294967295|_>>>9),_=y+(E^w^D)+I[13]+681279174&4294967295,y=E+(_<<4&4294967295|_>>>28),_=D+(y^E^w)+I[0]+3936430074&4294967295,D=y+(_<<11&4294967295|_>>>21),_=w+(D^y^E)+I[3]+3572445317&4294967295,w=D+(_<<16&4294967295|_>>>16),_=E+(w^D^y)+I[6]+76029189&4294967295,E=w+(_<<23&4294967295|_>>>9),_=y+(E^w^D)+I[9]+3654602809&4294967295,y=E+(_<<4&4294967295|_>>>28),_=D+(y^E^w)+I[12]+3873151461&4294967295,D=y+(_<<11&4294967295|_>>>21),_=w+(D^y^E)+I[15]+530742520&4294967295,w=D+(_<<16&4294967295|_>>>16),_=E+(w^D^y)+I[2]+3299628645&4294967295,E=w+(_<<23&4294967295|_>>>9),_=y+(w^(E|~D))+I[0]+4096336452&4294967295,y=E+(_<<6&4294967295|_>>>26),_=D+(E^(y|~w))+I[7]+1126891415&4294967295,D=y+(_<<10&4294967295|_>>>22),_=w+(y^(D|~E))+I[14]+2878612391&4294967295,w=D+(_<<15&4294967295|_>>>17),_=E+(D^(w|~y))+I[5]+4237533241&4294967295,E=w+(_<<21&4294967295|_>>>11),_=y+(w^(E|~D))+I[12]+1700485571&4294967295,y=E+(_<<6&4294967295|_>>>26),_=D+(E^(y|~w))+I[3]+2399980690&4294967295,D=y+(_<<10&4294967295|_>>>22),_=w+(y^(D|~E))+I[10]+4293915773&4294967295,w=D+(_<<15&4294967295|_>>>17),_=E+(D^(w|~y))+I[1]+2240044497&4294967295,E=w+(_<<21&4294967295|_>>>11),_=y+(w^(E|~D))+I[8]+1873313359&4294967295,y=E+(_<<6&4294967295|_>>>26),_=D+(E^(y|~w))+I[15]+4264355552&4294967295,D=y+(_<<10&4294967295|_>>>22),_=w+(y^(D|~E))+I[6]+2734768916&4294967295,w=D+(_<<15&4294967295|_>>>17),_=E+(D^(w|~y))+I[13]+1309151649&4294967295,E=w+(_<<21&4294967295|_>>>11),_=y+(w^(E|~D))+I[4]+4149444226&4294967295,y=E+(_<<6&4294967295|_>>>26),_=D+(E^(y|~w))+I[11]+3174756917&4294967295,D=y+(_<<10&4294967295|_>>>22),_=w+(y^(D|~E))+I[2]+718787259&4294967295,w=D+(_<<15&4294967295|_>>>17),_=E+(D^(w|~y))+I[9]+3951481745&4294967295,b.g[0]=b.g[0]+y&4294967295,b.g[1]=b.g[1]+(w+(_<<21&4294967295|_>>>11))&4294967295,b.g[2]=b.g[2]+w&4294967295,b.g[3]=b.g[3]+D&4294967295}r.prototype.u=function(b,y){y===void 0&&(y=b.length);for(var E=y-this.blockSize,I=this.B,w=this.h,D=0;D<y;){if(w==0)for(;D<=E;)i(this,b,D),D+=this.blockSize;if(typeof b=="string"){for(;D<y;)if(I[w++]=b.charCodeAt(D++),w==this.blockSize){i(this,I),w=0;break}}else for(;D<y;)if(I[w++]=b[D++],w==this.blockSize){i(this,I),w=0;break}}this.h=w,this.o+=y},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var y=1;y<b.length-8;++y)b[y]=0;var E=8*this.o;for(y=b.length-8;y<b.length;++y)b[y]=E&255,E/=256;for(this.u(b),b=Array(16),y=E=0;4>y;++y)for(var I=0;32>I;I+=8)b[E++]=this.g[y]>>>I&255;return b};function o(b,y){var E=a;return Object.prototype.hasOwnProperty.call(E,b)?E[b]:E[b]=y(b)}function s(b,y){this.h=y;for(var E=[],I=!0,w=b.length-1;0<=w;w--){var D=b[w]|0;I&&D==y||(E[w]=D,I=!1)}this.g=E}var a={};function u(b){return-128<=b&&128>b?o(b,function(y){return new s([y|0],0>y?-1:0)}):new s([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return P(l(-b));for(var y=[],E=1,I=0;b>=E;I++)y[I]=b/E|0,E*=4294967296;return new s(y,0)}function h(b,y){if(b.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(b.charAt(0)=="-")return P(h(b.substring(1),y));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(y,8)),I=p,w=0;w<b.length;w+=8){var D=Math.min(8,b.length-w),_=parseInt(b.substring(w,w+D),y);8>D?(D=l(Math.pow(y,D)),I=I.j(D).add(l(_))):(I=I.j(E),I=I.add(l(_)))}return I}var p=u(0),g=u(1),v=u(16777216);n=s.prototype,n.m=function(){if(k(this))return-P(this).m();for(var b=0,y=1,E=0;E<this.g.length;E++){var I=this.i(E);b+=(0<=I?I:4294967296+I)*y,y*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(A(this))return"0";if(k(this))return"-"+P(this).toString(b);for(var y=l(Math.pow(b,6)),E=this,I="";;){var w=Q(E,y).g;E=j(E,w.j(y));var D=((0<E.g.length?E.g[0]:E.h)>>>0).toString(b);if(E=w,A(E))return D+I;for(;6>D.length;)D="0"+D;I=D+I}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function A(b){if(b.h!=0)return!1;for(var y=0;y<b.g.length;y++)if(b.g[y]!=0)return!1;return!0}function k(b){return b.h==-1}n.l=function(b){return b=j(this,b),k(b)?-1:A(b)?0:1};function P(b){for(var y=b.g.length,E=[],I=0;I<y;I++)E[I]=~b.g[I];return new s(E,~b.h).add(g)}n.abs=function(){return k(this)?P(this):this},n.add=function(b){for(var y=Math.max(this.g.length,b.g.length),E=[],I=0,w=0;w<=y;w++){var D=I+(this.i(w)&65535)+(b.i(w)&65535),_=(D>>>16)+(this.i(w)>>>16)+(b.i(w)>>>16);I=_>>>16,D&=65535,_&=65535,E[w]=_<<16|D}return new s(E,E[E.length-1]&-2147483648?-1:0)};function j(b,y){return b.add(P(y))}n.j=function(b){if(A(this)||A(b))return p;if(k(this))return k(b)?P(this).j(P(b)):P(P(this).j(b));if(k(b))return P(this.j(P(b)));if(0>this.l(v)&&0>b.l(v))return l(this.m()*b.m());for(var y=this.g.length+b.g.length,E=[],I=0;I<2*y;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var w=0;w<b.g.length;w++){var D=this.i(I)>>>16,_=this.i(I)&65535,Ke=b.i(w)>>>16,ze=b.i(w)&65535;E[2*I+2*w]+=_*ze,L(E,2*I+2*w),E[2*I+2*w+1]+=D*ze,L(E,2*I+2*w+1),E[2*I+2*w+1]+=_*Ke,L(E,2*I+2*w+1),E[2*I+2*w+2]+=D*Ke,L(E,2*I+2*w+2)}for(I=0;I<y;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=y;I<2*y;I++)E[I]=0;return new s(E,0)};function L(b,y){for(;(b[y]&65535)!=b[y];)b[y+1]+=b[y]>>>16,b[y]&=65535,y++}function x(b,y){this.g=b,this.h=y}function Q(b,y){if(A(y))throw Error("division by zero");if(A(b))return new x(p,p);if(k(b))return y=Q(P(b),y),new x(P(y.g),P(y.h));if(k(y))return y=Q(b,P(y)),new x(P(y.g),y.h);if(30<b.g.length){if(k(b)||k(y))throw Error("slowDivide_ only works with positive integers.");for(var E=g,I=y;0>=I.l(b);)E=de(E),I=de(I);var w=te(E,1),D=te(I,1);for(I=te(I,2),E=te(E,2);!A(I);){var _=D.add(I);0>=_.l(b)&&(w=w.add(E),D=_),I=te(I,1),E=te(E,1)}return y=j(b,w.j(y)),new x(w,y)}for(w=p;0<=b.l(y);){for(E=Math.max(1,Math.floor(b.m()/y.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),D=l(E),_=D.j(y);k(_)||0<_.l(b);)E-=I,D=l(E),_=D.j(y);A(D)&&(D=g),w=w.add(D),b=j(b,_)}return new x(w,b)}n.A=function(b){return Q(this,b).h},n.and=function(b){for(var y=Math.max(this.g.length,b.g.length),E=[],I=0;I<y;I++)E[I]=this.i(I)&b.i(I);return new s(E,this.h&b.h)},n.or=function(b){for(var y=Math.max(this.g.length,b.g.length),E=[],I=0;I<y;I++)E[I]=this.i(I)|b.i(I);return new s(E,this.h|b.h)},n.xor=function(b){for(var y=Math.max(this.g.length,b.g.length),E=[],I=0;I<y;I++)E[I]=this.i(I)^b.i(I);return new s(E,this.h^b.h)};function de(b){for(var y=b.g.length+1,E=[],I=0;I<y;I++)E[I]=b.i(I)<<1|b.i(I-1)>>>31;return new s(E,b.h)}function te(b,y){var E=y>>5;y%=32;for(var I=b.g.length-E,w=[],D=0;D<I;D++)w[D]=0<y?b.i(D+E)>>>y|b.i(D+E+1)<<32-y:b.i(D+E);return new s(w,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,n_=mA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Ur=mA.Integer=s}).apply(typeof gA<"u"?gA:typeof self<"u"?self:typeof window<"u"?window:{});var Gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Br={};var r_,NB,na,i_,Tu,Wh,o_,s_,a_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gh=="object"&&Gh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var S=c[m];if(!(S in f))break e;f=f[S]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,S={next:function(){if(!m&&f<c.length){var M=f++;return{value:d(M,c[M]),done:!1}}return m=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,m),c.apply(d,S)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function A(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,S,M){for(var H=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)H[Ge-2]=arguments[Ge];return d.prototype[S].apply(m,H)}}function k(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function P(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let S=c.length||0,M=m.length||0;c.length=S+M;for(let H=0;H<M;H++)c[S+H]=m[H]}else c.push(m)}}class j{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function L(c){return/^[\s\xa0]*$/.test(c)}function x(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Q(c){return Q[" "](c),c}Q[" "]=function(){};var de=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function te(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function b(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,m;for(let S=1;S<arguments.length;S++){m=arguments[S];for(f in m)c[f]=m[f];for(let M=0;M<E.length;M++)f=E[M],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function w(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function D(c){a.setTimeout(()=>{throw c},0)}function _(){var c=R;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Ke{constructor(){this.h=this.g=null}add(d,f){let m=ze.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var ze=new j(()=>new ve,c=>c.reset());class ve{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let G,C=!1,R=new Ke,Z=()=>{let c=a.Promise.resolve(void 0);G=()=>{c.then(se)}};var se=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){D(f)}var d=ze;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}C=!1};function Le(){this.s=this.s,this.C=this.C}Le.prototype.s=!1,Le.prototype.ma=function(){this.s||(this.s=!0,this.N())},Le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var qn=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function jt(c,d){if(ne.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(de){e:{try{Q(d.nodeName);var S=!0;break e}catch{}S=!1}S||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Cn[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&jt.aa.h.call(this)}}A(jt,ne);var Cn={2:"touch",3:"pen",4:"mouse"};jt.prototype.h=function(){jt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),$=0;function B(c,d,f,m,S){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=S,this.key=++$,this.da=this.fa=!1}function N(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function U(c){this.src=c,this.g={},this.h=0}U.prototype.add=function(c,d,f,m,S){var M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);var H=oe(c,d,m,S);return-1<H?(d=c[H],f||(d.fa=!1)):(d=new B(d,this.src,M,!!m,S),d.fa=f,c.push(d)),d};function J(c,d){var f=d.type;if(f in c.g){var m=c.g[f],S=Array.prototype.indexOf.call(m,d,void 0),M;(M=0<=S)&&Array.prototype.splice.call(m,S,1),M&&(N(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function oe(c,d,f,m){for(var S=0;S<c.length;++S){var M=c[S];if(!M.da&&M.listener==d&&M.capture==!!f&&M.ha==m)return S}return-1}var K="closure_lm_"+(1e6*Math.random()|0),he={};function _e(c,d,f,m,S){if(m&&m.once)return $e(c,d,f,m,S);if(Array.isArray(d)){for(var M=0;M<d.length;M++)_e(c,d[M],f,m,S);return null}return f=Bi(f),c&&c[Dt]?c.K(d,f,l(m)?!!m.capture:!!m,S):Ee(c,d,f,!1,m,S)}function Ee(c,d,f,m,S,M){if(!d)throw Error("Invalid event type");var H=l(S)?!!S.capture:!!S,Ge=zo(c);if(Ge||(c[K]=Ge=new U(c)),f=Ge.add(d,f,m,H,M),f.proxy)return f;if(m=qe(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)qn||(S=H),S===void 0&&(S=!1),c.addEventListener(d.toString(),m,S);else if(c.attachEvent)c.attachEvent(pr(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function qe(){function c(f){return d.call(c.src,c.listener,f)}let d=Ra;return c}function $e(c,d,f,m,S){if(Array.isArray(d)){for(var M=0;M<d.length;M++)$e(c,d[M],f,m,S);return null}return f=Bi(f),c&&c[Dt]?c.L(d,f,l(m)?!!m.capture:!!m,S):Ee(c,d,f,!0,m,S)}function Sn(c,d,f,m,S){if(Array.isArray(d))for(var M=0;M<d.length;M++)Sn(c,d[M],f,m,S);else m=l(m)?!!m.capture:!!m,f=Bi(f),c&&c[Dt]?(c=c.i,d=String(d).toString(),d in c.g&&(M=c.g[d],f=oe(M,f,m,S),-1<f&&(N(M[f]),Array.prototype.splice.call(M,f,1),M.length==0&&(delete c.g[d],c.h--)))):c&&(c=zo(c))&&(d=c.g[d.toString()],c=-1,d&&(c=oe(d,f,m,S)),(f=-1<c?d[c]:null)&&Ht(f))}function Ht(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Dt])J(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(pr(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=zo(d))?(J(f,c),f.h==0&&(f.src=null,d[K]=null)):N(c)}}}function pr(c){return c in he?he[c]:he[c]="on"+c}function Ra(c,d){if(c.da)c=!0;else{d=new jt(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&Ht(c),c=f.call(m,d)}return c}function zo(c){return c=c[K],c instanceof U?c:null}var Na="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bi(c){return typeof c=="function"?c:(c[Na]||(c[Na]=function(d){return c.handleEvent(d)}),c[Na])}function lt(){Le.call(this),this.i=new U(this),this.M=this,this.F=null}A(lt,Le),lt.prototype[Dt]=!0,lt.prototype.removeEventListener=function(c,d,f,m){Sn(this,c,d,f,m)};function Je(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new ne(d,c);else if(d instanceof ne)d.target=d.target||c;else{var S=d;d=new ne(m,c),I(d,S)}if(S=!0,f)for(var M=f.length-1;0<=M;M--){var H=d.g=f[M];S=$i(H,m,!0,d)&&S}if(H=d.g=c,S=$i(H,m,!0,d)&&S,S=$i(H,m,!1,d)&&S,f)for(M=0;M<f.length;M++)H=d.g=f[M],S=$i(H,m,!1,d)&&S}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)N(f[m]);delete c.g[d],c.h--}}this.F=null},lt.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},lt.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function $i(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var S=!0,M=0;M<d.length;++M){var H=d[M];if(H&&!H.da&&H.capture==f){var Ge=H.listener,bt=H.ha||H.src;H.fa&&J(c.i,H),S=Ge.call(bt,m)!==!1&&S}}return S&&!m.defaultPrevented}function Hi(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Ma(c){c.g=Hi(()=>{c.g=null,c.i&&(c.i=!1,Ma(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class Hu extends Le{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Ma(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function An(c){Le.call(this),this.h=c,this.g={}}A(An,Le);var zt=[];function Xt(c){te(c.g,function(d,f){this.g.hasOwnProperty(f)&&Ht(d)},c),c.g={}}An.prototype.N=function(){An.aa.N.call(this),Xt(this)},An.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qf=a.JSON.stringify,JN=a.JSON.parse,XN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Gf(){}Gf.prototype.h=null;function DI(c){return c.h||(c.h=c.i())}function bI(){}var Pa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wf(){ne.call(this,"d")}A(Wf,ne);function Kf(){ne.call(this,"c")}A(Kf,ne);var zi={},CI=null;function zu(){return CI=CI||new lt}zi.La="serverreachability";function SI(c){ne.call(this,zi.La,c)}A(SI,ne);function ka(c){let d=zu();Je(d,new SI(d))}zi.STAT_EVENT="statevent";function AI(c,d){ne.call(this,zi.STAT_EVENT,c),this.stat=d}A(AI,ne);function Ut(c){let d=zu();Je(d,new AI(d,c))}zi.Ma="timingevent";function RI(c,d){ne.call(this,zi.Ma,c),this.size=d}A(RI,ne);function xa(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Oa(){this.g=!0}Oa.prototype.xa=function(){this.g=!1};function eM(c,d,f,m,S,M){c.info(function(){if(c.g)if(M)for(var H="",Ge=M.split("&"),bt=0;bt<Ge.length;bt++){var Oe=Ge[bt].split("=");if(1<Oe.length){var Mt=Oe[0];Oe=Oe[1];var Pt=Mt.split("_");H=2<=Pt.length&&Pt[1]=="type"?H+(Mt+"="+Oe+"&"):H+(Mt+"=redacted&")}}else H=null;else H=M;return"XMLHTTP REQ ("+m+") [attempt "+S+"]: "+d+`
`+f+`
`+H})}function tM(c,d,f,m,S,M,H){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+S+"]: "+d+`
`+f+`
`+M+" "+H})}function qo(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+rM(c,f)+(m?" "+m:"")})}function nM(c,d){c.info(function(){return"TIMEOUT: "+d})}Oa.prototype.info=function(){};function rM(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var S=m[1];if(Array.isArray(S)&&!(1>S.length)){var M=S[0];if(M!="noop"&&M!="stop"&&M!="close")for(var H=1;H<S.length;H++)S[H]=""}}}}return qf(f)}catch{return d}}var qu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},NI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qf;function Gu(){}A(Gu,Gf),Gu.prototype.g=function(){return new XMLHttpRequest},Gu.prototype.i=function(){return{}},Qf=new Gu;function Qr(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new An(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new MI}function MI(){this.i=null,this.g="",this.h=!1}var PI={},Yf={};function Zf(c,d,f){c.L=1,c.v=Yu(gr(d)),c.m=f,c.P=!0,kI(c,null)}function kI(c,d){c.F=Date.now(),Wu(c),c.A=gr(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),WI(f.i,"t",m),c.C=0,f=c.j.J,c.h=new MI,c.g=dw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new Hu(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var S="readystatechange";Array.isArray(S)||(S&&(zt[0]=S.toString()),S=zt);for(var M=0;M<S.length;M++){var H=_e(f,S[M],m||d.handleEvent,!1,d.h||d);if(!H)break;d.g[H.key]=H}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ka(),eM(c.i,c.u,c.A,c.l,c.R,c.m)}Qr.prototype.ca=function(c){c=c.target;let d=this.M;d&&mr(c)==3?d.j():this.Y(c)},Qr.prototype.Y=function(c){try{if(c==this.g)e:{let Pt=mr(this.g);var d=this.g.Ba();let Ko=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||ew(this.g)))){this.J||Pt!=4||d==7||(d==8||0>=Ko?ka(3):ka(2)),Jf(this);var f=this.g.Z();this.X=f;t:if(xI(this)){var m=ew(this.g);c="";var S=m.length,M=mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qi(this),La(this);var H="";break t}this.h.i=new a.TextDecoder}for(d=0;d<S;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(M&&d==S-1)});m.length=0,this.h.g+=c,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=f==200,tM(this.i,this.u,this.A,this.l,this.R,Pt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,bt=this.g;if((Ge=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Ge)){var Oe=Ge;break t}}Oe=null}if(f=Oe)qo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xf(this,f);else{this.o=!1,this.s=3,Ut(12),qi(this),La(this);break e}}if(this.P){f=!0;let Rn;for(;!this.J&&this.C<H.length;)if(Rn=iM(this,H),Rn==Yf){Pt==4&&(this.s=4,Ut(14),f=!1),qo(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==PI){this.s=4,Ut(15),qo(this.i,this.l,H,"[Invalid Chunk]"),f=!1;break}else qo(this.i,this.l,Rn,null),Xf(this,Rn);if(xI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||H.length!=0||this.h.h||(this.s=1,Ut(16),f=!1),this.o=this.o&&f,!f)qo(this.i,this.l,H,"[Invalid Chunked Response]"),qi(this),La(this);else if(0<H.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),op(Mt),Mt.M=!0,Ut(11))}}else qo(this.i,this.l,H,null),Xf(this,H);Pt==4&&qi(this),this.o&&!this.J&&(Pt==4?aw(this.j,this):(this.o=!1,Wu(this)))}else IM(this.g),f==400&&0<H.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),qi(this),La(this)}}}catch{}finally{}};function xI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function iM(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Yf:(f=Number(d.substring(f,m)),isNaN(f)?PI:(m+=1,m+f>d.length?Yf:(d=d.slice(m,m+f),c.C=m+f,d)))}Qr.prototype.cancel=function(){this.J=!0,qi(this)};function Wu(c){c.S=Date.now()+c.I,OI(c,c.I)}function OI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=xa(g(c.ba,c),d)}function Jf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Qr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(nM(this.i,this.A),this.L!=2&&(ka(),Ut(17)),qi(this),this.s=2,La(this)):OI(this,this.S-c)};function La(c){c.j.G==0||c.J||aw(c.j,c)}function qi(c){Jf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Xt(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Xf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||ep(f.h,c))){if(!c.K&&ep(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var S=m;if(S[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)tl(f),Xu(f);else break e;ip(f),Ut(18)}}else f.za=S[1],0<f.za-f.T&&37500>S[2]&&f.F&&f.v==0&&!f.C&&(f.C=xa(g(f.Za,f),6e3));if(1>=VI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Wi(f,11)}else if((c.K||f.g==c)&&tl(f),!L(d))for(S=f.Da.g.parse(d),d=0;d<S.length;d++){let Oe=S[d];if(f.T=Oe[0],Oe=Oe[1],f.G==2)if(Oe[0]=="c"){f.K=Oe[1],f.ia=Oe[2];let Mt=Oe[3];Mt!=null&&(f.la=Mt,f.j.info("VER="+f.la));let Pt=Oe[4];Pt!=null&&(f.Aa=Pt,f.j.info("SVER="+f.Aa));let Ko=Oe[5];Ko!=null&&typeof Ko=="number"&&0<Ko&&(m=1.5*Ko,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let Rn=c.g;if(Rn){let rl=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rl){var M=m.h;M.g||rl.indexOf("spdy")==-1&&rl.indexOf("quic")==-1&&rl.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(tp(M,M.h),M.h=null))}if(m.D){let sp=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;sp&&(m.ya=sp,Qe(m.I,m.D,sp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var H=c;if(m.qa=lw(m,m.J?m.ia:null,m.W),H.K){jI(m.h,H);var Ge=H,bt=m.L;bt&&(Ge.I=bt),Ge.B&&(Jf(Ge),Wu(Ge)),m.g=H}else ow(m);0<f.i.length&&el(f)}else Oe[0]!="stop"&&Oe[0]!="close"||Wi(f,7);else f.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?Wi(f,7):rp(f):Oe[0]!="noop"&&f.l&&f.l.ta(Oe),f.v=0)}}ka(4)}catch{}}var oM=class{constructor(c,d){this.g=c,this.map=d}};function LI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function FI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function VI(c){return c.h?1:c.g?c.g.size:0}function ep(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function tp(c,d){c.g?c.g.add(d):c.h=d}function jI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}LI.prototype.cancel=function(){if(this.i=UI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function UI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return k(c.i)}function sM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function aM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function BI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=aM(c),m=sM(c),S=m.length,M=0;M<S;M++)d.call(void 0,m[M],f&&f[M],c)}var $I=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),S=null;if(0<=m){var M=c[f].substring(0,m);S=c[f].substring(m+1)}else M=c[f];d(M,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function Gi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Gi){this.h=c.h,Ku(this,c.j),this.o=c.o,this.g=c.g,Qu(this,c.s),this.l=c.l;var d=c.i,f=new ja;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),HI(this,f),this.m=c.m}else c&&(d=String(c).match($I))?(this.h=!1,Ku(this,d[1]||"",!0),this.o=Fa(d[2]||""),this.g=Fa(d[3]||"",!0),Qu(this,d[4]),this.l=Fa(d[5]||"",!0),HI(this,d[6]||"",!0),this.m=Fa(d[7]||"")):(this.h=!1,this.i=new ja(null,this.h))}Gi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Va(d,zI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Va(d,zI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Va(f,f.charAt(0)=="/"?dM:lM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Va(f,fM)),c.join("")};function gr(c){return new Gi(c)}function Ku(c,d,f){c.j=f?Fa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Qu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function HI(c,d,f){d instanceof ja?(c.i=d,pM(c.i,c.h)):(f||(d=Va(d,hM)),c.i=new ja(d,c.h))}function Qe(c,d,f){c.i.set(d,f)}function Yu(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Fa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Va(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,uM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function uM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var zI=/[#\/\?@]/g,lM=/[#\?:]/g,dM=/[#\?]/g,hM=/[#\?@]/g,fM=/#/g;function ja(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Yr(c){c.g||(c.g=new Map,c.h=0,c.i&&cM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=ja.prototype,n.add=function(c,d){Yr(this),this.i=null,c=Go(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function qI(c,d){Yr(c),d=Go(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function GI(c,d){return Yr(c),d=Go(c,d),c.g.has(d)}n.forEach=function(c,d){Yr(this),this.g.forEach(function(f,m){f.forEach(function(S){c.call(d,S,m,this)},this)},this)},n.na=function(){Yr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let S=c[m];for(let M=0;M<S.length;M++)f.push(d[m])}return f},n.V=function(c){Yr(this);let d=[];if(typeof c=="string")GI(this,c)&&(d=d.concat(this.g.get(Go(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Yr(this),this.i=null,c=Go(this,c),GI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function WI(c,d,f){qI(c,d),0<f.length&&(c.i=null,c.g.set(Go(c,d),k(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let M=encodeURIComponent(String(m)),H=this.V(m);for(m=0;m<H.length;m++){var S=M;H[m]!==""&&(S+="="+encodeURIComponent(String(H[m]))),c.push(S)}}return this.i=c.join("&")};function Go(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function pM(c,d){d&&!c.j&&(Yr(c),c.i=null,c.g.forEach(function(f,m){var S=m.toLowerCase();m!=S&&(qI(this,m),WI(this,S,f))},c)),c.j=d}function gM(c,d){let f=new Oa;if(a.Image){let m=new Image;m.onload=v(Zr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=v(Zr,f,"TestLoadImage: error",!1,d,m),m.onabort=v(Zr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=v(Zr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function mM(c,d){let f=new Oa,m=new AbortController,S=setTimeout(()=>{m.abort(),Zr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(M=>{clearTimeout(S),M.ok?Zr(f,"TestPingServer: ok",!0,d):Zr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(S),Zr(f,"TestPingServer: error",!1,d)})}function Zr(c,d,f,m,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),m(f)}catch{}}function yM(){this.g=new XN}function vM(c,d,f){let m=f||"";try{BI(c,function(S,M){let H=S;l(S)&&(H=qf(S)),d.push(m+M+"="+encodeURIComponent(H))})}catch(S){throw d.push(m+"type="+encodeURIComponent("_badmap")),S}}function Ua(c){this.l=c.Ub||null,this.j=c.eb||!1}A(Ua,Gf),Ua.prototype.g=function(){return new Zu(this.l,this.j)},Ua.prototype.i=(function(c){return function(){return c}})({});function Zu(c,d){lt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Zu,lt),n=Zu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,$a(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ba(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$a(this)),this.g&&(this.readyState=3,$a(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;KI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function KI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ba(this):$a(this),this.readyState==3&&KI(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Ba(this))},n.Qa=function(c){this.g&&(this.response=c,Ba(this))},n.ga=function(){this.g&&Ba(this)};function Ba(c){c.readyState=4,c.l=null,c.j=null,c.v=null,$a(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function $a(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Zu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function QI(c){let d="";return te(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function np(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=QI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Qe(c,d,f))}function Xe(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Xe,lt);var _M=/^https?$/i,EM=["POST","PUT"];n=Xe.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qf.g(),this.v=this.o?DI(this.o):DI(Qf),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(M){YI(this,M);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var S in m)f.set(S,m[S]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let M of m.keys())f.set(M,m.get(M));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(M=>M.toLowerCase()=="content-type"),S=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(EM,d,void 0))||m||S||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,H]of f)this.g.setRequestHeader(M,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{XI(this),this.u=!0,this.g.send(c),this.u=!1}catch(M){YI(this,M)}};function YI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,ZI(c),Ju(c)}function ZI(c){c.A||(c.A=!0,Je(c,"complete"),Je(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Je(this,"complete"),Je(this,"abort"),Ju(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ju(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?JI(this):this.bb())},n.bb=function(){JI(this)};function JI(c){if(c.h&&typeof s<"u"&&(!c.v[1]||mr(c)!=4||c.Z()!=2)){if(c.u&&mr(c)==4)Hi(c.Ea,0,c);else if(Je(c,"readystatechange"),mr(c)==4){c.h=!1;try{let H=c.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=H===0){var S=String(c.D).match($I)[1]||null;!S&&a.self&&a.self.location&&(S=a.self.location.protocol.slice(0,-1)),m=!_M.test(S?S.toLowerCase():"")}f=m}if(f)Je(c,"complete"),Je(c,"success");else{c.m=6;try{var M=2<mr(c)?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.Z()+"]",ZI(c)}}finally{Ju(c)}}}}function Ju(c,d){if(c.g){XI(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Je(c,"ready");try{f.onreadystatechange=m}catch{}}}function XI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function mr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<mr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),JN(d)}};function ew(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function IM(c){let d={};c=(c.g&&2<=mr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(L(c[m]))continue;var f=w(c[m]);let S=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let M=d[S]||[];d[S]=M,M.push(f)}b(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ha(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function tw(c){this.Aa=0,this.i=[],this.j=new Oa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ha("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ha("baseRetryDelayMs",5e3,c),this.cb=Ha("retryDelaySeedMs",1e4,c),this.Wa=Ha("forwardChannelMaxRetries",2,c),this.wa=Ha("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new LI(c&&c.concurrentRequestLimit),this.Da=new yM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=tw.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,m){Ut(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=lw(this,null,this.W),el(this)};function rp(c){if(nw(c),c.G==3){var d=c.U++,f=gr(c.I);if(Qe(f,"SID",c.K),Qe(f,"RID",d),Qe(f,"TYPE","terminate"),za(c,f),d=new Qr(c,c.j,d),d.L=2,d.v=Yu(gr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=dw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Wu(d)}uw(c)}function Xu(c){c.g&&(op(c),c.g.cancel(),c.g=null)}function nw(c){Xu(c),c.u&&(a.clearTimeout(c.u),c.u=null),tl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function el(c){if(!FI(c.h)&&!c.s){c.s=!0;var d=c.Ga;G||Z(),C||(G(),C=!0),R.add(d,c),c.B=0}}function wM(c,d){return VI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=xa(g(c.Ga,c,d),cw(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let S=new Qr(this,this.j,c),M=this.o;if(this.S&&(M?(M=y(M),I(M,this.S)):M=this.S),this.m!==null||this.O||(S.H=M,M=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=iw(this,S,d),f=gr(this.I),Qe(f,"RID",c),Qe(f,"CVER",22),this.D&&Qe(f,"X-HTTP-Session-Id",this.D),za(this,f),M&&(this.O?d="headers="+encodeURIComponent(String(QI(M)))+"&"+d:this.m&&np(f,this.m,M)),tp(this.h,S),this.Ua&&Qe(f,"TYPE","init"),this.P?(Qe(f,"$req",d),Qe(f,"SID","null"),S.T=!0,Zf(S,f,null)):Zf(S,f,d),this.G=2}}else this.G==3&&(c?rw(this,c):this.i.length==0||FI(this.h)||rw(this))};function rw(c,d){var f;d?f=d.l:f=c.U++;let m=gr(c.I);Qe(m,"SID",c.K),Qe(m,"RID",f),Qe(m,"AID",c.T),za(c,m),c.m&&c.o&&np(m,c.m,c.o),f=new Qr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=iw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),tp(c.h,f),Zf(f,m,d)}function za(c,d){c.H&&te(c.H,function(f,m){Qe(d,m,f)}),c.l&&BI({},function(f,m){Qe(d,m,f)})}function iw(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var S=c.i;let M=-1;for(;;){let H=["count="+f];M==-1?0<f?(M=S[0].g,H.push("ofs="+M)):M=0:H.push("ofs="+M);let Ge=!0;for(let bt=0;bt<f;bt++){let Oe=S[bt].g,Mt=S[bt].map;if(Oe-=M,0>Oe)M=Math.max(0,S[bt].g-100),Ge=!1;else try{vM(Mt,H,"req"+Oe+"_")}catch{m&&m(Mt)}}if(Ge){m=H.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function ow(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;G||Z(),C||(G(),C=!0),R.add(d,c),c.v=0}}function ip(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=xa(g(c.Fa,c),cw(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,sw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=xa(g(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),Xu(this),sw(this))};function op(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function sw(c){c.g=new Qr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=gr(c.qa);Qe(d,"RID","rpc"),Qe(d,"SID",c.K),Qe(d,"AID",c.T),Qe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(d,"TO",c.ja),Qe(d,"TYPE","xmlhttp"),za(c,d),c.m&&c.o&&np(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Yu(gr(d)),f.m=null,f.P=!0,kI(f,c)}n.Za=function(){this.C!=null&&(this.C=null,Xu(this),ip(this),Ut(19))};function tl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function aw(c,d){var f=null;if(c.g==d){tl(c),op(c),c.g=null;var m=2}else if(ep(c.h,d))f=d.D,jI(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var S=c.B;m=zu(),Je(m,new RI(m,f)),el(c)}else ow(c);else if(S=d.s,S==3||S==0&&0<d.X||!(m==1&&wM(c,d)||m==2&&ip(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),S){case 1:Wi(c,5);break;case 4:Wi(c,10);break;case 3:Wi(c,6);break;default:Wi(c,2)}}}function cw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Wi(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let S=!m;m=new Gi(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ku(m,"https"),Yu(m),S?gM(m.toString(),f):mM(m.toString(),f)}else Ut(2);c.G=0,c.l&&c.l.sa(d),uw(c),nw(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function uw(c){if(c.G=0,c.ka=[],c.l){let d=UI(c.h);(d.length!=0||c.i.length!=0)&&(P(c.ka,d),P(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function lw(c,d,f){var m=f instanceof Gi?gr(f):new Gi(f);if(m.g!="")d&&(m.g=d+"."+m.g),Qu(m,m.s);else{var S=a.location;m=S.protocol,d=d?d+"."+S.hostname:S.hostname,S=+S.port;var M=new Gi(null);m&&Ku(M,m),d&&(M.g=d),S&&Qu(M,S),f&&(M.l=f),m=M}return f=c.D,d=c.ya,f&&d&&Qe(m,f,d),Qe(m,"VER",c.la),za(c,m),m}function dw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Xe(new Ua({eb:f})):new Xe(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function hw(){}n=hw.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function nl(){}nl.prototype.g=function(c,d){return new en(c,d)};function en(c,d){lt.call(this),this.g=new tw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!L(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!L(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Wo(this)}A(en,lt),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){rp(this.g)},en.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=qf(c),c=f);d.i.push(new oM(d.Ya++,c)),d.G==3&&el(d)},en.prototype.N=function(){this.g.l=null,delete this.j,rp(this.g),delete this.g,en.aa.N.call(this)};function fw(c){Wf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}A(fw,Wf);function pw(){Kf.call(this),this.status=1}A(pw,Kf);function Wo(c){this.g=c}A(Wo,hw),Wo.prototype.ua=function(){Je(this.g,"a")},Wo.prototype.ta=function(c){Je(this.g,new fw(c))},Wo.prototype.sa=function(c){Je(this.g,new pw)},Wo.prototype.ra=function(){Je(this.g,"b")},nl.prototype.createWebChannel=nl.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,a_=Br.createWebChannelTransport=function(){return new nl},s_=Br.getStatEventTarget=function(){return zu()},o_=Br.Event=zi,Wh=Br.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qu.NO_ERROR=0,qu.TIMEOUT=8,qu.HTTP_ERROR=6,Tu=Br.ErrorCode=qu,NI.COMPLETE="complete",i_=Br.EventType=NI,bI.EventType=Pa,Pa.OPEN="a",Pa.CLOSE="b",Pa.ERROR="c",Pa.MESSAGE="d",lt.prototype.listen=lt.prototype.K,na=Br.WebChannel=bI,NB=Br.FetchXmlHttpFactory=Ua,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,r_=Br.XhrIo=Xe}).apply(typeof Gh<"u"?Gh:typeof self<"u"?self:typeof window<"u"?window:{});var yA="@firebase/firestore",vA="4.8.0";var wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");var ba="11.10.0";var Lo=new ir("@firebase/firestore");function ra(){return Lo.logLevel}function q(n,...e){if(Lo.logLevel<=Re.DEBUG){let t=e.map(KE);Lo.debug(`Firestore (${ba}): ${n}`,...t)}}function zr(n,...e){if(Lo.logLevel<=Re.ERROR){let t=e.map(KE);Lo.error(`Firestore (${ba}): ${n}`,...t)}}function Oi(n,...e){if(Lo.logLevel<=Re.WARN){let t=e.map(KE);Lo.warn(`Firestore (${ba}): ${n}`,...t)}}function KE(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ie(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,cR(n,r,t)}function cR(n,e,t){let r=`FIRESTORE (${ba}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw zr(r),new Error(r)}function Be(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||cR(e,i,r)}function fe(n,e){return n}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},W=class extends hn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var $r=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var ef=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},h_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wt.UNAUTHENTICATED))}shutdown(){}},f_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},p_=class{constructor(e){this.t=e,this.currentUser=wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new $r,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>T(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new $r)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string",31837,{l:r}),new ef(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string",2055,{h:e}),new wt(e)}},g_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},m_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new g_(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},tf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},y_=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Be(this.o===void 0,3512);let r=o=>{o.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new tf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new tf(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function MB(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function uR(){return new TextEncoder}var Ru=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=MB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function Se(n,e){return n<e?-1:n>e?1:0}function v_(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Se(r,i);{let o=uR(),s=PB(o.encode(_A(n,t)),o.encode(_A(e,t)));return s!==0?s:Se(r,i)}}t+=r>65535?2:1}return Se(n.length,e.length)}function _A(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function PB(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Se(n[t],e[t]);return Se(n.length,e.length)}function da(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var EA="__name__",nf=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ie(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ie(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Se(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):v_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ur.fromString(e.substring(4,e.length-2))}},Ze=class n extends nf{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new W(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},kB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,gn=class n extends nf{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return kB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===EA}static keyField(){return new n([EA])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new W(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new W(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new W(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var re=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ze.fromString(e))}static fromName(e){return new n(Ze.fromString(e).popFirst(5))}static empty(){return new n(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ze(e.slice()))}};function lR(n,e,t){if(!t)throw new W(O.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xB(n,e,t,r){if(e===!0&&r===!0)throw new W(O.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function IA(n){if(!re.isDocumentKey(n))throw new W(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function wA(n){if(re.isDocumentKey(n))throw new W(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dR(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function QE(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ie(12329,{type:typeof n})}function Ni(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new W(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=QE(n);throw new W(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ct(n,e){let t={typeString:n};return e&&(t.value=e),t}function Uu(n,e){if(!dR(n))throw new W(O.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new W(O.INVALID_ARGUMENT,t);return!0}var TA=-62135596800,DA=1e6,ut=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*DA);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new W(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new W(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<TA)throw new W(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/DA}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Uu(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-TA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:ct("string",ut._jsonSchemaVersion),seconds:ct("number"),nanoseconds:ct("number")};var ye=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new ut(0,0))}static max(){return new n(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Nu=-1,__=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};__.UNKNOWN_ID=-1;function OB(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(r===1e9?new ut(t+1,0):new ut(t,r));return new Fo(i,re.empty(),e)}function LB(n){return new Fo(n.readTime,n.key,Nu)}var Fo=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ye.min(),re.empty(),Nu)}static max(){return new n(ye.max(),re.empty(),Nu)}};function FB(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=re.comparator(n.documentKey,e.documentKey),t!==0?t:Se(n.largestBatchId,e.largestBatchId))}var VB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",E_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ca(n){return T(this,null,function*(){if(n.code!==O.FAILED_PRECONDITION||n.message!==VB)throw n;q("LocalStore","Unexpectedly lost primary lease")})}var F=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function jB(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Sa(n){return n.name==="IndexedDbTransactionError"}var YE=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),ZE=-1;function xf(n){return n==null}function Mu(n){return n===0&&1/n==-1/0}function UB(n){return typeof n=="number"&&Number.isInteger(n)&&!Mu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var hR="";function BB(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=bA(e)),e=$B(n.get(t),e);return bA(e)}function $B(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case hR:t+="";break;default:t+=o}}return t}function bA(n){return n+hR+""}var HB="remoteDocuments",fR="owner";var pR="mutationQueues";var gR="mutations";var mR="documentMutations",zB="remoteDocumentsV14";var yR="remoteDocumentGlobal";var vR="targets";var _R="targetDocuments";var ER="targetGlobal",IR="collectionParents";var wR="clientMetadata";var TR="bundles";var DR="namedQueries";var qB="indexConfiguration";var GB="indexState";var WB="indexEntries";var bR="documentOverlays";var KB="globals";var QB=[pR,gR,mR,HB,vR,fR,ER,_R,wR,yR,IR,TR,DR],jre=[...QB,bR],YB=[pR,gR,mR,zB,vR,fR,ER,_R,wR,yR,IR,TR,DR,bR],ZB=YB,JB=[...ZB,qB,GB,WB];var Ure=[...JB,KB];function CA(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ui(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function CR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ot=class n{constructor(e,t){this.comparator=e,this.root=t||cr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new aa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new aa(this.root,e,this.comparator,!1)}getReverseIterator(){return new aa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new aa(this.root,e,this.comparator,!0)}},aa=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},cr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ie(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ie(27949);return e+(this.isRed()?0:1)}};cr.EMPTY=null,cr.RED=!0,cr.BLACK=!1;cr.EMPTY=new class{constructor(){this.size=0}get key(){throw ie(57766)}get value(){throw ie(16141)}get color(){throw ie(16727)}get left(){throw ie(29726)}get right(){throw ie(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new cr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Tt=class n{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rf(this.data.getIterator())}getIteratorFrom(e){return new rf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},rf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var bn=class n{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Tt(gn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return da(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var of=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Vt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new of("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Vt.EMPTY_BYTE_STRING=new Vt("");var XB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(n){if(Be(!!n,39018),typeof n=="string"){let e=0,t=XB.exec(n);if(Be(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ye(n.seconds),nanos:Ye(n.nanos)}}function Ye(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Gr(n){return typeof n=="string"?Vt.fromBase64String(n):Vt.fromUint8Array(n)}var SR="server_timestamp",AR="__type__",RR="__previous_value__",NR="__local_write_time__";function JE(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[AR])===null||t===void 0?void 0:t.stringValue)===SR}function Of(n){let e=n.mapValue.fields[RR];return JE(e)?Of(e):e}function Pu(n){let e=qr(n.mapValue.fields[NR].timestampValue);return new ut(e.seconds,e.nanos)}var I_=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},sf="(default)",af=class n{constructor(e,t){this.projectId=e,this.database=t||sf}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===sf}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var XE="__type__",MR="__max__",Kh={mapValue:{fields:{__type__:{stringValue:MR}}}},eI="__vector__",ha="value";function Li(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?JE(n)?4:kR(n)?9007199254740991:PR(n)?10:11:ie(28295,{value:n})}function dr(n,e){if(n===e)return!0;let t=Li(n);if(t!==Li(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pu(n).isEqual(Pu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=qr(i.timestampValue),a=qr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Gr(i.bytesValue).isEqual(Gr(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ye(i.geoPointValue.latitude)===Ye(o.geoPointValue.latitude)&&Ye(i.geoPointValue.longitude)===Ye(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ye(i.integerValue)===Ye(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ye(i.doubleValue),a=Ye(o.doubleValue);return s===a?Mu(s)===Mu(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return da(n.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(CA(s)!==CA(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!dr(s[u],a[u])))return!1;return!0})(n,e);default:return ie(52216,{left:n})}}function ku(n,e){return(n.values||[]).find(t=>dr(t,e))!==void 0}function fa(n,e){if(n===e)return 0;let t=Li(n),r=Li(e);if(t!==r)return Se(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Se(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Ye(o.integerValue||o.doubleValue),u=Ye(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(n,e);case 3:return SA(n.timestampValue,e.timestampValue);case 4:return SA(Pu(n),Pu(e));case 5:return v_(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=Gr(o),u=Gr(s);return a.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Se(a[l],u[l]);if(h!==0)return h}return Se(a.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=Se(Ye(o.latitude),Ye(s.latitude));return a!==0?a:Se(Ye(o.longitude),Ye(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return AA(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},v=(a=p[ha])===null||a===void 0?void 0:a.arrayValue,A=(u=g[ha])===null||u===void 0?void 0:u.arrayValue,k=Se(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=A?.values)===null||h===void 0?void 0:h.length)||0);return k!==0?k:AA(v,A)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Kh.mapValue&&s===Kh.mapValue)return 0;if(o===Kh.mapValue)return 1;if(s===Kh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=v_(u[p],h[p]);if(g!==0)return g;let v=fa(a[u[p]],l[h[p]]);if(v!==0)return v}return Se(u.length,h.length)})(n.mapValue,e.mapValue);default:throw ie(23264,{le:t})}}function SA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Se(n,e);let t=qr(n),r=qr(e),i=Se(t.seconds,r.seconds);return i!==0?i:Se(t.nanos,r.nanos)}function AA(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=fa(t[i],r[i]);if(o)return o}return Se(t.length,r.length)}function pa(n){return w_(n)}function w_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=qr(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Gr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return re.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=w_(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${w_(t.fields[s])}`;return i+"}"})(n.mapValue):ie(61005,{value:n})}function Zh(n){switch(Li(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Of(n);return e?16+Zh(e):16;case 5:return 2*n.stringValue.length;case 6:return Gr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Zh(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Ui(r.fields,(o,s)=>{i+=o.length+Zh(s)}),i})(n.mapValue);default:throw ie(13486,{value:n})}}function T_(n){return!!n&&"integerValue"in n}function tI(n){return!!n&&"arrayValue"in n}function RA(n){return!!n&&"nullValue"in n}function NA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Jh(n){return!!n&&"mapValue"in n}function PR(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[XE])===null||t===void 0?void 0:t.stringValue)===eI}function bu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ui(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=bu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function kR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===MR}var $re={mapValue:{fields:{[XE]:{stringValue:eI},[ha]:{arrayValue:{}}}}};var pn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Jh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bu(t)}setAll(e){let t=gn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=bu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Jh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Jh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ui(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(bu(this.value))}};function xR(n){let e=[];return Ui(n.fields,(t,r)=>{let i=new gn([t]);if(Jh(r)){let o=xR(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new bn(e)}var zn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ye.min(),ye.min(),ye.min(),pn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ye.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ye.min(),ye.min(),pn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ye.min(),ye.min(),pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ga=class{constructor(e,t){this.position=e,this.inclusive=t}};function MA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=re.comparator(re.fromName(s.referenceValue),t.key):r=fa(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function PA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!dr(n.position[t],e.position[t]))return!1;return!0}var ma=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function e$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var cf=class{},mt=class n extends cf{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new b_(e,t,r):t==="array-contains"?new A_(e,r):t==="in"?new R_(e,r):t==="not-in"?new N_(e,r):t==="array-contains-any"?new M_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new C_(e,r):new S_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(fa(t,this.value)):t!==null&&Li(this.value)===Li(t)&&this.matchesComparison(fa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},hr=class n extends cf{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return OR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function OR(n){return n.op==="and"}function LR(n){return t$(n)&&OR(n)}function t$(n){for(let e of n.filters)if(e instanceof hr)return!1;return!0}function D_(n){if(n instanceof mt)return n.field.canonicalString()+n.op.toString()+pa(n.value);if(LR(n))return n.filters.map(e=>D_(e)).join(",");{let e=n.filters.map(t=>D_(t)).join(",");return`${n.op}(${e})`}}function FR(n,e){return n instanceof mt?(function(r,i){return i instanceof mt&&r.op===i.op&&r.field.isEqual(i.field)&&dr(r.value,i.value)})(n,e):n instanceof hr?(function(r,i){return i instanceof hr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&FR(s,i.filters[a]),!0):!1})(n,e):void ie(19439)}function VR(n){return n instanceof mt?(function(t){return`${t.field.canonicalString()} ${t.op} ${pa(t.value)}`})(n):n instanceof hr?(function(t){return t.op.toString()+" {"+t.getFilters().map(VR).join(" ,")+"}"})(n):"Filter"}var b_=class extends mt{constructor(e,t,r){super(e,t,r),this.key=re.fromName(r.referenceValue)}matches(e){let t=re.comparator(e.key,this.key);return this.matchesComparison(t)}},C_=class extends mt{constructor(e,t){super(e,"in",t),this.keys=jR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},S_=class extends mt{constructor(e,t){super(e,"not-in",t),this.keys=jR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function jR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>re.fromName(r.referenceValue))}var A_=class extends mt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return tI(t)&&ku(t.arrayValue,this.value)}},R_=class extends mt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&ku(this.value.arrayValue,t)}},N_=class extends mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ku(this.value.arrayValue,t)}},M_=class extends mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!tI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ku(this.value.arrayValue,r))}};var P_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function kA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new P_(n,e,t,r,i,o,s)}function nI(n){let e=fe(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>D_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),xf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>pa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>pa(r)).join(",")),e.Pe=t}return e.Pe}function rI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!e$(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!FR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!PA(n.startAt,e.startAt)&&PA(n.endAt,e.endAt)}function k_(n){return re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var ya=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function n$(n,e,t,r,i,o,s,a){return new ya(n,e,t,r,i,o,s,a)}function iI(n){return new ya(n)}function xA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function r$(n){return n.collectionGroup!==null}function Cu(n){let e=fe(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Tt(gn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new ma(o,r))}),t.has(gn.keyField().canonicalString())||e.Te.push(new ma(gn.keyField(),r))}return e.Te}function ur(n){let e=fe(n);return e.Ie||(e.Ie=i$(e,Cu(n))),e.Ie}function i$(n,e){if(n.limitType==="F")return kA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ma(i.field,o)});let t=n.endAt?new ga(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ga(n.startAt.position,n.startAt.inclusive):null;return kA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function x_(n,e,t){return new ya(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Lf(n,e){return rI(ur(n),ur(e))&&n.limitType===e.limitType}function UR(n){return`${nI(ur(n))}|lt:${n.limitType}`}function ia(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>VR(i)).join(", ")}]`),xf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>pa(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>pa(i)).join(",")),`Target(${r})`})(ur(n))}; limitType=${n.limitType})`}function Ff(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of Cu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=MA(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,Cu(r),i)||r.endAt&&!(function(s,a,u){let l=MA(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,Cu(r),i))})(n,e)}function o$(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function BR(n){return(e,t)=>{let r=!1;for(let i of Cu(n)){let o=s$(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function s$(n,e,t){let r=n.field.isKeyField()?re.comparator(e.key,t.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?fa(u,l):ie(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ie(19790,{direction:n.dir})}}var Wr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ui(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return CR(this.inner)}size(){return this.innerSize}};var a$=new ot(re.comparator);function Kr(){return a$}var $R=new ot(re.comparator);function Du(...n){let e=$R;for(let t of n)e=e.insert(t.key,t);return e}function HR(n){let e=$R;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Po(){return Su()}function zR(){return Su()}function Su(){return new Wr(n=>n.toString(),(n,e)=>n.isEqual(e))}var c$=new ot(re.comparator),u$=new Tt(re.comparator);function Ne(...n){let e=u$;for(let t of n)e=e.add(t);return e}var l$=new Tt(Se);function d$(){return l$}function oI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mu(e)?"-0":e}}function qR(n){return{integerValue:""+n}}function h$(n,e){return UB(e)?qR(e):oI(n,e)}var va=class{constructor(){this._=void 0}};function f$(n,e,t){return n instanceof _a?(function(i,o){let s={fields:{[AR]:{stringValue:SR},[NR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&JE(o)&&(o=Of(o)),o&&(s.fields[RR]=o),{mapValue:s}})(t,e):n instanceof Vo?WR(n,e):n instanceof jo?KR(n,e):(function(i,o){let s=GR(i,o),a=OA(s)+OA(i.Ee);return T_(s)&&T_(i.Ee)?qR(a):oI(i.serializer,a)})(n,e)}function p$(n,e,t){return n instanceof Vo?WR(n,e):n instanceof jo?KR(n,e):t}function GR(n,e){return n instanceof Ea?(function(r){return T_(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var _a=class extends va{},Vo=class extends va{constructor(e){super(),this.elements=e}};function WR(n,e){let t=QR(e);for(let r of n.elements)t.some(i=>dr(i,r))||t.push(r);return{arrayValue:{values:t}}}var jo=class extends va{constructor(e){super(),this.elements=e}};function KR(n,e){let t=QR(e);for(let r of n.elements)t=t.filter(i=>!dr(i,r));return{arrayValue:{values:t}}}var Ea=class extends va{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function OA(n){return Ye(n.integerValue||n.doubleValue)}function QR(n){return tI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function g$(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Vo&&i instanceof Vo||r instanceof jo&&i instanceof jo?da(r.elements,i.elements,dr):r instanceof Ea&&i instanceof Ea?dr(r.Ee,i.Ee):r instanceof _a&&i instanceof _a})(n.transform,e.transform)}var O_=class{constructor(e,t){this.version=e,this.transformResults=t}},Hr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Xh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ia=class{};function YR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new xu(n.key,Hr.none()):new Uo(n.key,n.data,Hr.none());{let t=n.data,r=pn.empty(),i=new Tt(gn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new fr(n.key,r,new bn(i.toArray()),Hr.none())}}function m$(n,e,t){n instanceof Uo?(function(i,o,s){let a=i.value.clone(),u=FA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof fr?(function(i,o,s){if(!Xh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=FA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(ZR(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function Au(n,e,t,r){return n instanceof Uo?(function(o,s,a,u){if(!Xh(o.precondition,s))return a;let l=o.value.clone(),h=VA(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof fr?(function(o,s,a,u){if(!Xh(o.precondition,s))return a;let l=VA(o.fieldTransforms,u,s),h=s.data;return h.setAll(ZR(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return Xh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function y$(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=GR(r.transform,i||null);o!=null&&(t===null&&(t=pn.empty()),t.set(r.field,o))}return t||null}function LA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&da(r,i,(o,s)=>g$(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Uo=class extends Ia{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},fr=class extends Ia{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function ZR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function FA(n,e,t){let r=new Map;Be(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,p$(s,a,t[i]))}return r}function VA(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,f$(o,s,e))}return r}var xu=class extends Ia{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},L_=class extends Ia{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var F_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&m$(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Au(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Au(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=zR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=YR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ne())}isEqual(e){return this.batchId===e.batchId&&da(this.mutations,e.mutations,(t,r)=>LA(t,r))&&da(this.baseMutations,e.baseMutations,(t,r)=>LA(t,r))}},V_=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Be(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return c$})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var j_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var U_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var st,ke;function v$(n){switch(n){case O.OK:return ie(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return ie(15467,{code:n})}}function JR(n){if(n===void 0)return zr("GRPC error has no .code"),O.UNKNOWN;switch(n){case st.OK:return O.OK;case st.CANCELLED:return O.CANCELLED;case st.UNKNOWN:return O.UNKNOWN;case st.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case st.INTERNAL:return O.INTERNAL;case st.UNAVAILABLE:return O.UNAVAILABLE;case st.UNAUTHENTICATED:return O.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case st.NOT_FOUND:return O.NOT_FOUND;case st.ALREADY_EXISTS:return O.ALREADY_EXISTS;case st.PERMISSION_DENIED:return O.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case st.ABORTED:return O.ABORTED;case st.OUT_OF_RANGE:return O.OUT_OF_RANGE;case st.UNIMPLEMENTED:return O.UNIMPLEMENTED;case st.DATA_LOSS:return O.DATA_LOSS;default:return ie(39323,{code:n})}}(ke=st||(st={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";var jA=null;var _$=new Ur([4294967295,4294967295],0);function UA(n){let e=uR().encode(n),t=new n_;return t.update(e),new Uint8Array(t.digest())}function BA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ur([t,r],0),new Ur([i,o],0)]}var B_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ko(`Invalid padding: ${t}`);if(r<0)throw new ko(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ko(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ko(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Ur.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(Ur.fromNumber(r)));return i.compare(_$)===1&&(i=new Ur([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=UA(e),[r,i]=BA(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=UA(e),[r,i]=BA(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ko=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var uf=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ye.min(),i,new ot(Se),Kr(),Ne())}},Ou=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ne(),Ne(),Ne())}};var ca=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},lf=class{constructor(e,t){this.targetId=e,this.De=t}},df=class{constructor(e,t,r=Vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},hf=class{constructor(){this.ve=0,this.Ce=$A(),this.Fe=Vt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ne(),t=Ne(),r=Ne();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ie(38017,{changeType:o})}}),new Ou(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=$A()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Be(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},$_=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Kr(),this.je=Qh(),this.Je=Qh(),this.He=new ot(Se)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:ie(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(k_(o))if(r===0){let s=new re(o.path);this.Xe(t,s,zn.newNoDocument(s,ye.min()))}else Be(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}jA?.ct((function(h,p,g,v,A){var k,P,j,L,x,Q;let de={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},te=p.unchangedNames;return te&&(de.bloomFilter={applied:A===0,hashCount:(k=te?.hashCount)!==null&&k!==void 0?k:0,bitmapLength:(L=(j=(P=te?.bits)===null||P===void 0?void 0:P.bitmap)===null||j===void 0?void 0:j.length)!==null&&L!==void 0?L:0,padding:(Q=(x=te?.bits)===null||x===void 0?void 0:x.padding)!==null&&Q!==void 0?Q:0,mightContain:b=>{var y;return(y=v?.mightContain(b))!==null&&y!==void 0&&y}}),de})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Gr(r).toUint8Array()}catch(u){if(u instanceof of)return Oi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new B_(s,i,o)}catch(u){return Oi(u instanceof ko?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&k_(a.target)){let u=new re(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,zn.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=Ne();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new uf(e,t,this.He,this.ze,r);return this.ze=Kr(),this.je=Qh(),this.Je=Qh(),this.He=new ot(Se),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new hf,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Tt(Se),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Tt(Se),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||q("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new hf),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Qh(){return new ot(re.comparator)}function $A(){return new ot(re.comparator)}var E$={asc:"ASCENDING",desc:"DESCENDING"},I$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w$={and:"AND",or:"OR"},H_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function z_(n,e){return n.useProto3Json||xf(e)?e:{value:e}}function ff(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function T$(n,e){return ff(n,e.toTimestamp())}function lr(n){return Be(!!n,49232),ye.fromTimestamp((function(t){let r=qr(t);return new ut(r.seconds,r.nanos)})(n))}function sI(n,e){return q_(n,e).canonicalString()}function q_(n,e){let t=(function(i){return new Ze(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function eN(n){let e=Ze.fromString(n);return Be(oN(e),10190,{key:e.toString()}),e}function G_(n,e){return sI(n.databaseId,e.path)}function c_(n,e){let t=eN(e);if(t.get(1)!==n.databaseId.projectId)throw new W(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new W(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new re(nN(t))}function tN(n,e){return sI(n.databaseId,e)}function D$(n){let e=eN(n);return e.length===4?Ze.emptyPath():nN(e)}function W_(n){return new Ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nN(n){return Be(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function HA(n,e,t){return{name:G_(n,e),fields:t.value.mapValue.fields}}function b$(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ie(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(Be(h===void 0||typeof h=="string",58123),Vt.fromBase64String(h||"")):(Be(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Vt.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?O.UNKNOWN:JR(l.code);return new W(h,l.message||"")})(s);t=new df(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=c_(n,r.document.name),o=lr(r.document.updateTime),s=r.document.createTime?lr(r.document.createTime):ye.min(),a=new pn({mapValue:{fields:r.document.fields}}),u=zn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new ca(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=c_(n,r.document),o=r.readTime?lr(r.readTime):ye.min(),s=zn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new ca([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=c_(n,r.document),o=r.removedTargetIds||[];t=new ca([],o,i,null)}else{if(!("filter"in e))return ie(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new U_(i,o),a=r.targetId;t=new lf(a,s)}}return t}function C$(n,e){let t;if(e instanceof Uo)t={update:HA(n,e.key,e.value)};else if(e instanceof xu)t={delete:G_(n,e.key)};else if(e instanceof fr)t={update:HA(n,e.key,e.data),updateMask:O$(e.fieldMask)};else{if(!(e instanceof L_))return ie(16599,{Rt:e.type});t={verify:G_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof _a)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof jo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ea)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw ie(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:T$(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ie(27497)})(n,e.precondition)),t}function S$(n,e){return n&&n.length>0?(Be(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?lr(i.updateTime):lr(o);return s.isEqual(ye.min())&&(s=lr(o)),new O_(s,i.transformResults||[])})(t,e))):[]}function A$(n,e){return{documents:[tN(n,e.path)]}}function R$(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=tN(n,i);let o=(function(l){if(l.length!==0)return iN(hr.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(g){return{field:oa(g.field),direction:P$(g.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=z_(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function N$(n){let e=D$(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Be(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let g=rN(p);return g instanceof hr&&LR(g)?g.getFilters():[g]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(g=>(function(A){return new ma(sa(A.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(g))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let g;return g=typeof p=="object"?p.value:p,xf(g)?null:g})(t.limit));let u=null;t.startAt&&(u=(function(p){let g=!!p.before,v=p.values||[];return new ga(v,g)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let g=!p.before,v=p.values||[];return new ga(v,g)})(t.endAt)),n$(e,i,s,o,a,"F",u,l)}function M$(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function rN(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=sa(t.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=sa(t.unaryFilter.field);return mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=sa(t.unaryFilter.field);return mt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=sa(t.unaryFilter.field);return mt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ie(61313);default:return ie(60726)}})(n):n.fieldFilter!==void 0?(function(t){return mt.create(sa(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ie(58110);default:return ie(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return hr.create(t.compositeFilter.filters.map(r=>rN(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie(1026)}})(t.compositeFilter.op))})(n):ie(30097,{filter:n})}function P$(n){return E$[n]}function k$(n){return I$[n]}function x$(n){return w$[n]}function oa(n){return{fieldPath:n.canonicalString()}}function sa(n){return gn.fromServerFormat(n.fieldPath)}function iN(n){return n instanceof mt?(function(t){if(t.op==="=="){if(NA(t.value))return{unaryFilter:{field:oa(t.field),op:"IS_NAN"}};if(RA(t.value))return{unaryFilter:{field:oa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(NA(t.value))return{unaryFilter:{field:oa(t.field),op:"IS_NOT_NAN"}};if(RA(t.value))return{unaryFilter:{field:oa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oa(t.field),op:k$(t.op),value:t.value}}})(n):n instanceof hr?(function(t){let r=t.getFilters().map(i=>iN(i));return r.length===1?r[0]:{compositeFilter:{op:x$(t.op),filters:r}}})(n):ie(54877,{filter:n})}function O$(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function oN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Lu=class n{constructor(e,t,r,i,o=ye.min(),s=ye.min(),a=Vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var K_=class{constructor(e){this.gt=e}};function L$(n){let e=N$({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?x_(e,e.limit,"L"):e}var pf=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Ye(e.integerValue));else if("doubleValue"in e){let r=Ye(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Mu(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=qr(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Gr(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?kR(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):PR(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):ie(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=ha,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Ye(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),re.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};pf.Ut=new pf;var Q_=class{constructor(){this.Dn=new Y_}addToCollectionParentIndex(e,t){return this.Dn.add(t),F.resolve()}getCollectionParents(e,t){return F.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return F.resolve()}deleteFieldIndex(e,t){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,t){return F.resolve()}getDocumentsMatchingTarget(e,t){return F.resolve(null)}getIndexType(e,t){return F.resolve(0)}getFieldIndexes(e,t){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,t){return F.resolve(Fo.min())}getMinOffsetFromCollectionGroup(e,t){return F.resolve(Fo.min())}updateCollectionGroup(e,t,r){return F.resolve()}updateIndexEntries(e,t){return F.resolve()}},Y_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Tt(Ze.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Tt(Ze.comparator)).toArray()}};var Hre=new Uint8Array(0);var zA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sN=41943040,Dn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(sN,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);var Fu=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var qA="LruGarbageCollector",F$=1048576;function GA([n,e],[t,r]){let i=Se(n,t);return i===0?Se(e,r):i}var Z_=class{constructor(e){this.Tr=e,this.buffer=new Tt(GA),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();GA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},J_=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){q(qA,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>T(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Sa(t)?q(qA,"Ignoring IndexedDB error during garbage collection: ",t):yield Ca(t)}yield this.Rr(3e5)}))}},X_=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return F.resolve(YE.ue);let r=new Z_(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(zA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zA):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),ra()<=Re.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function V$(n,e){return new X_(n,e)}var eE=class{constructor(){this.changes=new Wr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?F.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var tE=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var nE=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Au(r.mutation,i,bn.empty(),ut.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ne()){let i=Po();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Du();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Po();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ne()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Kr(),s=Su(),a=(function(){return Su()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof fr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Au(h.mutation,l,h.mutation.getFieldMask(),ut.now())):s.set(l.key,bn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new tE(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Su(),i=new ot((s,a)=>s-a),o=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||bn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||Ne()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=zR();h.forEach(g=>{if(!o.has(g)){let v=YR(t.get(g),r.get(g));v!==null&&p.set(g,v),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return re.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):r$(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):F.resolve(Po()),a=Nu,u=o;return s.next(l=>F.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,Ne())).next(h=>({batchId:a,changes:HR(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new re(t)).next(r=>{let i=Du();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Du();return this.indexManager.getCollectionParents(e,o).next(a=>F.forEach(a,u=>{let l=(function(p,g){return new ya(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,zn.newInvalidDocument(h)))});let a=Du();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Au(h.mutation,l,bn.empty(),ut.now()),Ff(t,l)&&(a=a.insert(u,l))}),a})}};var rE=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return F.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:lr(i.createTime)}})(t)),F.resolve()}getNamedQuery(e,t){return F.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:L$(i.bundledQuery),readTime:lr(i.readTime)}})(t)),F.resolve()}};var iE=class{constructor(){this.overlays=new ot(re.comparator),this.kr=new Map}getOverlay(e,t){return F.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Po();return F.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),F.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),F.resolve()}getOverlaysForCollection(e,t,r){let i=Po(),o=t.length+1,s=new re(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new ot((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Po(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Po(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return F.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new j_(t,r));let o=this.kr.get(t);o===void 0&&(o=Ne(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var oE=class{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,F.resolve()}};var Vu=class{constructor(){this.qr=new Tt(at.Qr),this.$r=new Tt(at.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new at(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new at(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new re(new Ze([])),r=new at(t,e),i=new at(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new re(new Ze([])),r=new at(t,e),i=new at(t,e+1),o=Ne();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new at(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},at=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return re.comparator(e.key,t.key)||Se(e.Hr,t.Hr)}static Ur(e,t){return Se(e.Hr,t.Hr)||re.comparator(e.key,t.key)}};var sE=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Tt(at.Qr)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new F_(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new at(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,t){return F.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?ZE:this.er-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new at(t,0),i=new at(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Tt(Se);return t.forEach(i=>{let o=new at(i,0),s=new at(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),F.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;re.isDocumentKey(o)||(o=o.child(""));let s=new at(new re(o),0),a=new Tt(Se);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),F.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Be(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return F.forEach(t.mutations,i=>{let o=new at(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new at(t,0),i=this.Yr.firstAfterOrEqual(r);return F.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var aE=class{constructor(e){this.ni=e,this.docs=(function(){return new ot(re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return F.resolve(r?r.document.mutableCopy():zn.newInvalidDocument(t))}getEntries(e,t){let r=Kr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():zn.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Kr(),s=t.path,a=new re(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||FB(LB(h),r)<=0||(i.has(h.key)||Ff(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ie(9500)}ri(e,t){return F.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new cE(this)}getSize(e){return F.resolve(this.size)}},cE=class extends eE{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),F.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var uE=class{constructor(e){this.persistence=e,this.ii=new Wr(t=>nI(t),rI),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.si=0,this.oi=new Vu,this.targetCount=0,this._i=Fu.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),F.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Fu(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,F.resolve()}updateTargetData(e,t){return this.hr(t),F.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return F.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),F.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),F.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return F.resolve(r)}containsKey(e,t){return F.resolve(this.oi.containsKey(t))}};var gf=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new YE(0),this.ci=!1,this.ci=!0,this.li=new oE,this.referenceDelegate=e(this),this.hi=new uE(this),this.indexManager=new Q_,this.remoteDocumentCache=(function(i){return new aE(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new K_(t),this.Ti=new rE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new sE(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){q("MemoryPersistence","Starting transaction:",e);let i=new lE(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return F.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},lE=class extends E_{constructor(e){super(),this.currentSequenceNumber=e}},dE=class n{constructor(e){this.persistence=e,this.Ai=new Vu,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw ie(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),F.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),F.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.mi,r=>{let i=re.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,ye.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return F.or([()=>F.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},mf=class n{constructor(e,t){this.persistence=e,this.gi=new Wr(r=>BB(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=V$(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return F.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return F.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?F.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ye.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),F.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),F.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Zh(e.data.value)),t}Sr(e,t,r){return F.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var hE=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Ne(),i=Ne();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var fE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var pE=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return BS()?8:jB(It())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new fE;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(ra()<=Re.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",ia(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),F.resolve()):(ra()<=Re.DEBUG&&q("QueryEngine","Query:",ia(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(ra()<=Re.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",ia(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ur(t))):F.resolve())}ps(e,t){if(xA(t))return F.resolve(null);let r=ur(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=x_(t,null,"F"),r=ur(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ne(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ds(t,l,s,u.readTime)?this.ps(e,x_(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return xA(t)||i.isEqual(ye.min())?F.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?F.resolve(null):(ra()<=Re.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ia(t)),this.vs(e,s,t,OB(i,Nu)).next(a=>a))})}bs(e,t){let r=new Tt(BR(e));return t.forEach((i,o)=>{Ff(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return ra()<=Re.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",ia(t)),this.gs.getDocumentsMatchingQuery(e,t,Fo.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var aI="LocalStore",j$=3e8,gE=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new ot(Se),this.Ms=new Wr(o=>nI(o),rI),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nE(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function U$(n,e,t,r){return new gE(n,e,t,r)}function aN(n,e){return T(this,null,function*(){let t=fe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=Ne();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function B$(n,e){let t=fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,g=p.keys(),v=F.resolve();return g.forEach(A=>{v=v.next(()=>h.getEntry(u,A)).next(k=>{let P=l.docVersions.get(A);Be(P!==null,48541),k.version.compareTo(P)<0&&(p.applyToRemoteDocument(k,l),k.isValidDocument()&&(k.setReadTime(l.commitVersion),h.addEntry(k)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=Ne();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function cN(n){let e=fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function $$(n,e){let t=fe(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let v=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Vt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),(function(k,P,j){return k.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=j$?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(g,v,h)&&a.push(t.hi.updateTargetData(o,v))});let u=Kr(),l=Ne();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(H$(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(ye.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function H$(n,e,t){let r=Ne(),i=Ne();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Kr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ye.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):q(aI,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function z$(n,e){let t=fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ZE),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function q$(n,e){let t=fe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Lu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function mE(n,e,t){return T(this,null,function*(){let r=fe(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Sa(s))throw s;q(aI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function WA(n,e,t){let r=fe(n),i=ye.min(),o=Ne();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=fe(u),g=p.Ms.get(h);return g!==void 0?F.resolve(p.Fs.get(g)):p.hi.getTargetData(l,h)})(r,s,ur(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:ye.min(),t?o:Ne())).next(a=>(G$(r,o$(e),a),{documents:a,qs:o})))}function G$(n,e,t){let r=n.xs.get(e)||ye.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var yf=class{constructor(){this.activeTargetIds=d$()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var yE=class{constructor(){this.Fo=new yf,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new yf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var vE=class{xo(e){}shutdown(){}};var KA="ConnectivityMonitor",vf=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){q(KA,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){q(KA,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Yh=null;function _E(){return Yh===null?Yh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yh++,"0x"+Yh.toString(16)}var u_="RestConnection",W$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},EE=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===sf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=_E(),a=this.Go(e,t.toUriEncodedString());q(u_,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=wi(l);return this.jo(e,a,u,r,h).then(p=>(q(u_,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Oi(u_,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ba})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=W$[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var IE=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Lt="WebChannelConnection",wE=class extends EE{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=_E();return new Promise((a,u)=>{let l=new r_;l.setWithCredentials(!0),l.listenOnce(i_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Tu.NO_ERROR:let p=l.getResponseJson();q(Lt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Tu.TIMEOUT:q(Lt,`RPC '${e}' ${s} timed out`),u(new W(O.DEADLINE_EXCEEDED,"Request time out"));break;case Tu.HTTP_ERROR:let g=l.getStatus();if(q(Lt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);let A=v?.error;if(A&&A.status&&A.message){let k=(function(j){let L=j.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(L)>=0?L:O.UNKNOWN})(A.status);u(new W(k,A.message))}else u(new W(O.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new W(O.UNAVAILABLE,"Connection failed."));break;default:ie(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{q(Lt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);q(Lt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=_E(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=a_(),a=s_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");q(Lt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let g=!1,v=!1,A=new IE({Ho:P=>{v?q(Lt,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(g||(q(Lt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),q(Lt,`RPC '${e}' stream ${i} sending:`,P),p.send(P))},Yo:()=>p.close()}),k=(P,j,L)=>{P.listen(j,x=>{try{L(x)}catch(Q){setTimeout(()=>{throw Q},0)}})};return k(p,na.EventType.OPEN,()=>{v||(q(Lt,`RPC '${e}' stream ${i} transport opened.`),A.s_())}),k(p,na.EventType.CLOSE,()=>{v||(v=!0,q(Lt,`RPC '${e}' stream ${i} transport closed`),A.__(),this.I_(p))}),k(p,na.EventType.ERROR,P=>{v||(v=!0,Oi(Lt,`RPC '${e}' stream ${i} transport errored. Name:`,P.name,"Message:",P.message),A.__(new W(O.UNAVAILABLE,"The operation could not be completed")))}),k(p,na.EventType.MESSAGE,P=>{var j;if(!v){let L=P.data[0];Be(!!L,16349);let x=L,Q=x?.error||((j=x[0])===null||j===void 0?void 0:j.error);if(Q){q(Lt,`RPC '${e}' stream ${i} received error:`,Q);let de=Q.status,te=(function(E){let I=st[E];if(I!==void 0)return JR(I)})(de),b=Q.message;te===void 0&&(te=O.INTERNAL,b="Unknown error status: "+de+" with message "+Q.message),v=!0,A.__(new W(te,b)),p.close()}else q(Lt,`RPC '${e}' stream ${i} received:`,L),A.a_(L)}}),k(a,o_.STAT_EVENT,P=>{P.stat===Wh.PROXY?q(Lt,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Wh.NOPROXY&&q(Lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.o_()},0),A}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function l_(){return typeof document<"u"?document:null}function Vf(n){return new H_(n,!0)}var _f=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var QA="PersistentStream",Ef=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new _f(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return T(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return T(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return T(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(zr(t.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new W(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>T(this,null,function*(){this.state=0,this.start()}))}G_(e){return q(QA,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(q(QA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},TE=class extends Ef{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=b$(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ye.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ye.min():s.readTime?lr(s.readTime):ye.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=W_(this.serializer),t.addTarget=(function(o,s){let a,u=s.target;if(a=k_(u)?{documents:A$(o,u)}:{query:R$(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=XR(o,s.resumeToken);let l=z_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ye.min())>0){a.readTime=ff(o,s.snapshotVersion.toTimestamp());let l=z_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=M$(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=W_(this.serializer),t.removeTarget=e,this.k_(t)}},DE=class extends Ef{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=S$(e.writeResults,e.commitTime),r=lr(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=W_(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>C$(this.serializer,r))};this.k_(t)}};var bE=class{},CE=class extends bE{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new W(O.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,q_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(O.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,q_(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(O.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},SE=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(zr(t),this._a=!1):q("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Bo="RemoteStore",AE=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>T(this,null,function*(){$o(this)&&(q(Bo,"Restarting streams for network reachability change."),yield(function(u){return T(this,null,function*(){let l=fe(u);l.Ia.add(4),yield Bu(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield jf(l)})})(this))}))}),this.Aa=new SE(r,i)}};function jf(n){return T(this,null,function*(){if($o(n))for(let e of n.da)yield e(!0)})}function Bu(n){return T(this,null,function*(){for(let e of n.da)yield e(!1)})}function uN(n,e){let t=fe(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),dI(t)?lI(t):Aa(t).x_()&&uI(t,e))}function cI(n,e){let t=fe(n),r=Aa(t);t.Ta.delete(e),r.x_()&&lN(t,e),t.Ta.size===0&&(r.x_()?r.B_():$o(t)&&t.Aa.set("Unknown"))}function uI(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Aa(n).H_(e)}function lN(n,e){n.Ra.$e(e),Aa(n).Y_(e)}function lI(n){n.Ra=new $_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Aa(n).start(),n.Aa.aa()}function dI(n){return $o(n)&&!Aa(n).M_()&&n.Ta.size>0}function $o(n){return fe(n).Ia.size===0}function dN(n){n.Ra=void 0}function K$(n){return T(this,null,function*(){n.Aa.set("Online")})}function Q$(n){return T(this,null,function*(){n.Ta.forEach((e,t)=>{uI(n,e)})})}function Y$(n,e){return T(this,null,function*(){dN(n),dI(n)?(n.Aa.la(e),lI(n)):n.Aa.set("Unknown")})}function Z$(n,e,t){return T(this,null,function*(){if(n.Aa.set("Online"),e instanceof df&&e.state===2&&e.cause)try{yield(function(i,o){return T(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){q(Bo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield If(n,r)}else if(e instanceof ca?n.Ra.Ye(e):e instanceof lf?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ye.min()))try{let r=yield cN(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(Vt.EMPTY_BYTE_STRING,h.snapshotVersion)),lN(o,u);let p=new Lu(h.target,u,l,h.sequenceNumber);uI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){q(Bo,"Failed to raise snapshot:",r),yield If(n,r)}})}function If(n,e,t){return T(this,null,function*(){if(!Sa(e))throw e;n.Ia.add(1),yield Bu(n),n.Aa.set("Offline"),t||(t=()=>cN(n.localStore)),n.asyncQueue.enqueueRetryable(()=>T(null,null,function*(){q(Bo,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield jf(n)}))})}function hN(n,e){return e().catch(t=>If(n,t,e))}function Uf(n){return T(this,null,function*(){let e=fe(n),t=Fi(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:ZE;for(;J$(e);)try{let i=yield z$(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,X$(e,i)}catch(i){yield If(e,i)}fN(e)&&pN(e)})}function J$(n){return $o(n)&&n.Pa.length<10}function X$(n,e){n.Pa.push(e);let t=Fi(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function fN(n){return $o(n)&&!Fi(n).M_()&&n.Pa.length>0}function pN(n){Fi(n).start()}function eH(n){return T(this,null,function*(){Fi(n).na()})}function tH(n){return T(this,null,function*(){let e=Fi(n);for(let t of n.Pa)e.X_(t.mutations)})}function nH(n,e,t){return T(this,null,function*(){let r=n.Pa.shift(),i=V_.from(r,e,t);yield hN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Uf(n)})}function rH(n,e){return T(this,null,function*(){e&&Fi(n).Z_&&(yield(function(r,i){return T(this,null,function*(){if((function(s){return v$(s)&&s!==O.ABORTED})(i.code)){let o=r.Pa.shift();Fi(r).N_(),yield hN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Uf(r)}})})(n,e)),fN(n)&&pN(n)})}function YA(n,e){return T(this,null,function*(){let t=fe(n);t.asyncQueue.verifyOperationInProgress(),q(Bo,"RemoteStore received new credentials");let r=$o(t);t.Ia.add(3),yield Bu(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield jf(t)})}function iH(n,e){return T(this,null,function*(){let t=fe(n);e?(t.Ia.delete(2),yield jf(t)):e||(t.Ia.add(2),yield Bu(t),t.Aa.set("Unknown"))})}function Aa(n){return n.Va||(n.Va=(function(t,r,i){let o=fe(t);return o.ia(),new TE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:K$.bind(null,n),e_:Q$.bind(null,n),n_:Y$.bind(null,n),J_:Z$.bind(null,n)}),n.da.push(e=>T(null,null,function*(){e?(n.Va.N_(),dI(n)?lI(n):n.Aa.set("Unknown")):(yield n.Va.stop(),dN(n))}))),n.Va}function Fi(n){return n.ma||(n.ma=(function(t,r,i){let o=fe(t);return o.ia(),new DE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:eH.bind(null,n),n_:rH.bind(null,n),ea:tH.bind(null,n),ta:nH.bind(null,n)}),n.da.push(e=>T(null,null,function*(){e?(n.ma.N_(),yield Uf(n)):(yield n.ma.stop(),n.Pa.length>0&&(q(Bo,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var RE=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function hI(n,e){if(zr("AsyncQueue",`${e}: ${n}`),Sa(n))return new W(O.UNAVAILABLE,`${e}: ${n}`);throw n}var wf=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||re.comparator(t.key,r.key):(t,r)=>re.comparator(t.key,r.key),this.keyedMap=Du(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Tf=class{constructor(){this.fa=new ot(re.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):ie(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},wa=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,wf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var NE=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},ME=class{constructor(){this.queries=ZA(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=fe(t),o=i.queries;i.queries=ZA(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new W(O.ABORTED,"Firestore shutting down"))}};function ZA(){return new Wr(n=>UR(n),Lf)}function oH(n,e){return T(this,null,function*(){let t=fe(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new NE,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=hI(s,`Initialization of query '${ia(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&fI(t)})}function sH(n,e){return T(this,null,function*(){let t=fe(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function aH(n,e){let t=fe(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&fI(t)}function cH(n,e,t){let r=fe(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function fI(n){n.Da.forEach(e=>{e.next()})}var PE,JA;(JA=PE||(PE={})).Fa="default",JA.Cache="cache";var kE=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new wa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==PE.Cache}};var Df=class{constructor(e){this.key=e}},bf=class{constructor(e){this.key=e}},xE=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ne(),this.mutatedKeys=Ne(),this.Xa=BR(e),this.eu=new wf(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Tf,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),v=Ff(this.query,p)?p:null,A=!!g&&this.mutatedKeys.has(g.key),k=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),P=!1;g&&v?g.data.isEqual(v.data)?A!==k&&(r.track({type:3,doc:v}),P=!0):this.iu(g,v)||(r.track({type:2,doc:v}),P=!0,(u&&this.Xa(v,u)>0||l&&this.Xa(v,l)<0)&&(a=!0)):!g&&v?(r.track({type:0,doc:v}),P=!0):g&&!v&&(r.track({type:1,doc:g}),P=!0,(u||l)&&(a=!0)),P&&(v?(s=s.add(v),o=k?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(v,A){let k=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie(20277,{At:P})}};return k(v)-k(A)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new wa(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Tf,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=Ne(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new bf(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Df(r))}),t}uu(e){this.Ha=e.qs,this.Za=Ne();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return wa.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},pI="SyncEngine",OE=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},LE=class{constructor(e){this.key=e,this.lu=!1}},FE=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Wr(a=>UR(a),Lf),this.Tu=new Map,this.Iu=new Set,this.du=new ot(re.comparator),this.Eu=new Map,this.Au=new Vu,this.Ru={},this.Vu=new Map,this.mu=Fu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function uH(n,e,t=!0){return T(this,null,function*(){let r=EN(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield gN(r,e,t,!0),i})}function lH(n,e){return T(this,null,function*(){let t=EN(n);yield gN(t,e,!0,!1)})}function gN(n,e,t,r){return T(this,null,function*(){let i=yield q$(n.localStore,ur(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield dH(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&uN(n.remoteStore,i),a})}function dH(n,e,t,r,i){return T(this,null,function*(){n.gu=(p,g,v)=>(function(k,P,j,L){return T(this,null,function*(){let x=P.view.nu(j);x.Ds&&(x=yield WA(k.localStore,P.query,!1).then(({documents:b})=>P.view.nu(b,x)));let Q=L&&L.targetChanges.get(P.targetId),de=L&&L.targetMismatches.get(P.targetId)!=null,te=P.view.applyChanges(x,k.isPrimaryClient,Q,de);return eR(k,P.targetId,te._u),te.snapshot})})(n,p,g,v);let o=yield WA(n.localStore,e,!0),s=new xE(e,o.qs),a=s.nu(o.documents),u=Ou.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);eR(n,t,l._u);let h=new OE(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function hH(n,e,t){return T(this,null,function*(){let r=fe(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Lf(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield mE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&cI(r.remoteStore,i.targetId),VE(r,i.targetId)}).catch(Ca))):(VE(r,i.targetId),yield mE(r.localStore,i.targetId,!0))})}function fH(n,e){return T(this,null,function*(){let t=fe(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),cI(t.remoteStore,r.targetId))})}function pH(n,e,t){return T(this,null,function*(){let r=IH(n);try{let i=yield(function(s,a){let u=fe(s),l=ut.now(),h=a.reduce((v,A)=>v.add(A.key),Ne()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let A=Kr(),k=Ne();return u.Os.getEntries(v,h).next(P=>{A=P,A.forEach((j,L)=>{L.isValidDocument()||(k=k.add(j))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,A)).next(P=>{p=P;let j=[];for(let L of a){let x=y$(L,p.get(L.key).overlayedDocument);x!=null&&j.push(new fr(L.key,x,xR(x.value.mapValue),Hr.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,j,a)}).next(P=>{g=P;let j=P.applyToLocalDocumentSet(p,k);return u.documentOverlayCache.saveOverlays(v,P.batchId,j)})}).then(()=>({batchId:g.batchId,changes:HR(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new ot(Se)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,t),yield $u(r,i.changes),yield Uf(r.remoteStore)}catch(i){let o=hI(i,"Failed to persist write");t.reject(o)}})}function mN(n,e){return T(this,null,function*(){let t=fe(n);try{let r=yield $$(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Be(s.lu,14607):i.removedDocuments.size>0&&(Be(s.lu,42227),s.lu=!1))}),yield $u(t,r,e)}catch(r){yield Ca(r)}})}function XA(n,e,t){let r=fe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=fe(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.wa)g.va(a)&&(l=!0)}),l&&fI(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function gH(n,e,t){return T(this,null,function*(){let r=fe(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new ot(re.comparator);s=s.insert(o,zn.newNoDocument(o,ye.min()));let a=Ne().add(o),u=new uf(ye.min(),new Map,new ot(Se),s,a);yield mN(r,u),r.du=r.du.remove(o),r.Eu.delete(e),gI(r)}else yield mE(r.localStore,e,!1).then(()=>VE(r,e,t)).catch(Ca)})}function mH(n,e){return T(this,null,function*(){let t=fe(n),r=e.batch.batchId;try{let i=yield B$(t.localStore,e);vN(t,r,null),yN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield $u(t,i)}catch(i){yield Ca(i)}})}function yH(n,e,t){return T(this,null,function*(){let r=fe(n);try{let i=yield(function(s,a){let u=fe(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Be(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);vN(r,e,t),yN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield $u(r,i)}catch(i){yield Ca(i)}})}function yN(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function vN(n,e,t){let r=fe(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function VE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||_N(n,r)})}function _N(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(cI(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),gI(n))}function eR(n,e,t){for(let r of t)r instanceof Df?(n.Au.addReference(r.key,e),vH(n,r)):r instanceof bf?(q(pI,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||_N(n,r.key)):ie(19791,{yu:r})}function vH(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(q(pI,"New document in limbo: "+t),n.Iu.add(r),gI(n))}function gI(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new re(Ze.fromString(e)),r=n.mu.next();n.Eu.set(r,new LE(t)),n.du=n.du.insert(t,r),uN(n.remoteStore,new Lu(ur(iI(t.path)),r,"TargetPurposeLimboResolution",YE.ue))}}function $u(n,e,t){return T(this,null,function*(){let r=fe(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=hE.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,l){return T(this,null,function*(){let h=fe(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(l,g=>F.forEach(g.Is,v=>h.persistence.referenceDelegate.addReference(p,g.targetId,v)).next(()=>F.forEach(g.ds,v=>h.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))}catch(p){if(!Sa(p))throw p;q(aI,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let v=h.Fs.get(g),A=v.snapshotVersion,k=v.withLastLimboFreeSnapshotVersion(A);h.Fs=h.Fs.insert(g,k)}}})})(r.localStore,o))})}function _H(n,e){return T(this,null,function*(){let t=fe(n);if(!t.currentUser.isEqual(e)){q(pI,"User change. New user:",e.toKey());let r=yield aN(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new W(O.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield $u(t,r.Bs)}})}function EH(n,e){let t=fe(n),r=t.Eu.get(e);if(r&&r.lu)return Ne().add(r.key);{let i=Ne(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function EN(n){let e=fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=mN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gH.bind(null,e),e.hu.J_=aH.bind(null,e.eventManager),e.hu.pu=cH.bind(null,e.eventManager),e}function IH(n){let e=fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yH.bind(null,e),e}var IN=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return T(this,null,function*(){this.serializer=Vf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return U$(this.persistence,new pE,t.initialUser,this.serializer)}Du(t){return new gf(dE.Vi,this.serializer)}bu(t){return new yE}terminate(){return T(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),jE=class extends IN{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Be(this.persistence.referenceDelegate instanceof mf,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new J_(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new gf(r=>mf.Vi(r,t),this.serializer)}};var wH=(()=>{class n{initialize(t,r){return T(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>XA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=_H.bind(null,this.syncEngine),yield iH(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new ME})()}createDatastore(t){let r=Vf(t.databaseInfo.databaseId),i=(function(s){return new wE(s)})(t.databaseInfo);return(function(s,a,u,l){return new CE(s,a,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,u){return new AE(i,o,s,a,u)})(this.localStore,this.datastore,t.asyncQueue,r=>XA(this.syncEngine,r,0),(function(){return vf.C()?new vf:new vE})())}createSyncEngine(t,r){return(function(o,s,a,u,l,h,p){let g=new FE(o,s,a,u,l,h);return p&&(g.fu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return T(this,null,function*(){var t,r;yield(function(o){return T(this,null,function*(){let s=fe(o);q(Bo,"RemoteStore shutting down."),s.Ia.add(5),yield Bu(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var UE=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Vi="FirestoreClient",BE=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=wt.UNAUTHENTICATED,this.clientId=Ru.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>T(this,null,function*(){q(Vi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(q(Vi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>T(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=hI(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function d_(n,e){return T(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),q(Vi,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>T(null,null,function*(){r.isEqual(i)||(yield aN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Oi("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{q("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Oi("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function tR(n,e){return T(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield TH(n);q(Vi,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>YA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>YA(e.remoteStore,i)),n._onlineComponents=e})}function TH(n){return T(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){q(Vi,"Using user provided OfflineComponentProvider");try{yield d_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Oi("Error using user provided cache. Falling back to memory cache: "+t),yield d_(n,new IN)}}else q(Vi,"Using default OfflineComponentProvider"),yield d_(n,new jE(void 0));return n._offlineComponents})}function wN(n){return T(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(q(Vi,"Using user provided OnlineComponentProvider"),yield tR(n,n._uninitializedComponentsProvider._online)):(q(Vi,"Using default OnlineComponentProvider"),yield tR(n,new wH))),n._onlineComponents})}function DH(n){return wN(n).then(e=>e.syncEngine)}function nR(n){return T(this,null,function*(){let e=yield wN(n),t=e.eventManager;return t.onListen=uH.bind(null,e.syncEngine),t.onUnlisten=hH.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=lH.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fH.bind(null,e.syncEngine),t})}function TN(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var rR=new Map;var DN="firestore.googleapis.com",iR=!0,Cf=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DN,this.ssl=iR}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:iR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<F$)throw new W(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new W(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new W(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new W(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ta=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new h_;switch(r.type){case"firstParty":return new m_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return T(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=rR.get(t);r&&(q("ComponentProvider","Removing Datastore"),rR.delete(t),r.terminate())})(this),Promise.resolve()}};function bN(n,e,t,r={}){var i;n=Ni(n,Ta);let o=wi(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(_h(`https://${u}`),Eh("Firestore",!0)),s.host!==DN&&s.host!==u&&Oi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!rr(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=wt.MOCK_USER;else{h=OS(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new W(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new wt(g)}n._authCredentials=new f_(new ef(h,p))}}var Sf=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ft=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Uu(t,n._jsonSchema))return new n(e,r||null,new re(Ze.fromString(t.referencePath)))}};Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:ct("string",Ft._jsonSchemaVersion),referencePath:ct("string")};var Mi=class n extends Sf{constructor(e,t,r){super(e,t,iI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new re(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function CN(n,e,...t){if(n=gt(n),lR("collection","path",e),n instanceof Ta){let r=Ze.fromString(e,...t);return wA(r),new Mi(n,null,r)}{if(!(n instanceof Ft||n instanceof Mi))throw new W(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ze.fromString(e,...t));return wA(r),new Mi(n.firestore,null,r)}}function mI(n,e,...t){if(n=gt(n),arguments.length===1&&(e=Ru.newId()),lR("doc","path",e),n instanceof Ta){let r=Ze.fromString(e,...t);return IA(r),new Ft(n,null,new re(r))}{if(!(n instanceof Ft||n instanceof Mi))throw new W(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ze.fromString(e,...t));return IA(r),new Ft(n.firestore,n instanceof Mi?n.converter:null,new re(r))}}var oR="AsyncQueue",Af=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new _f(this,"async_queue_retry"),this.oc=()=>{let r=l_();r&&q(oR,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=l_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=l_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new $r;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return T(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Sa(e))throw e;q(oR,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,zr("INTERNAL UNHANDLED ERROR: ",sR(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=RE.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&ie(47125,{hc:sR(this.tc)})}verifyOperationInProgress(){}Pc(){return T(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function sR(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function aR(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var ji=class extends Ta{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Af,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return T(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Af(e),this._firestoreClient=void 0,yield e}})}};function SN(n,e){let t=typeof n=="object"?n:bo(),r=typeof n=="string"?n:e||sf,i=Ys(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=xS("firestore");o&&bN(i,...o)}return i}function AN(n){if(n._terminated)throw new W(O.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||bH(n),n._firestoreClient}function bH(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,u,l,h){return new I_(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,TN(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new BE(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(n._componentsProvider))}var Pi=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Vt.fromBase64String(e))}catch(t){throw new W(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Uu(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Pi._jsonSchemaVersion="firestore/bytes/1.0",Pi._jsonSchema={type:ct("string",Pi._jsonSchemaVersion),bytes:ct("string")};var Da=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new W(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ju=class{constructor(e){this._methodName=e}};var ki=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new W(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new W(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Uu(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:ct("string",ki._jsonSchemaVersion),latitude:ct("number"),longitude:ct("number")};var xi=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Uu(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new W(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:ct("string",xi._jsonSchemaVersion),vectorValues:ct("object")};var CH=/^__.*__$/,$E=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new fr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uo(e,this.data,t,this.fieldTransforms)}},Rf=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new fr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function RN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie(40011,{Ec:n})}}var HE=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Mf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(RN(this.Ec)&&CH.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},zE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Vf(e)}Dc(e,t,r,i=!1){return new HE({Ec:e,methodName:t,bc:r,path:gn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function NN(n){let e=n._freezeSettings(),t=Vf(n._databaseId);return new zE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function SH(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);yI("Data must be an object, but it was:",s,r);let a=MN(r,s),u,l;if(o.merge)u=new bn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=qE(e,p,t);if(!s.contains(g))throw new W(O.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);kN(h,g)||h.push(g)}u=new bn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new $E(new pn(a),u,l)}var Nf=class n extends ju{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function AH(n,e,t,r){let i=n.Dc(1,e,t);yI("Data must be an object, but it was:",i,r);let o=[],s=pn.empty();Ui(r,(u,l)=>{let h=vI(e,u,t);l=gt(l);let p=i.gc(h);if(l instanceof Nf)o.push(h);else{let g=Bf(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new bn(o);return new Rf(s,a,i.fieldTransforms)}function RH(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[qE(e,r,t)],u=[i];if(o.length%2!=0)throw new W(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(qE(e,o[g])),u.push(o[g+1]);let l=[],h=pn.empty();for(let g=a.length-1;g>=0;--g)if(!kN(l,a[g])){let v=a[g],A=u[g];A=gt(A);let k=s.gc(v);if(A instanceof Nf)l.push(v);else{let P=Bf(A,k);P!=null&&(l.push(v),h.set(v,P))}}let p=new bn(l);return new Rf(h,p,s.fieldTransforms)}function Bf(n,e){if(PN(n=gt(n)))return yI("Unsupported field value:",e,n),MN(n,e);if(n instanceof ju)return(function(r,i){if(!RN(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=Bf(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return h$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ut.fromDate(r);return{timestampValue:ff(i.serializer,o)}}if(r instanceof ut){let o=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ff(i.serializer,o)}}if(r instanceof ki)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pi)return{bytesValue:XR(i.serializer,r._byteString)};if(r instanceof Ft){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:sI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof xi)return(function(s,a){return{mapValue:{fields:{[XE]:{stringValue:eI},[ha]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return oI(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${QE(r)}`)})(n,e)}function MN(n,e){let t={};return CR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ui(n,(r,i)=>{let o=Bf(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function PN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ut||n instanceof ki||n instanceof Pi||n instanceof Ft||n instanceof ju||n instanceof xi)}function yI(n,e,t){if(!PN(t)||!dR(t)){let r=QE(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function qE(n,e,t){if((e=gt(e))instanceof Da)return e._internalPath;if(typeof e=="string")return vI(n,e);throw Mf("Field path arguments must be of type string or ",n,!1,void 0,t)}var NH=new RegExp("[~\\*/\\[\\]]");function vI(n,e,t){if(e.search(NH)>=0)throw Mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Da(...e.split("."))._internalPath}catch{throw Mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Mf(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new W(O.INVALID_ARGUMENT,a+n+u)}function kN(n,e){return n.some(t=>t.isEqual(e))}var Pf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new GE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(xN("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},GE=class extends Pf{data(){return super.data()}};function xN(n,e){return typeof e=="string"?vI(n,e):e instanceof Da?e._internalPath:e._delegate._internalPath}function MH(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new W(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var WE=class{convertValue(e,t="none"){switch(Li(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ie(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ui(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[ha].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ye(s.doubleValue));return new xi(o)}convertGeoPoint(e){return new ki(Ye(e.latitude),Ye(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Of(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Pu(e));default:return null}}convertTimestamp(e){let t=qr(e);return new ut(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ze.fromString(e);Be(oN(r),9688,{name:e});let i=new af(r.get(1),r.get(3)),o=new re(r.popFirst(5));return i.isEqual(t)||zr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function PH(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var xo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Oo=class n extends Pf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ua(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(xN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new W(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Oo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Oo._jsonSchema={type:ct("string",Oo._jsonSchemaVersion),bundleSource:ct("string","DocumentSnapshot"),bundleName:ct("string"),bundle:ct("string")};var ua=class extends Oo{data(e={}){return super.data(e)}},la=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new xo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ua(this._firestore,this._userDataWriter,r.key,r,new xo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new W(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ua(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ua(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:kH(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new W(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ru.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function kH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie(61501,{type:n})}}la._jsonSchemaVersion="firestore/querySnapshot/1.0",la._jsonSchema={type:ct("string",la._jsonSchemaVersion),bundleSource:ct("string","QuerySnapshot"),bundleName:ct("string"),bundle:ct("string")};var kf=class extends WE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pi(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,t)}};function ON(n,e,t,...r){n=Ni(n,Ft);let i=Ni(n.firestore,ji),o=NN(i),s;return s=typeof(e=gt(e))=="string"||e instanceof Da?RH(o,"updateDoc",n._key,e,t,r):AH(o,"updateDoc",n._key,e),EI(i,[s.toMutation(n._key,Hr.exists(!0))])}function LN(n){return EI(Ni(n.firestore,ji),[new xu(n._key,Hr.none())])}function FN(n,e){let t=Ni(n.firestore,ji),r=mI(n),i=PH(n.converter,e);return EI(t,[SH(NN(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Hr.exists(!1))]).then(()=>r)}function _I(n,...e){var t,r,i;n=gt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||aR(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(aR(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof Ft)l=Ni(n.firestore,ji),h=iI(n._key.path),u={next:p=>{e[s]&&e[s](xH(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Ni(n,Sf);l=Ni(p.firestore,ji),h=p._query;let g=new kf(l);u={next:v=>{e[s]&&e[s](new la(l,g,p,v))},error:e[s+1],complete:e[s+2]},MH(n._query)}return(function(g,v,A,k){let P=new UE(k),j=new kE(v,P,A);return g.asyncQueue.enqueueAndForget(()=>T(null,null,function*(){return oH(yield nR(g),j)})),()=>{P.Ou(),g.asyncQueue.enqueueAndForget(()=>T(null,null,function*(){return sH(yield nR(g),j)}))}})(AN(l),h,a,u)}function EI(n,e){return(function(r,i){let o=new $r;return r.asyncQueue.enqueueAndForget(()=>T(null,null,function*(){return pH(yield DH(r),i,o)})),o.promise})(AN(n),e)}function xH(n,e,t){let r=t.docs.get(e._key),i=new kf(n);return new Oo(n,i,e._key,r,new xo(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){ba=i})(Di),Bn(new $t("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new ji(new p_(r.getProvider("auth-internal")),new y_(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new W(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new af(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),it(yA,vA,e),it(yA,vA,"esm2017")})();var $f=function(){return $f=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},$f.apply(this,arguments)};var FH={includeMetadataChanges:!1};function VN(n,e){return e===void 0&&(e=FH),new Ie(function(t){var r=_I(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function jN(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:$f($f({},r),(t={},t[e.idField]=n.id,t))}function UN(n){return VN(n,{includeMetadataChanges:!0}).pipe(Ae(function(e){return e.docs}))}function BN(n,e){return e===void 0&&(e={}),UN(n).pipe(Ae(function(t){return t.map(function(r){return jN(r,e)})}))}var Ho=class{constructor(e){return e}},$N="firestore",II=class{constructor(){return Js($N)}};var wI=new X("angularfire2.firestore-instances");function VH(n,e){let t=lu($N,n,e);return t&&new Ho(t)}function jH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ho(r)}}var UH={provide:II,deps:[[new cn,wI]]},BH={provide:Ho,useFactory:VH,deps:[[new cn,wI],Lr]};function HN(n,...e){return it("angularfire",bi.full,"fst"),Pn([BH,UH,{provide:wI,useFactory:jH(n),multi:!0,deps:[He,_t,Ci,So,[new cn,wu],[new cn,Xs],...e]}])}var zN=Ot(BN,!0);var qN=Ot(FN,!0,2);var GN=Ot(CN,!0,2);var WN=Ot(LN,!0,2);var TI=Ot(mI,!0,2);var KN=Ot(SN,!0);var QN=Ot(ON,!0,2);var YN={providers:[$m({eventCoalescing:!0}),qy(RS),c0(()=>u0({projectId:"apis-35db4",appId:"1:210077344166:web:3bc8c55e550f9dc8cd6f67",storageBucket:"apis-35db4.firebasestorage.app",apiKey:"AIzaSyCSKCJHtS2wHsPNbbjrND9uwUdZZNtfQps",authDomain:"apis-35db4.firebaseapp.com",messagingSenderId:"210077344166",measurementId:"G-MKHKCE3N0T"})),HN(()=>KN()),lA(()=>hA())]};var Hf=class n{firestore=V(Ho);auth=V(Mo);galeriaCollection=GN(this.firestore,"galeria");user$=dA(this.auth);_obras$=zN(this.galeriaCollection,{idField:"id"});getObras(){return this._obras$}agregarObra(e){return qN(this.galeriaCollection,e)}actualizarObra(e,t){let r=TI(this.firestore,"galeria",e);return QN(r,t)}borrarObra(e){let t=TI(this.firestore,"galeria",e);return WN(t)}login(){return fA(this.auth,new Kv)}logout(){return pA(this.auth)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})};function $H(n,e){n&1&&(Sr(),ae(0,"svg",23),Zt(1,"path",32),le())}function HH(n,e){n&1&&(Sr(),ae(0,"svg",23),Zt(1,"path",33),le())}function zH(n,e){if(n&1){let t=xs();ae(0,"button",34),tr("click",function(){hi(t);let i=ln();return fi(i.login())}),xe(1),le()}if(n&2){let t=ln();Ce(),Vn(" ",t.textos[t.idioma].entrar," ")}}function qH(n,e){if(n&1){let t=xs();ae(0,"div",35),Zt(1,"img",36),ae(2,"button",37),tr("click",function(){hi(t);let i=ln();return fi(i.logout())}),xe(3),le()()}if(n&2){let t=ln();Ce(),un("src",t.usuario.photoURL,Rd),Ce(2),rt(t.textos[t.idioma].salir)}}function GH(n,e){if(n&1){let t=xs();ae(0,"button",38),tr("click",function(){hi(t);let i=ln();return fi(i.nuevaObra())}),xe(1,"+"),le()}}function WH(n,e){if(n&1){let t=xs();ae(0,"div",43)(1,"button",44),tr("click",function(){hi(t);let i=ln().$implicit,o=ln();return fi(o.editarObra(i))}),xe(2),le(),ae(3,"button",45),tr("click",function(){hi(t);let i=ln().$implicit,o=ln();return fi(o.borrarObra(i.id))}),xe(4),le()()}if(n&2){let t=ln(2);Ce(2),rt(t.textos[t.idioma].editar),Ce(2),rt(t.textos[t.idioma].borrar)}}function KH(n,e){if(n&1&&(ae(0,"div",39),Zt(1,"img",40),ae(2,"div",41)(3,"h3"),xe(4),le(),ae(5,"p")(6,"strong"),xe(7),le(),xe(8),le(),ae(9,"p")(10,"strong"),xe(11),le(),xe(12),le(),ae(13,"small"),xe(14),le(),vi(15,WH,5,2,"div",42),le()()),n&2){let t=e.$implicit,r=ln();Ce(),un("src",t.url,Rd),Ce(3),rt(t.titulo),Ce(3),Vn("",r.textos[r.idioma].lbl_autor,":"),Ce(),Vn(" ",t.autor),Ce(3),Vn("",r.textos[r.idioma].lbl_cat,":"),Ce(),Vn(" ",r.traducirCat(t.categoria)," "),Ce(2),Fd("",r.textos[r.idioma].lbl_fecha,": ",t.fecha),Ce(),un("ngIf",r.usuario)}}var ZN=".contenedor-principal[_ngcontent-%COMP%]{--fondo: #FFD699;--primario: #FF9933;--texto-fuerte: #CC6600;--tarjeta-bg: #ffffff;--texto: #333;min-height:100vh;font-family:Segoe UI,sans-serif;background-color:var(--fondo);color:var(--texto);transition:all .3s ease;display:flex;flex-direction:column}.contenedor-principal.oscuro[_ngcontent-%COMP%]{--fondo: #1a1a1a;--primario: #CC6600;--texto-fuerte: #FF9933;--tarjeta-bg: #2d2d2d;--texto: #f0f0f0}header[_ngcontent-%COMP%]{background-color:var(--primario);padding:10px 30px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 4px 10px #0003;color:#fff}.logo[_ngcontent-%COMP%]{display:flex;align-items:center}.logo-img[_ngcontent-%COMP%]{height:50px;width:auto;object-fit:contain}.menu-principal[_ngcontent-%COMP%]{display:flex;gap:20px;margin:0 20px}.link-menu[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:500;padding:5px 10px;border-radius:4px;transition:background .3s;font-size:1rem}.link-menu[_ngcontent-%COMP%]:hover{background-color:#fff3}.link-menu.activo[_ngcontent-%COMP%]{border-bottom:2px solid white}@media (max-width: 768px){.menu-principal[_ngcontent-%COMP%]{display:none}}.controles[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}button[_ngcontent-%COMP%]{border:none;padding:8px 15px;border-radius:5px;cursor:pointer;font-weight:700;transition:transform .1s}button[_ngcontent-%COMP%]:active{transform:scale(.95)}.btn-login[_ngcontent-%COMP%]{background:#fff;color:var(--primario)}.btn-logout[_ngcontent-%COMP%]{background:#c0392b;color:#fff}.btn-flotante[_ngcontent-%COMP%]{position:fixed;bottom:30px;right:30px;width:60px;height:60px;border-radius:50%;background:var(--texto-fuerte);color:#fff;font-size:30px;box-shadow:0 4px 10px #0000004d;z-index:100}.btn-icono[_ngcontent-%COMP%]{background-color:transparent;border:2px solid white;color:#fff;width:40px;height:40px;display:flex;justify-content:center;align-items:center;cursor:pointer;padding:0;border-radius:0;transition:all .3s}.btn-icono[_ngcontent-%COMP%]:hover{background-color:#fff;color:var(--primario)}.btn-icono[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;fill:currentColor}.perfil[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:2px solid white}main[_ngcontent-%COMP%]{flex:1;padding:30px;max-width:1200px;margin:0 auto;width:100%;box-sizing:border-box}.galeria-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px}.tarjeta[_ngcontent-%COMP%]{background:var(--tarjeta-bg);border-radius:10px;overflow:hidden;box-shadow:0 5px 15px #0000001a;border:1px solid var(--primario)}.imagen-obra[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover}.cuerpo-tarjeta[_ngcontent-%COMP%]{padding:15px}.cuerpo-tarjeta[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--texto-fuerte);margin:0 0 10px}.acciones[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:15px}.btn-editar[_ngcontent-%COMP%]{background:#f39c12;color:#fff;flex:1}.btn-borrar[_ngcontent-%COMP%]{background:#e74c3c;color:#fff;flex:1}.footer-profesional[_ngcontent-%COMP%]{background-color:#2c2c2c;color:#fff;margin-top:auto;border-top:5px solid #444}.footer-contenido[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;padding:50px 20px;max-width:1200px;margin:0 auto;gap:30px}.columna[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;text-transform:uppercase;color:#ddd;margin-bottom:20px;letter-spacing:1px}.columna[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.columna[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.columna[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#bbb;text-decoration:none;font-size:14px;transition:color .3s}.columna[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:underline}.columna[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#bbb;line-height:1.6;margin:5px 0}.redes-iconos[_ngcontent-%COMP%]{display:flex;gap:15px}.icono[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:45px;height:45px;border:2px solid white;color:#fff;text-decoration:none;transition:all .3s}.icono[_ngcontent-%COMP%]:hover{background-color:#fff;color:#2c2c2c;transform:translateY(-3px)}.icono[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;fill:currentColor;transition:fill .3s}.icono[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{fill:#2c2c2c}.footer-bottom[_ngcontent-%COMP%]{background-color:#1f1f1f;text-align:right;padding:15px 10%;font-size:12px;color:#888}.footer-bottom[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 10px;cursor:pointer}.footer-bottom[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#fff}@media (max-width: 768px){.footer-contenido[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.redes-iconos[_ngcontent-%COMP%]{justify-content:center}.footer-bottom[_ngcontent-%COMP%]{text-align:center}}",zf=class n{firestoreService=V(Hf);obras=[];usuario=null;modoOscuro=!1;idioma="es";textos={es:{titulo:"Galer\xEDa Arte",entrar:"Entrar con Google",salir:"Salir",borrar:"Borrar",editar:"Editar",agregar:"Nueva Obra",pie:"Derechos Reservados",menu_inicio:"Inicio",menu_galeria:"Galer\xEDa",menu_nosotros:"Nosotros",menu_contacto:"Contacto",lbl_autor:"Autor",lbl_cat:"Categor\xEDa",lbl_fecha:"Fecha",ft_tit1:"\xBFQU\xC9 ENCONTRAR\xC1S?",ft_l1:"Obras Originales",ft_l2:"Artistas Emergentes",ft_l3:"Exposiciones Virtuales",ft_l4:"Subastas en Vivo",ft_tit2:"S\xCDGUENOS EN REDES",ft_tit3:"\xBFNOS CUENTAS TU PROYECTO?",ft_desc:"Espacio de difusi\xF3n cultural y venta de obras.",ft_dir:"C/ De las Artes 33. Madrid, Espa\xF1a",ft_aviso:"Aviso legal",ft_priv:"Privacidad y Cookies"},en:{titulo:"Art Gallery",entrar:"Login with Google",salir:"Logout",borrar:"Delete",editar:"Edit",agregar:"New Artwork",pie:"All Rights Reserved",menu_inicio:"Home",menu_galeria:"Gallery",menu_nosotros:"About Us",menu_contacto:"Contact",lbl_autor:"Author",lbl_cat:"Category",lbl_fecha:"Date",ft_tit1:"WHAT WILL YOU FIND?",ft_l1:"Original Artworks",ft_l2:"Emerging Artists",ft_l3:"Virtual Exhibitions",ft_l4:"Live Auctions",ft_tit2:"FOLLOW US",ft_tit3:"TELL US ABOUT YOUR PROJECT",ft_desc:"Space for cultural dissemination and art sales.",ft_dir:"33 De las Artes St. Madrid, Spain",ft_aviso:"Legal Notice",ft_priv:"Privacy & Cookies"}};categoriasTraducidas={Naturaleza:"Nature",General:"General",Ciudad:"City",Paisaje:"Landscape",Retrato:"Portrait",Bodeg\u00F3n:"Still Life",Abstracto:"Abstract",Antig\u00FCedades:"Antiques",Marino:"Seascape",Arquitectura:"Architecture"};ngOnInit(){this.firestoreService.getObras().subscribe(e=>{this.obras=e,console.log("\xA1Aqu\xED est\xE1 el array!:",this.obras)}),this.firestoreService.user$.subscribe(e=>this.usuario=e)}cambiarTema(){this.modoOscuro=!this.modoOscuro}cambiarIdioma(){this.idioma=this.idioma==="es"?"en":"es"}login(){this.firestoreService.login()}logout(){this.firestoreService.logout()}traducirCat(e){return this.idioma==="en"&&this.categoriasTraducidas[e]?this.categoriasTraducidas[e]:e}nuevaObra(){if(!this.usuario)return;let e=prompt("T\xEDtulo de la obra:"),t=prompt("URL de la imagen:","https://picsum.photos/300");if(e&&t){let r={titulo:e,url:t,autor:this.usuario.displayName,categoria:"General",fecha:new Date().toISOString().split("T")[0]};this.firestoreService.agregarObra(r)}}editarObra(e){if(!this.usuario)return;let t=prompt("Nuevo t\xEDtulo:",e.titulo);t&&this.firestoreService.actualizarObra(e.id,{titulo:t})}borrarObra(e){this.usuario&&confirm("\xBFSeguro que deseas eliminar esta obra?")&&this.firestoreService.borrarObra(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xc({type:n,selectors:[["app-root"]],decls:79,vars:26,consts:[[1,"contenedor-principal"],[1,"logo"],["src","https://content.app-sources.com/s/90170924511257495/uploads/Imagenes_comprimidas/Logo_Black_Premium_Art_Gallery_Nov_2024-3515428-3515925.png?format=webp","alt","Premium Art Gallery",1,"logo-img"],[1,"menu-principal"],["href","#",1,"link-menu","activo"],["href","#",1,"link-menu"],[1,"controles"],[1,"btn-icono",3,"click","title"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",4,"ngIf"],["title","Idioma",1,"btn-icono",3,"click"],[2,"font-size","14px","font-weight","bold"],["class","btn-login",3,"click",4,"ngIf"],["class","perfil",4,"ngIf"],["class","btn-flotante","title","Agregar",3,"click",4,"ngIf"],[1,"galeria-grid"],["class","tarjeta",4,"ngFor","ngForOf"],[1,"footer-profesional"],[1,"footer-contenido"],[1,"columna"],["href","#"],[1,"columna","centro"],[1,"redes-iconos"],["href","#","aria-label","Tw",1,"icono"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24"],["d","M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"],["href","#","aria-label","Ig",1,"icono"],["d","M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.851 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.85-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.851.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.85-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"],["href","#","aria-label","G+",1,"icono"],["d","M7 11v2.4h3.97c-.16 1.029-1.2 3.02-3.97 3.02-2.39 0-4.34-1.979-4.34-4.42 0-2.44 1.95-4.42 4.34-4.42 1.36 0 2.27.58 2.79 1.08l1.9-1.83c-1.22-1.14-2.8-1.83-4.69-1.83-3.87 0-7 3.13-7 7s3.13 7 7 7c4.04 0 6.721-2.84 6.721-6.84 0-.46-.051-.81-.111-1.16h-6.61zm0 0 17 2h-3v3h-2v-3h-3v-2h3v-3h2v3h3v2z"],["href","#","aria-label","In",1,"icono"],["d","M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"],[1,"footer-bottom"],["d","M6.995 12c0 2.761 2.246 5.007 5.007 5.007s5.007-2.246 5.007-5.007-2.246-5.007-5.007-5.007S6.995 9.239 6.995 12zM11 19h2v3h-2zm0-17h2v3h-2zm-9 9h3v2h-3zm17 0h3v2h-3zM5.637 19.778l-1.414-1.414 2.121-2.121 1.414 1.414zM16.242 6.344l2.122-2.122 1.414 1.414-2.122 2.122zM6.344 7.759 4.223 5.637l1.415-1.414 2.12 2.122zm13.434 10.605-1.414 1.414-2.122-2.122 1.414-1.414z"],["d","M12 11.807A9.002 9.002 0 0 1 10.049 2a9.942 9.942 0 0 0-5.12 2.735c-3.905 3.905-3.905 10.237 0 14.142 3.906 3.906 10.237 3.905 14.143 0a9.946 9.946 0 0 0 2.735-5.119A9.003 9.003 0 0 1 12 11.807z"],[1,"btn-login",3,"click"],[1,"perfil"],["alt","User",1,"avatar",3,"src"],[1,"btn-logout",3,"click"],["title","Agregar",1,"btn-flotante",3,"click"],[1,"tarjeta"],["alt","Arte",1,"imagen-obra",3,"src"],[1,"cuerpo-tarjeta"],["class","acciones",4,"ngIf"],[1,"acciones"],[1,"btn-editar",3,"click"],[1,"btn-borrar",3,"click"]],template:function(t,r){t&1&&(ae(0,"div",0)(1,"header")(2,"div",1),Zt(3,"img",2),le(),ae(4,"nav",3)(5,"a",4),xe(6),le(),ae(7,"a",5),xe(8),le(),ae(9,"a",5),xe(10),le(),ae(11,"a",5),xe(12),le()(),ae(13,"div",6)(14,"button",7),tr("click",function(){return r.cambiarTema()}),vi(15,$H,2,0,"svg",8)(16,HH,2,0,"svg",8),le(),ae(17,"button",9),tr("click",function(){return r.cambiarIdioma()}),ae(18,"span",10),xe(19),le()(),vi(20,zH,2,1,"button",11)(21,qH,4,2,"div",12),le()(),ae(22,"main"),vi(23,GH,2,0,"button",13),ae(24,"div",14),vi(25,KH,16,9,"div",15),le()(),ae(26,"footer",16)(27,"div",17)(28,"div",18)(29,"h3"),xe(30),le(),ae(31,"ul")(32,"li")(33,"a",19),xe(34),le()(),ae(35,"li")(36,"a",19),xe(37),le()(),ae(38,"li")(39,"a",19),xe(40),le()(),ae(41,"li")(42,"a",19),xe(43),le()()()(),ae(44,"div",20)(45,"h3"),xe(46),le(),ae(47,"div",21)(48,"a",22),Sr(),ae(49,"svg",23),Zt(50,"path",24),le()(),lo(),ae(51,"a",25),Sr(),ae(52,"svg",23),Zt(53,"path",26),le()(),lo(),ae(54,"a",27),Sr(),ae(55,"svg",23),Zt(56,"path",28),le()(),lo(),ae(57,"a",29),Sr(),ae(58,"svg",23),Zt(59,"path",30),le()()()(),lo(),ae(60,"div",18)(61,"h3"),xe(62),le(),ae(63,"p")(64,"strong"),xe(65),le(),xe(66),le(),ae(67,"p"),xe(68),le(),ae(69,"p"),xe(70,"Tel: +34 91 759 91 27"),le(),ae(71,"p"),xe(72,"Mail: contacto@galeria-arte.com"),le()()(),ae(73,"div",31)(74,"span"),xe(75),le(),xe(76," | "),ae(77,"span"),xe(78),le()()()()),t&2&&(Ld("oscuro",r.modoOscuro),Ce(6),rt(r.textos[r.idioma].menu_inicio),Ce(2),rt(r.textos[r.idioma].menu_galeria),Ce(2),rt(r.textos[r.idioma].menu_nosotros),Ce(2),rt(r.textos[r.idioma].menu_contacto),Ce(2),un("title",r.modoOscuro?"Modo Claro":"Modo Oscuro"),Ce(),un("ngIf",r.modoOscuro),Ce(),un("ngIf",!r.modoOscuro),Ce(3),rt(r.idioma==="es"?"EN":"ES"),Ce(),un("ngIf",!r.usuario),Ce(),un("ngIf",r.usuario),Ce(2),un("ngIf",r.usuario),Ce(2),un("ngForOf",r.obras),Ce(5),rt(r.textos[r.idioma].ft_tit1),Ce(4),rt(r.textos[r.idioma].ft_l1),Ce(3),rt(r.textos[r.idioma].ft_l2),Ce(3),rt(r.textos[r.idioma].ft_l3),Ce(3),rt(r.textos[r.idioma].ft_l4),Ce(3),rt(r.textos[r.idioma].ft_tit2),Ce(16),rt(r.textos[r.idioma].ft_tit3),Ce(3),Vn("",r.textos[r.idioma].titulo,":"),Ce(),Vn(" ",r.textos[r.idioma].ft_desc),Ce(2),rt(r.textos[r.idioma].ft_dir),Ce(7),rt(r.textos[r.idioma].ft_aviso),Ce(3),rt(r.textos[r.idioma].ft_priv))},dependencies:[qd,zd,ey],styles:[ZN,ZN]})};ly(zf,YN).catch(n=>console.error(n));
